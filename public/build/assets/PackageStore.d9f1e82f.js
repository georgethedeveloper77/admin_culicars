import{a as P,P as l,b as S}from"./PsApiService.9afc2356.js";import{P as f,a as w}from"./Package.5254ef20.js";import{P as L}from"./PsObject.a17ef38f.js";import{P as g,a as y}from"./PaymentInfo.5aa268a0.js";import{A}from"./ApiStatus.5720ba0b.js";import{aa as C,y as m,i as K}from"./app.2982e019.js";import{m as W}from"./PsSepetetedStore.9a31ac47.js";class p extends L{constructor(){super(...arguments),this.id="",this.paymentId="",this.coreKeysId="",this.shopId="",this.payment=new g,this.purchasedCount="",this.paymentInfo=new y,this.paymentAttributes=new f,this.addedDateStr=""}init(t,s,e,r,u,i,c,d,h){return this.id=t,this.paymentId=s,this.coreKeysId=e,this.shopId=r,this.payment=u,this.purchasedCount=i,this.paymentInfo=c,this.paymentAttributes=d,this.addedDateStr=h,this}getPrimaryKey(){return this.id}toMap(t){const s={};return s.id=t.id,s.payment_id=t.paymentId,s.coreKeys_id=t.coreKeysId,s.shop_id=t.shopId,s.payment=new g().toMap(t.payment),s.purchased_count=t.purchasedCount,s.payment_info=new y().toMap(t.paymentInfo),s.payment_attributes=new f().toMap(t.paymentAttributes),s.added_date_str=t.addedDateStr,s}toMapList(t){const s=[];for(let e=0;e<t.length;e++)t[e]!=null&&s.push(this.toMap(t[e]));return s}fromMap(t){return new p().init(t.id,t.payment_id,t.core_keys_id,t.shop_id,new g().fromMap(t.payment),t.purchased_count,new y().fromMap(t.payment_info),new f().fromMap(t.payment_attributes),t.added_date_str)}fromMapList(t){const s=[];for(const e in t)e!=null&&s.push(this.fromMap(e));return s}}const q=W(v=>C(`packageStore/${v}`,()=>{const t=m(new P),s=m(new P),e=m({value:!1});let r=K(30),u=0;const i=m({value:!1});function c(){return(t==null?void 0:t.data)!=null&&t.data.length>0}function d(a){var n,o;t!=null&&t.data!=null&&t.data.length>0&&u!=0?(a.data!=null&&a.data.length>0?(((n=a.data)==null?void 0:n.length)<r.value?i.value=!0:i.value=!1,t.data.push(...a.data)):i.value=!0,t.code=a.code,t.status=a.status,t.message=a.message):(((o=a.data)==null?void 0:o.length)<r.value||a.data==null?i.value=!0:i.value=!1,t.data=a.data,t.code=a.code,t.status=a.status,t.message=a.message),t!=null&&t.data!=null&&(u=t.data.length)}async function h(a){u=0,e.value=!0;const n=await l.getPackageList(new w,a);d(n),e.value=!1}async function _(a){e.value=!0;const n=await l.getPackageList(new w,a);d(n),e.value=!1}async function I(a){e.value=!0;const n=await l.getPackageListWithPurchasedCount(new p,a);return t.data=n.data,t.code=n.code,t.status=n.status,t.message=n.message,e.value=!1,t}async function k(a){e.value=!0;const n=await S.wrapDataFromProps(new p,a);return t.data=n.data,t.code=n.code,t.status=n.status,t.message=n.message,e.value=!1,t}async function M(a,n){e.value=!0;const o=await l.postPackageBought(new A,a,n.toMap());return e.value=!1,o}return{isNoMoreRecord:i,loading:e,limit:r,offset:u,packageList:t,limitItem:s,resetPackageList:h,loadPackageList:_,postPackageBought:M,packageListWithPurchasedCount:I,hasData:c,packageListWithPurchasedCountProps:k}}));export{q as u};
