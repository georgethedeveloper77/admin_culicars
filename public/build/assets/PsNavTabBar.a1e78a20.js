import{D as O,d as U,i as m,Q as $,j,_ as z,C as E,o as s,c as d,a as r,h as R,b as t,f as k,w as n,q as g,t as p,g as I,F as x,s as F,n as V,r as u}from"./app.2982e019.js";import Y from"./PsIcon.515a10c8.js";import q from"./PsDropdown.2a6cc373.js";import Q from"./PsDropdownSelect.ce61e1c2.js";import W from"./PsIconToggle.e81615f0.js";import M from"./PsInputWithLeftIcon.f3f18e1b.js";import G from"./PsLabel.c51f2c9d.js";import{P as J}from"./PsValueStore.eb9430a0.js";import{u as X}from"./AppInfoStore.f8d22516.js";import{u as Z}from"./ItemLocationTownshipStore.fe0ada29.js";import{L as oo,u as eo}from"./LocationParameterHolder.9e411c2e.js";import{P as ao}from"./PsUtils.bbfda905.js";import{A as to}from"./AppInfoParameterHolder.e24d894d.js";import{u as no}from"./ThemeStore.40343845.js";import{u as so}from"./LanguageStore.8f1cddd7.js";import{_ as lo}from"./plugin-vue_export-helper.21dcd24c.js";import"./PsApiService.9afc2356.js";import"./PsObject.a17ef38f.js";import"./DefaultPhoto.cc755f93.js";import"./ps_constants.0e2a11f9.js";import"./ItemLocation.d1b92a80.js";import"./PsSepetetedStore.9a31ac47.js";const ro=O(()=>z(()=>import("./LocationModal.348f815d.js"),["assets/LocationModal.348f815d.js","assets/app.2982e019.js","assets/app.aea728e4.css","assets/PsModal.36ad7f82.js","assets/PsModal.20c3503a.css","assets/vue-neat-modal.2bf17e6b.js","assets/vue-neat-modal.29af7d11.css","assets/PsLine.ea3266c0.js","assets/plugin-vue_export-helper.21dcd24c.js","assets/ThemeStore.40343845.js","assets/LanguageStore.8f1cddd7.js","assets/PsLabel.c51f2c9d.js","assets/PsIcon.515a10c8.js","assets/PsButton.7f6705bd.js","assets/PsDropdown.2a6cc373.js","assets/PsValueStore.eb9430a0.js","assets/PsInputWithLeftIcon.f3f18e1b.js","assets/PsLabelCaption.54d4aa23.js","assets/LocationParameterHolder.9e411c2e.js","assets/PsApiService.9afc2356.js","assets/ItemLocation.d1b92a80.js","assets/PsObject.a17ef38f.js","assets/PsSepetetedStore.9a31ac47.js","assets/ps_constants.0e2a11f9.js","assets/AppInfoStore.f8d22516.js","assets/DefaultPhoto.cc755f93.js","assets/ItemLocationTownshipStore.fe0ada29.js"])),io=U({components:{PsIcon:Y,PsIconToggle:W,PsDropdown:q,PsLabel:G,PsDropdownSelect:Q,LocationModal:ro,PsInputWithLeftIcon:M},props:{topOfPage:{type:Boolean,default:!1}},setup(o){const a=no(),C=so(),P=m(localStorage.activeLanguage),f=J(),S=X(),c=f.getLoginUserId(),l=m(!1),y=new oo().getDefaultParameterHolder(),_=new to;_.userId=c;const b=m($().props.languages),w=m(""),e=eo("navtab-location"),h=Z("navtab-township"),D=m(!0),v=m();function T(i){this.filteredLanguage=$().props.languages.filter(L=>L.name.toLowerCase().includes(i.toLowerCase()))}function B(i){E(i.symbol),C.setActiveLanguage(i.symbol),document.cookie=`activeLanguage=${i.symbol}; max-age=31536000; path=/`,setTimeout(()=>{window.location.reload()},1e3)}async function K(){l.value=!0,await ao.waitingComponent(v),v.value.openModal()}async function A(){var L,N;await e.resetItemLocationList(c,y);let i=(N=(L=S.appInfo.data)==null?void 0:L.psAppSetting)==null?void 0:N.isSubLocation;(localStorage.locationName===""||localStorage.locationName===void 0)&&(localStorage.locationName="Select Your Location",localStorage.locationId="",localStorage.locationLat="",localStorage.locationLng=""),i=="1"&&(localStorage.subLocationName===""||localStorage.subLocationName===void 0)?(localStorage.subLocationId="",localStorage.subLocationName="All"):i!="1"&&(localStorage.subLocationName!==""||localStorage.subLocationName!==void 0)&&(localStorage.subLocationId="",localStorage.subLocationName=""),f.replaceLocation(localStorage.locationId,localStorage.locationName,localStorage.locationLat,localStorage.locationLng),f.replaceSubLocation(localStorage.subLocationId,localStorage.subLocationName)}function H(){window.location.pathname.includes("item-list")?location.replace(window.location.origin+window.location.pathname+`?item_location_id=${localStorage.locationId}&item_location_township_id=${localStorage.subLocationId}&order_by=added_date&order_type=desc&status=1`):window.location.reload()}return j(()=>{A()}),{handleLanguage:B,activeLanguage:P,dataReady:D,ps_location_modal:v,itemLocationTownshipStore:h,itemLocationStore:e,openLocationModal:K,changeLocation:H,loadLocationData:A,languageSearch:T,appInfoStore:S,psValueStore:f,PsInputWithLeftIcon:M,filteredLanguage:b,languageKeys:w,showLocationModal:l,themeStore:a}}}),co={class:"flex justify-between w-full mx-4 xl:w-feLarge lg:w-large sm:mx-6 lg:mx-auto"},mo={key:0,class:"flex gap-4"},po={class:""},uo=["id"],go={key:0},fo=r("hr",{class:"bg-feSecondary-400 h-0.5"},null,-1),ho={class:"z-30 pt-1"},Lo={key:0},So={key:1},yo=["onClick"],_o={class:"flex items-center gap-3"},bo=g("Dark");function wo(o,a,C,P,f,S){const c=u("ps-icon"),l=u("ps-label"),y=u("ps-input-with-left-icon"),_=u("ps-dropdown"),b=u("ps-icon-toggle"),w=u("location-modal");return s(),d(x,null,[r("nav",{class:V(["fixed z-50 flex items-center w-full h-10 bg-feSecondary-900",o.topOfPage?" ":"hidden"])},[r("div",co,[r("div",{class:"flex items-center cursor-pointer",onClick:a[0]||(a[0]=R((...e)=>o.openLocationModal&&o.openLocationModal(...e),["prevent"]))},[t(c,{name:"locationBig",class:"text-feSecondary-100 me-2"}),o.psValueStore.locationName!="Select Your Location"?(s(),k(l,{key:0,textColor:"text-feSecondary-200 dark:text-feAchromatic-50",class:"hidden text-sm md:block"},{default:n(()=>{var e,h;return[g(p(o.psValueStore.locationName)+p(((h=(e=o.appInfoStore.appInfo.data)==null?void 0:e.psAppSetting)==null?void 0:h.isSubLocation)=="1"?`,${o.psValueStore.subLocationName}`:""),1)]}),_:1})):(s(),k(l,{key:1,textColor:"text-feSecondary-200 dark:text-feAchromatic-50",class:"hidden text-sm md:block"},{default:n(()=>[g(p(o.$t("select_your_location")),1)]),_:1}))]),o.dataReady?(s(),d("div",mo,[r("div",po,[t(_,{h:"h-64",align:"left"},{select:n(()=>[t(l,{class:""},{default:n(()=>[r("button",{type:"button",class:"inline-flex items-center content-start justify-between w-full text-sm font-medium leading-5 transition duration-150 ease-in-out focus:outline-none btn-focus text-feAchromatic-50",id:o.$page.props.languages.filter(e=>e.symbol==o.activeLanguage)[0].name,"aria-haspopup":"true","aria-expanded":"true"},[g(p(o.$page.props.languages.filter(e=>e.symbol==o.activeLanguage)[0].name)+" ",1),t(c,{name:"downArrow",textColor:"text-feAchromatic-50",class:"ms-2",w:"24",h:"24"})],8,uo)]),_:1})]),filter:n(()=>[r("div",null,[t(y,{class:"shadow-none bg-feSecondary-100 dark:bg-transparent",rounded:"rounded-none",theme:"border-none  focus:ring-0 focus:ring-transparent text-feSecondary-500 dark:text-feAchromatic-50",height:"h-10",placeholderColor:"placeholder-feSecondary-300",onKeyup:a[2]||(a[2]=e=>o.languageSearch(o.languageKeys)),value:o.languageKeys,"onUpdate:value":a[3]||(a[3]=e=>o.languageKeys=e),placeholder:o.$t("search_language"),style:{width:"14.5rem"}},{icon:n(()=>[t(c,{textColor:"text-fePrimary-500 dark:text-feAchromatic-500",name:"search",class:"cursor-pointer"})]),removeIcon:n(()=>[o.languageKeys!=""?(s(),d("div",go,[t(c,{textColor:"text-feAchromatic-500 dark:text-feAchromatic-500",name:"close",class:"cursor-pointer",onClick:a[1]||(a[1]=e=>[o.languageKeys="",o.filteredLanguage=o.$page.props.languages])})])):I("",!0)]),_:1},8,["value","placeholder"])]),fo]),list:n(()=>[r("div",ho,[o.filteredLanguage.length===0?(s(),d("div",Lo,[t(l,{class:"ms-2"},{default:n(()=>[g(p(o.$t("no_result_found")),1)]),_:1})])):(s(),d("div",So,[(s(!0),d(x,null,F(o.filteredLanguage,e=>(s(),d("div",{key:e.id,class:"flex items-center w-56 px-2 py-4 cursor-pointer hover:bg-fePrimary-50 dark:hover:bg-fePrimary-900",onClick:h=>o.handleLanguage(e)},[t(l,{class:V(["ms-2",e.symbol==o.activeLanguage?" font-bold":""])},{default:n(()=>[g(p(e.name),1)]),_:2},1032,["class"])],8,yo))),128))]))])]),_:1})]),r("div",_o,[t(l,{textColor:"text-feAchromatic-50"},{default:n(()=>[bo]),_:1}),t(b,{selectedValue:o.themeStore.isDarkMode,onOnChange:a[4]||(a[4]=e=>o.themeStore.toggleDarkMode())},null,8,["selectedValue"])])])):I("",!0)])],2),o.showLocationModal?(s(),k(w,{key:0,onChangeLocation:o.changeLocation,ref:"ps_location_modal"},null,8,["onChangeLocation"])):I("",!0)],64)}var Fo=lo(io,[["render",wo]]);export{Fo as default};
