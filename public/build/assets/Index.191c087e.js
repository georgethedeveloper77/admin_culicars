import{aa as K,A as m,D,_ as P,G as h,i as p,j as Q,o as l,c as M,b as a,E as s,f,w as r,q as C,t as v,g as u,F as X,B as Y,r as J}from"./app.2982e019.js";import{P as w}from"./PsUtils.bbfda905.js";import{P as Z}from"./PsLabel.8e7b338e.js";import{P as b}from"./PsButton.60128369.js";import{P as ee}from"./PsTable2.f1c5d383.js";import{P as te}from"./PsBreadcrumb2.92714552.js";import{P as oe}from"./PsToggle.5b24d11e.js";import{P as y}from"./PsIcon.e7a5adcd.js";import{u as re}from"./CategoryStore.eba47e60.js";import"./PsStore.6f734180.js";import{m as ae}from"./PsSepetetedStore.9a31ac47.js";import{_ as ne}from"./PsLayout.568c8fbc.js";import"./plugin-vue_export-helper.21dcd24c.js";import"./PsTextButton.a77542e1.js";import"./PsTableSearch.51ac3161.js";import"./PsDropdown.3b1e9581.js";import"./PsDropdownSelect.b154c567.js";import"./PsDangerDialog.7d01f7b5.js";import"./PsModal.62a4a1d3.js";import"./vue-neat-modal.2bf17e6b.js";import"./ThemeStore.40343845.js";import"./LanguageStore.8f1cddd7.js";import"./PsInputWithRightIcon.b34d7fa0.js";import"./moment.9709ab41.js";import"./PsIcon1.0883f10e.js";import"./Icons.c01eddd9.js";import"./toggle.ae92e5df.js";/* empty css                                                             */import"./PsApiService.9afc2356.js";import"./Category.7c65464b.js";import"./DefaultIcon.e76b39a5.js";import"./PsObject.a17ef38f.js";import"./DefaultPhoto.cc755f93.js";import"./PsWarningDialog.2baf785b.js";import"./index.esm.8fcef60c.js";import"./auth.esm.be6b9a90.js";import"./SideMenuStore.ed2aa07c.js";import"./SidebarMenuItem.6b029457.js";import"./PsErrorDialog.ccf1ce18.js";import"./AppInfoStore.6a348fbd.js";import"./NotificationStore.af68b63a.js";import"./index.esm.7ce161a7.js";import"./NotiUnRegisterHolder.eefb692e.js";import"./ps_constants.0e2a11f9.js";const ie=ae(d=>K(`tableColumnAndFilterStore/${d}`,()=>{function n(g){return g.map(o=>({action:o.action,field:o.field,label:m(o.label),sort:o.sort,type:o.type}))}function k(g){return g.map(o=>({hidden:o.hidden,id:o.id,key:m(o.key),key_id:o.key_id,label:m(o.label),module_name:o.module_name}))}return{tableColumnsMapping:n,tableFiltersMapping:k}})),le={key:0,class:"flex flex-row"},se={key:0},de={layout:ne},et=Object.assign(de,{__name:"Index",props:{can:Object,status:Object,categories:Object,hideShowFieldForFilterArr:Object,showCoreAndCustomFieldArr:Object,sort_field:{type:String,default:""},sort_order:{type:String,default:"desc"},search:String},setup(d){const n=d,k=D(()=>P(()=>import("./PsCsvModal.723f7ad9.js"),["assets/PsCsvModal.723f7ad9.js","assets/app.2982e019.js","assets/app.aea728e4.css","assets/PsModal.62a4a1d3.js","assets/PsModal.c627973b.css","assets/vue-neat-modal.2bf17e6b.js","assets/vue-neat-modal.29af7d11.css","assets/plugin-vue_export-helper.21dcd24c.js","assets/ThemeStore.40343845.js","assets/LanguageStore.8f1cddd7.js","assets/PsLabel.8e7b338e.js","assets/PsLabelHeader4.433dd7a4.js","assets/PsButton.60128369.js","assets/PsIcon.e7a5adcd.js","assets/PsIcon.ac362072.css","assets/Icons.c01eddd9.js","assets/PsLink1.1db00228.js","assets/PsDraggable.80100e15.js","assets/PsDraggable.565c6b0d.css"])),g=D(()=>P(()=>import("./PsBannerIcon.d77e89fa.js"),["assets/PsBannerIcon.d77e89fa.js","assets/app.2982e019.js","assets/app.aea728e4.css","assets/PsIcon1.0883f10e.js","assets/Icons.c01eddd9.js","assets/plugin-vue_export-helper.21dcd24c.js"])),o=D(()=>P(()=>import("./PsDangerDialog.7d01f7b5.js").then(function(e){return e.c}),["assets/PsDangerDialog.7d01f7b5.js","assets/PsLabel.8e7b338e.js","assets/plugin-vue_export-helper.21dcd24c.js","assets/app.2982e019.js","assets/app.aea728e4.css","assets/PsModal.62a4a1d3.js","assets/PsModal.c627973b.css","assets/vue-neat-modal.2bf17e6b.js","assets/vue-neat-modal.29af7d11.css","assets/ThemeStore.40343845.js","assets/LanguageStore.8f1cddd7.js","assets/PsButton.60128369.js","assets/PsIcon.e7a5adcd.js","assets/PsIcon.ac362072.css","assets/Icons.c01eddd9.js"]));var z=h(()=>[{label:m("core__be_dashboard_label"),url:route("admin.index")},{label:m("category_module"),color:"text-primary-500"}]);const c=re(),V=ie(),_=p(),S=p(!1),F=p(),$=p(!1),R=p(),B=p(!1);Q(()=>{j.value=V.tableColumnsMapping(n.showCoreAndCustomFieldArr),T.value=V.tableFiltersMapping(n.hideShowFieldForFilterArr)});const x=h(()=>n.search);function L(e){let i=1;c.categoryIndexInertia(I.value,O.value,i,n.categories.meta.per_page,e)}const I=h(()=>n.sort_field),O=h(()=>n.sort_order);function H(e){c.categoryIndexInertia(e.field,e.sort_order,n.categories.meta.current_page,n.categories.meta.per_page,x.value)}const T=p(),j=p();function U(e){Y.put(route("category.screenDisplayUiSetting.store"),{value:e},{preserveScroll:!0,preserveState:!0})}async function N(e,i){await w.waitingComponent(F,$),F.value.openModal(m("core__delete"),m("delete_category_msg"),m("core__be_btn_confirm"),m("core__be_btn_cancel"),()=>{c.deleteCategoryInertia(e,i,async A=>{await w.waitingComponent(_,S),_.value.show()})},()=>{})}function q(e,i){c.toggleStatusInertia(e,i,async A=>{await w.waitingComponent(_,S),_.value.show()})}async function W(){await w.waitingComponent(R,B),R.value.openModal(e=>{c.importCSVFileInertia(e)})}function G(e){c.categoryIndexInertia(I.value,O.value,1,e,x.value)}return(e,i)=>{const A=J("Head");return l(),M(X,null,[a(A,{title:e.$t("category_module")},null,8,["title"]),a(te,{items:s(z),class:"mb-5 sm:mb-6 lg:mb-8"},null,8,["items"]),S.value?(l(),f(s(g),{key:0,flag:d.status.flag,class:"mb-5 text-white sm:mb-6 lg:mb-8",ref_key:"psBannerIconRef",ref:_},{default:r(()=>[C(v(d.status.msg),1)]),_:1},8,["flag"])):u("",!0),a(ee,{row:e.row,search:s(x),object:d.categories,colFilterOptions:T.value,columns:j.value,sort_field:s(I),sort_order:s(O),onFilterOptionshandle:U,onHandleSort:H,onHandleSearch:L,onHandleRow:G,globalSearchPlaceholder:e.$t("core__be_search_category")},{searchLeft:r(()=>[d.can.createCategory?(l(),f(b,{key:0,onClick:W,rounded:"rounded",class:"flex flex-wrap items-center ms-3"},{default:r(()=>[a(y,{name:"plus",class:"font-semibold me-2"}),a(Z,{textColor:"text-white dark:text-secondary-800"},{default:r(()=>[C(v(e.$t("core__be_import_file")),1)]),_:1})]),_:1})):u("",!0),B.value?(l(),f(s(k),{key:1,ref_key:"psCategoryImportModalRef",ref:R,url:"https://drive.google.com/file/d/1XRhURzcCkMb1UzUQMkFCBvTcOOrYFWRq/view?usp=sharing"},null,512)):u("",!0)]),button:r(()=>[d.can.createCategory?(l(),f(b,{key:0,onClick:i[0]||(i[0]=t=>s(c).navigateToCreateCategory()),rounded:"rounded-lg",type:"button",class:"flex flex-wrap items-center"},{default:r(()=>[a(y,{name:"plus",class:"font-semibold me-2"}),C(v(e.$t("core__add_category")),1)]),_:1})):u("",!0)]),responsive_button:r(()=>[d.can.createCategory?(l(),f(b,{key:0,onClick:i[1]||(i[1]=t=>s(c).navigateToCreateCategory()),rounded:"rounded-lg",type:"button",class:"flex flex-wrap items-center"},{default:r(()=>[a(y,{name:"plus",class:"font-semibold me-2"}),C(v(e.$t("core__add_category")),1)]),_:1})):u("",!0)]),tableActionRow:r(t=>[t.field=="action"?(l(),M("div",le,[a(b,{disabled:!t.row.authorization.update,onClick:E=>s(c).navigateToEditCategory(t.row.id),class:"me-2",colors:"bg-green-400 text-white",padding:"p-1.5",hover:"hover:outline-none hover:ring hover:ring-green-100",focus:"focus:outline-none focus:ring focus:ring-green-200"},{default:r(()=>[a(y,{theme:"text-white dark:text-primary-900",name:"editPencil",w:"16",h:"16"})]),_:2},1032,["disabled","onClick"]),a(b,{disabled:!t.row.authorization.delete,onClick:E=>N(t.row.id,t.row.authorization.delete),colors:"bg-red-400 text-white",padding:"p-1.5",hover:"hover:outline-none hover:ring hover:ring-red-100",focus:"focus:outline-none focus:ring focus:ring-red-200"},{default:r(()=>[a(y,{theme:"text-white dark:text-primary-900",name:"trash",w:"16",h:"16"})]),_:2},1032,["disabled","onClick"]),$.value?(l(),f(s(o),{key:0,ref_key:"psDeleteConfirmDialogRef",ref:F},null,512)):u("",!0)])):u("",!0)]),tableRow:r(t=>[t.field=="status"?(l(),M("div",se,[t.field=="status"?(l(),f(oe,{key:0,disabled:!t.row.authorization.update,selectedValue:t.row.status==1,onClick:E=>q(t.row.id,t.row.authorization.update)},null,8,["disabled","selectedValue","onClick"])):u("",!0)])):u("",!0)]),_:1},8,["row","search","object","colFilterOptions","columns","sort_field","sort_order","globalSearchPlaceholder"])],64)}}});export{et as default};
