import{D as x,_ as D,y as R,i as T,j as B,k as E,o as l,c as n,F as w,s as U,b as y,w as c,q as k,t as I,a as L,n as z,g as S,f as N,r as K}from"./app.2982e019.js";import M from"./PsLabel.c51f2c9d.js";import O from"./PsDropdownSelect.ce61e1c2.js";import A from"./PsLoadingDialog.9b6db1c6.js";import{P as j}from"./PsValueStore.eb9430a0.js";import{u as q}from"./CustomFieldStore.79b51a65.js";import{u as V}from"./CustomizeUiStore.24b926e6.js";import{u as $}from"./ProductStore.a3320c3f.js";import{P as G}from"./PsUtils.bbfda905.js";import{_ as J}from"./plugin-vue_export-helper.21dcd24c.js";import"./PsIcon.515a10c8.js";import"./PsModal.36ad7f82.js";import"./vue-neat-modal.2bf17e6b.js";import"./PsLine.ea3266c0.js";import"./ThemeStore.40343845.js";import"./LanguageStore.8f1cddd7.js";import"./PsLabelTitle.ddb6fa87.js";import"./PsApiService.9afc2356.js";import"./PsObject.a17ef38f.js";import"./DefaultPhoto.cc755f93.js";import"./PsStore.6f734180.js";import"./PsSepetetedStore.9a31ac47.js";import"./ProductParameterHolder.4354be0b.js";import"./ps_constants.0e2a11f9.js";import"./Phone.45f97258.js";import"./Product.29c94914.js";import"./Category.7c65464b.js";import"./DefaultIcon.e76b39a5.js";import"./SubCategory.1b4176e0.js";import"./ItemCurrency.91c8ce91.js";import"./ItemLocation.d1b92a80.js";import"./ProductRelation.0b376978.js";import"./User.0c3ba1a8.js";import"./RatingDetail.291ad5d1.js";import"./Vendor.d946ee87.js";import"./ApiStatus.5720ba0b.js";import"./UserDeleteItemParameterHolder.5d816aba.js";const Q=x(()=>D(()=>import("./PsDropdown.2a6cc373.js"),["assets/PsDropdown.2a6cc373.js","assets/app.2982e019.js","assets/app.aea728e4.css","assets/PsValueStore.eb9430a0.js","assets/plugin-vue_export-helper.21dcd24c.js"])),W={name:"ItemFilterCustomFieldSection",components:{PsLabel:M,PsDropdown:Q,PsDropdownSelect:O,PsLoadingDialog:A},setup(){const m=j(),g=q("list"),i=$("list"),t=R({data:[{id:"default",provider:V("default")}]}),h=T();function P(s){t.data.filter(a=>a.id===s)[0].provider.loadCustomFieldList("1",s)}async function p(s,a){i.form.product_relation[s]=a,i.paramHolder.productRelation=[],Object.keys(i.form.product_relation).forEach(v=>{i.paramHolder.productRelation.push({core_keys_id:v,value:i.form.product_relation[v]})}),h.value.closeModal(),G.addParamToCurrentUrl(i.getURLforListByParam(i.paramHolder)),await i.resetProductList(m.getLoginUserId(),i.paramHolder),h.value.closeModal(),i.showPopUpFilter=!1}return B(async()=>{var a;await g.loadCustomFieldList(m.getLoginUserId());for(const e of(a=g.customField.data)==null?void 0:a.customList)e.isVisible=="1"&&e.isDelete=="0"&&e.uiType.coreKeysId=="uit00001"&&t.data.push({id:e.coreKeysId,provider:V(e.coreKeysId)});const s=i.paramHolder.productRelation;s!=null&&s.length>0&&s.forEach(e=>{i.form.product_relation[e.core_keys_id]=e.value,P(e.core_keys_id)})}),E(()=>{var s,a;g.$reset,i.form.product_relation={};for(const e of(s=g.customField.data)==null?void 0:s.customList)e.isVisible=="1"&&e.isDelete=="0"&&e.uiType.coreKeysId=="uit00001"&&((a=t.data.filter(v=>v.id===e.coreKeysId)[0])==null||a.provider.$reset)}),{customFieldStore:g,customizeUiStoreList:t,itemProvider:i,loadCustomField:P,selectCustomDropdown:p,ps_loading_dialog:h}}},X={key:0,class:"mt-6"},Y={class:"rounded-md shadow-xs w-56"},Z={class:"pt-2 z-30"},F={key:0},H={key:1},oo=["onClick"],to=["onClick"],eo={class:"mb-2 w-56"},ro={key:0,class:"mt-4 ms-4 flex"};function io(m,g,i,t,h,P){var v;const p=K("ps-label"),s=K("ps-dropdown-select"),a=K("ps-dropdown"),e=K("ps-loading-dialog");return l(),n(w,null,[(l(!0),n(w,null,U((v=t.customFieldStore.customField.data)==null?void 0:v.customList,o=>(l(),n("div",{key:o.id},[(o.coreKeysId=="ps-itm00007"||o.coreKeysId=="ps-itm00002")&&o.uiType.coreKeysId==="uit00001"&&o.isVisible==="1"&&o.isDelete==="0"?(l(),n("div",X,[y(p,{class:"mb-1 text-base"},{default:c(()=>[k(I(m.$t(o.name)),1)]),_:2},1024),y(a,{align:"left",class:"lg:mt-2 mt-1 w-full",onOnClick:d=>t.loadCustomField(o.coreKeysId)},{select:c(()=>{var d,_,u,f;return[y(s,{placeholderLang:"item_list__all",border:"border dark:border-feSecondary-200",showCenter:!0,selectedValue:(f=(u=(_=(d=t.customizeUiStoreList.data.filter(r=>r.id===o.coreKeysId)[0])==null?void 0:d.provider)==null?void 0:_.customizeUiList.data)==null?void 0:u.filter(r=>r.id===t.itemProvider.form.product_relation[o.coreKeysId])[0])==null?void 0:f.name},null,8,["selectedValue"])]}),list:c(()=>{var d,_,u,f;return[L("div",Y,[L("div",Z,[((_=(d=t.customizeUiStoreList.data.filter(r=>r.id===o.coreKeysId)[0])==null?void 0:d.provider)==null?void 0:_.customizeUiList.data)==null?(l(),n("div",F,[y(p,{class:"p-2 flex",onClick:r=>t.loadCustomField(o.coreKeysId)},{default:c(()=>[k(I(m.$t("item_entry__loading")),1)]),_:2},1032,["onClick"])])):(l(),n("div",H,[L("div",{class:"w-72 flex py-4 px-2 hover:bg-fePrimary-50 dark:hover:bg-feAchromatic-800 cursor-pointer items-center",onClick:r=>t.selectCustomDropdown(o.coreKeysId,"")},[y(p,{class:z(["ms-2",t.itemProvider.form.product_relation[o.coreKeysId]==""?" font-medium":"font-light"])},{default:c(()=>[k(I(m.$t("item_list__all")),1)]),_:2},1032,["class"])],8,oo),(l(!0),n(w,null,U((f=(u=t.customizeUiStoreList.data.filter(r=>r.id===o.coreKeysId)[0])==null?void 0:u.provider)==null?void 0:f.customizeUiList.data,r=>(l(),n("div",{key:r.coreKeysId,class:"w-56 flex py-4 px-2 hover:bg-fePrimary-50 dark:hover:bg-fePrimary-900 cursor-pointer items-center",onClick:b=>t.selectCustomDropdown(o.coreKeysId,r.id)},[y(p,{class:z(["ms-2",t.itemProvider.form.product_relation[o.coreKeysId]==r.id?"font-bold":""])},{default:c(()=>[k(I(r.name),1)]),_:2},1032,["class"])],8,to))),128))]))])])]}),loadmore:c(()=>{var d,_,u,f,r,b;return[L("div",eo,[((_=(d=t.customizeUiStoreList.data.filter(C=>C.id===o.coreKeysId)[0])==null?void 0:d.provider)==null?void 0:_.customizeUiList.data)!=null&&((f=(u=t.customizeUiStoreList.data.filter(C=>C.id===o.coreKeysId)[0])==null?void 0:u.provider)==null?void 0:f.loading.value)==!0?(l(),n("div",ro,[y(p,null,{default:c(()=>[k(I(m.$t("item_entry__loading")),1)]),_:1})])):S("",!0),(b=(r=t.customizeUiStoreList.data.filter(C=>C.id===o.coreKeysId)[0])==null?void 0:r.provider)!=null&&b.isNoMoreRecord?S("",!0):(l(),N(p,{key:1,class:"flex mt-4 ms-4 mb-2 underline font-bold cursor-pointer",onClick:C=>t.loadCustomField(o.coreKeysId)},{default:c(()=>[k(I(m.$t("item_entry__load_more")),1)]),_:2},1032,["onClick"]))])]}),_:2},1032,["onOnClick"])])):S("",!0)]))),128)),y(e,{ref:"ps_loading_dialog",class:"z-40"},null,512)],64)}var qo=J(W,[["render",io]]);export{qo as default};
