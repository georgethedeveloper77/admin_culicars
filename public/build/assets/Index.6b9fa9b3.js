import{d as N,Z as S,i as w,y as E,A as m,o as p,c as u,b as t,w as l,a,q as n,t as i,f as j,g as V,F as I,s as F,m as v,u as T,B as A,bB as M,r as d,z as R}from"./app.2982e019.js";import{_ as q}from"./PsLayout.568c8fbc.js";import{P as W}from"./PsLabel.8e7b338e.js";import{b as Z,P as G,a as J}from"./PsDangerDialog.7d01f7b5.js";import{P as K}from"./PsButton.60128369.js";import{a as O}from"./PsTextButton.a77542e1.js";import{P as Q}from"./PsAlert.f63fac2d.js";import{P as X}from"./PsBreadcrumb2.92714552.js";import{P as Y}from"./PsWarningDialog.2baf785b.js";import{P as ee}from"./PsIcon.e7a5adcd.js";import oe from"./PsBannerIcon.d77e89fa.js";import{P as te}from"./PsActivity.58b9a013.js";import{h as se}from"./moment.9709ab41.js";import{_ as ae}from"./plugin-vue_export-helper.21dcd24c.js";import"./PsDropdown.3b1e9581.js";import"./PsDropdownSelect.b154c567.js";import"./PsToggle.5b24d11e.js";import"./toggle.ae92e5df.js";/* empty css                                                             */import"./index.esm.8fcef60c.js";import"./auth.esm.be6b9a90.js";import"./ThemeStore.40343845.js";import"./LanguageStore.8f1cddd7.js";import"./SideMenuStore.ed2aa07c.js";import"./SidebarMenuItem.6b029457.js";import"./PsErrorDialog.ccf1ce18.js";import"./PsModal.62a4a1d3.js";import"./vue-neat-modal.2bf17e6b.js";import"./PsInputWithRightIcon.b34d7fa0.js";import"./AppInfoStore.6a348fbd.js";import"./NotificationStore.af68b63a.js";import"./index.esm.7ce161a7.js";import"./NotiUnRegisterHolder.eefb692e.js";import"./ps_constants.0e2a11f9.js";import"./PsIcon1.0883f10e.js";import"./Icons.c01eddd9.js";const le=N({name:"Index",components:{Head:S,PsLabel:W,PsButton:K,PsAlert:Q,PsBreadcrumb2:X,PsDangerDialog:Z,PsIcon:ee,PsBannerIcon:oe,PsLabelHeader6:G,PsActivity:te,PsWarningDialog:Y,PsLabelCaption3:J,PsTextButton:O},layout:q,data(){return{moment:se}},props:["can","contacts","checkPermission","defaultProfileImg"],setup(e){const r=w(),b=w(!1);let f=E([]);for(let s=0;s<e.contacts.length;s++)f[e.contacts[s].id]=!1;const k=w();let P=w(!1);function C(){for(let s=0;s<e.contacts.length;s++)P.value==!1?f[e.contacts[s].id]=!1:f[e.contacts[s].id]=!0}function $(){k.value.openModal(m("core__warning"),m("core__comfirm_to_mark_as_read"),m("core__be_btn_confirm"),m("core__be_btn_cancel"),()=>{A.put(route("contact.allasread"))},()=>{})}function D(s){A.get(route("contact.edit",s))}function h(){let s=[];for(let c=0;c<e.contacts.length;c++)f[e.contacts[c].id]==!0&&s.push(e.contacts[c].id);let y=M({ids:s});r.value.openModal(m("core__delete"),m("core__comfirm_to_delete_contact_multiple"),m("core__be_btn_confirm"),m("core__be_btn_cancel"),()=>{A.delete(route("contact.multiDelete",y)),b.value=!b.value},()=>{})}return{clickDelete:h,booleanContacts:f,toogleSelectAll:C,selectAll:P,showDelete:b,goToDetail:D,ps_danger_dialog:r,makeAllRead:$,ps_warning_dialog:k}},methods:{handleDetail(e){this.$inertia.get(route("contact.show",e))}},computed:{breadcrumb(){return[{label:m("core__be_dashboard_label"),url:route("admin.index")},{label:m("contact_us_message_module"),color:"text-primary-500"}]}}}),re={class:"bg-primary-50 dark:bg-primary-900 py-2.5 ps-4 mb-6 rounded-t-xl"},ne={key:0},ie={class:"flex justify-end mb-4"},de={class:"flex"},me={class:"flex"},ce={class:"bg-red-400 text-white p-1 rounded-lg"},pe={class:"h-8 w-8 sm:w-12 sm:h-12"},_e={class:"w-full ms-4"},ue={class:"flex justify-between text-sm"},fe={key:1},ge={class:"flex justify-between mb-4"},be={class:"flex flex-row items-center"},he={class:"flex flex-row"},ye=["onUpdate:modelValue"],we={class:"h-8 w-8 sm:w-12 sm:h-12"},ve={class:"w-full ms-4"},ke={class:"flex justify-between text-sm"};function Pe(e,r,b,f,k,P){const C=d("Head"),$=d("ps-breadcrumb-2"),D=d("ps-label-header6"),h=d("ps-icon"),s=d("ps-label"),y=d("ps-text-button"),c=d("ps-label-caption-3"),B=d("ps-activity"),x=d("ps-button"),z=d("ps-danger-dialog"),H=d("ps-warning-dialog"),L=d("ps-layout"),U=R("lazy");return p(),u(I,null,[t(C,{title:e.$t("contact_us_message_module")},null,8,["title"]),t(L,null,{default:l(()=>[t($,{items:e.breadcrumb,class:"mb-5 sm:mb-6 lg:mb-8"},null,8,["items"]),a("div",re,[t(D,null,{default:l(()=>[n(i(e.$t("core__be_messages")),1)]),_:1})]),e.showDelete?(p(),u("div",fe,[a("div",ge,[a("div",be,[v(a("input",{"onUpdate:modelValue":r[2]||(r[2]=o=>e.selectAll=o),onChange:r[3]||(r[3]=o=>e.toogleSelectAll()),class:"me-2 border-1 border-primary-500 rounded-full",type:"checkbox"},null,544),[[T,e.selectAll]]),t(s,{class:"text-base font-light",textColor:"text-primary-500"},{default:l(()=>[n(i(e.$t("core__be_select_all")),1)]),_:1})]),a("div",he,[t(x,{onClick:r[4]||(r[4]=o=>e.showDelete=!e.showDelete),textSize:"text-sm",type:"reset",class:"me-4",colors:"text-primary-500",focus:"",hover:""},{default:l(()=>[n(i(e.$t("core__be_btn_cancel")),1)]),_:1}),t(x,{onClick:e.clickDelete,class:"transition-all duration-300 min-w-3xs",colors:"bg-red-500 text-white",padding:"px-5 py-2",rounded:"rounded",hover:"",focus:""},{default:l(()=>[n(i(e.$t("btn_delete")),1)]),_:1},8,["onClick"])])]),(p(!0),u(I,null,F(e.contacts,o=>(p(),u("div",{key:o.id,class:"cursor-pointer flex flex-row items-center justify-center"},[t(B,{onClick:_=>e.booleanContacts[o.id]=!e.booleanContacts[o.id],theme:o.is_read==0?"bg-primary-50 dark:bg-primary-900":" bg-secondary-50 dark:bg-secondary-900",icon:!1,h:"h-26"},{content:l(()=>{var _;return[v(a("input",{"onUpdate:modelValue":g=>e.booleanContacts[o.id]=g,class:"me-2 border-1 border-secondary-200 rounded",type:"checkbox"},null,8,ye),[[T,e.booleanContacts[o.id]]]),a("div",we,[v(a("img",{width:"20",height:"20",class:"mx-2 inline-block h-8 w-8 sm:w-12 sm:h-12 rounded-full ring-2 ring-white object-cover",alt:"Profile photo",onError:r[5]||(r[5]=(...g)=>e.defaultProfileImg&&e.defaultProfileImg(...g))},null,544),[[U,{src:e.$page.props.uploadUrl+"/"+((_=o.owner)==null?void 0:_.user_cover_photo),loading:e.$page.props.sysImageUrl+"/loading_gif.gif",error:e.$page.props.sysImageUrl+"/default_profile.png"}]])]),a("span",ve,[a("span",ke,[t(s,{class:"text-sm lg:text-base"},{default:l(()=>[n(i(o.contact_name),1)]),_:2},1024),t(c,null,{default:l(()=>[n(i(e.moment(o.added_date).format(e.$page.props.dateFormat)),1)]),_:2},1024)]),t(c,null,{default:l(()=>[n("by: "+i(o.contact_email),1)]),_:2},1024)])]}),_:2},1032,["onClick","theme"])]))),128))])):(p(),u("div",ne,[a("div",ie,[e.can.updateContact?(p(),j(y,{key:0,onClick:e.makeAllRead,padding:"p-1.5"},{default:l(()=>[a("div",de,[t(h,{name:"right",class:"mt-1.5",fillone:"#6366F1"}),t(s,{class:"ms-1 my-auto cursor-pointer",textColor:"text-primary-500"},{default:l(()=>[n(i(e.$t("core__be_mark_all_as_read")),1)]),_:1})])]),_:1},8,["onClick"])):V("",!0),e.can.deleteContact?(p(),j(y,{key:1,onClick:r[0]||(r[0]=o=>e.showDelete=!e.showDelete),padding:"p-1.5"},{default:l(()=>[a("div",me,[a("span",ce,[t(h,{name:"trash",w:"16",h:"16"})]),t(s,{class:"ms-1 my-auto",textColor:"text-primary-500"},{default:l(()=>[n(i(e.$t("btn_delete")),1)]),_:1})])]),_:1})):V("",!0)]),(p(!0),u(I,null,F(e.contacts,o=>(p(),u("div",{key:o.id,class:"cursor-pointer"},[t(B,{onClick:_=>e.goToDetail(o.id),theme:o.is_read==0?"bg-primary-50 dark:bg-primary-900":" bg-secondary-50 dark:bg-secondary-900",icon:!1,h:"h-26"},{content:l(()=>{var _;return[a("div",pe,[v(a("img",{width:"20",height:"20",class:"mx-2 inline-block h-8 w-8 sm:w-12 sm:h-12 rounded-full ring-2 ring-white object-cover",alt:"Profile photo",onError:r[1]||(r[1]=(...g)=>e.defaultProfileImg&&e.defaultProfileImg(...g))},null,544),[[U,{src:e.$page.props.uploadUrl+"/"+((_=o.owner)==null?void 0:_.user_cover_photo),loading:e.$page.props.sysImageUrl+"/loading_gif.gif",error:e.$page.props.sysImageUrl+"/default_profile.png"}]])]),a("span",_e,[a("span",ue,[t(s,{class:"text-sm lg:text-base"},{default:l(()=>[n(i(o.contact_name),1)]),_:2},1024),t(c,null,{default:l(()=>[n(i(e.moment(o.added_date).format(e.$page.props.dateFormat)),1)]),_:2},1024)]),t(c,null,{default:l(()=>[n("by: "+i(o.contact_email),1)]),_:2},1024)])]}),_:2},1032,["onClick","theme"])]))),128))])),t(z,{ref:"ps_danger_dialog"},null,512),t(H,{ref:"ps_warning_dialog"},null,512)]),_:1})],64)}var ro=ae(le,[["render",Pe]]);export{ro as default};
