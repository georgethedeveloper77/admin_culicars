import{d as M,Z as N,i as p,y as U,bB as j,A as b,o as _,c as u,b as t,w as s,a as o,q as i,t as l,h as J,g as h,F as z,s as I,n as H,f as q,r as a}from"./app.2982e019.js";import{_ as O}from"./PsLayout.568c8fbc.js";import{u as A}from"./Validators.f69d3a03.js";import{P as K}from"./PsInput.8a03a303.js";import{P as Z}from"./PsLabel.8e7b338e.js";import{P as G}from"./PsButton.60128369.js";import{P as Q}from"./PsTextarea.3b6e2b2c.js";import{P as W}from"./PsLabelHeader4.433dd7a4.js";import{P as X}from"./PsLabelCaption.f2ff5485.js";import{P as Y}from"./PsCheckbox.50bd3e8d.js";import{P as ee}from"./PsCheckboxValue.a24aa2fd.js";import{P as te}from"./PsBreadcrumb2.92714552.js";import{P as oe}from"./PsDropdown.3b1e9581.js";import{P as se}from"./PsDropdownSelect.b154c567.js";import{P as re}from"./PsIcon.e7a5adcd.js";import{P as ne}from"./PsLoading.0a981307.js";import{P as ae}from"./PsTooltip.acc61501.js";import{P as ie}from"./PsTooltips.4dfed360.js";import{P as le}from"./PsLoadingCircleDialog.c85c86cd.js";import{P as de}from"./PsSuccessDialog.4330bf2e.js";import{_ as ce}from"./plugin-vue_export-helper.21dcd24c.js";import"./PsDangerDialog.7d01f7b5.js";import"./PsModal.62a4a1d3.js";import"./vue-neat-modal.2bf17e6b.js";import"./ThemeStore.40343845.js";import"./LanguageStore.8f1cddd7.js";import"./PsToggle.5b24d11e.js";import"./toggle.ae92e5df.js";/* empty css                                                             */import"./PsTextButton.a77542e1.js";import"./PsWarningDialog.2baf785b.js";import"./index.esm.8fcef60c.js";import"./auth.esm.be6b9a90.js";import"./SideMenuStore.ed2aa07c.js";import"./SidebarMenuItem.6b029457.js";import"./PsErrorDialog.ccf1ce18.js";import"./PsInputWithRightIcon.b34d7fa0.js";import"./AppInfoStore.6a348fbd.js";import"./NotificationStore.af68b63a.js";import"./index.esm.7ce161a7.js";import"./NotiUnRegisterHolder.eefb692e.js";import"./ps_constants.0e2a11f9.js";import"./PsIcon1.0883f10e.js";import"./Icons.c01eddd9.js";const _e=M({name:"Edit",components:{PsIcon:re,PsLoading:ne,Head:N,PsInput:K,PsLabel:Z,PsButton:G,PsTextarea:Q,PsLabelHeader4:W,PsLabelCaption:X,PsCheckbox:Y,PsCheckboxValue:ee,PsBreadcrumb2:te,PsDropdown:oe,PsDropdownSelect:se,PsTooltips:ie,PsTooltip:ae,PsLoadingCircleDialog:le,PsSuccessDialog:de},layout:O,props:["errors","status","backend_setting","vendor_subscription"],setup(e){const r=p(!1),$=p(!1),w=p(),D=p();p(e.frontendColors);const E=p(),x=p(),{isEmpty:B,isNum:F}=A(),m=(c,P)=>{e.errors[c]=P?F(c,P):B(c,P),c=="notic_days"&&(E.value.isError=e.errors.notic_days!=""),c=="vendor_checkout_setting"&&(x.value.isError=e.errors.vendor_checkout_setting!="")},f=[{label:"core__be_vendor_feature_on_off",docu:"https://doc.clickup.com/24312566/p/h/q5yqp-175202/4fc3a8c00ffc0ba"},{label:"core__lang_refresh_setting",docu:"https://doc.clickup.com/24312566/p/h/q5yqp-175242/5c613e184364a09"},{label:"core__be_subscriptions_setting",docu:"https://doc.clickup.com/24312566/p/h/q5yqp-179742/8be0d3082e8aac6"}],y=p(f[0].label),d=p(f[0].docu);function k(c){y.value=c.label,d.value=c.docu}let C=JSON.parse(e.vendor_subscription.ref_selection),v=JSON.parse(e.vendor_subscription.setting);const g=U(j({vendor_setting:e.backend_setting.vendor_setting==1,vendor_subscription:v.subscription_plan[0].id,notic_days:v.notic_days,vendor_checkout_setting:v.vendor_checkout_setting==1,_method:"put"}));console.log(C),console.log(v);function L(c){this.$inertia.post(route("vendor_setting.update",c),g,{forceFormData:!0,onBefore:()=>{r.value=!0},onSuccess:()=>{r.value=!1,$.value=!0,setTimeout(()=>{$.value=!1},1e3)},onError:()=>{r.value=!1}})}function S(){this.$inertia.get(route("vendor_setting.languageRefresh"),{key:"refresh"},{onBefore:()=>{w.value.openModal(b("core__be_updating_title"),b("core__be_lang_refreshing_desc"))},onSuccess:()=>{},onError:()=>{w.value.closeModal()}})}function R(){D.value.openModal(b("core__be_awesome_title"),b("core__be_lang_refresh_success_desc"),b("core__be_btn_back"),()=>{},!0)}function V(){g.vendor_setting||(g.vendor_checkout_setting=0)}return{handleSubmit:L,validateEmptyInput:m,form:g,title:y,settingColumn:f,changeSection:k,loading:r,success:$,docu:d,handleFeLangRefresh:S,ps_loading_circle_dialog:w,langRefreshSuccessDialog:R,ps_success_dialog:D,ref_subscriptions:C,notic_days:E,vendor_checkout_setting:x,handleVendorSettingCheckbox:V}},computed:{breadcrumb(){return[{label:b("core__be_dashboard_label"),url:route("admin.index")},{label:b("vendor_setting_module"),color:"text-primary-500"}]}},mounted(){this.status.flag=="langSuccess"&&this.langRefreshSuccessDialog()}}),pe={class:"bg-background dark:bg-secondaryDark-black rounded-lg"},ue={class:"bg-primary-50 dark:bg-primary-900"},me={class:"bg-primary-50 flex items-center dark:bg-primary-900 py-2.5 ps-4 rounded-t-lg"},fe={class:"h-8 flex items-center"},be=i(" For more details: "),he=["href"],ve={class:"grid grid-cols-1 md:grid-cols-2 gap-2 mt-4"},ge={key:0},ye={class:"px-4 pt-3"},ke={class:"flex items-center"},Ce=i(" For more details: "),Pe=o("a",{target:"_blank",href:"https://doc.clickup.com/24312566/p/h/q5yqp-175222/be600340120429c",class:"underline"},"Refer to this doc",-1),$e={class:"px-4 pb-3"},we={class:"px-4 pt-3"},xe={class:"flex items-center"},Se=i(" For more details: "),qe=o("a",{target:"_blank",href:"https://doc.clickup.com/24312566/p/h/q5yqp-175222/be600340120429c",class:"underline"},"Refer to this doc",-1),De={class:"px-4 pb-3"},Ee={key:1},Be={class:"rounded-xl"},Fe={class:"mt-6"},Le={class:""},Re={class:"border border-1 rounded p-4"},Ve={class:"h-auto"},ze={class:"flex flex-row justify-start mt-6"},Te={key:2},Ie={class:"px-4 py-3"},He={class:"flex items-center"},Me={class:"rounded-md shadow-xs"},Ne={class:"pt-2 z-30"},Ue=["onClick"],je={class:"px-4 py-3"},Je={class:"flex flex-row justify-end mt-6 mb-2.5"},Oe={class:"px-4"},Ae=["onClick"];function Ke(e,r,$,w,D,E){const x=a("Head"),B=a("ps-breadcrumb-2"),F=a("ps-label-header-6"),m=a("ps-icon"),f=a("ps-tooltip"),y=a("ps-checkbox-value"),d=a("ps-label"),k=a("ps-button"),C=a("ps-card"),v=a("ps-dropdown-select"),g=a("ps-dropdown"),L=a("ps-input"),S=a("ps-label-caption"),R=a("ps-loading"),V=a("ps-loading-circle-dialog"),c=a("ps-success-dialog"),P=a("ps-layout");return _(),u(z,null,[t(x,{title:e.$t("vendor_setting_module")},null,8,["title"]),t(P,null,{default:s(()=>[t(B,{items:e.breadcrumb,class:"mb-5 sm:mb-6 lg:mb-8"},null,8,["items"]),t(C,{class:"w-full h-auto"},{default:s(()=>[o("div",pe,[o("div",ue,[o("div",me,[t(F,{textColor:"text-secondary-800 dark:text-secondary-100"},{default:s(()=>[i(l(e.$t(e.title)),1)]),_:1}),t(f,{tooltiptext:"absolute z-50 bottom-full ms-0.5"},{content:s(()=>[o("div",fe,[t(m,{name:"info",w:"20",h:"20",class:"ms-2.5 transition-all duration-300 text-primary-500"})])]),tooltips:s(()=>[be,o("a",{target:"_blank",href:e.docu,class:"underline"},"Refer to this doc",8,he)]),_:1})])]),o("form",{onSubmit:r[8]||(r[8]=J(n=>e.handleSubmit(this.backend_setting.id),["prevent"]))},[o("div",ve,[o("div",null,[e.title==e.settingColumn[0].label?(_(),u("div",ge,[o("div",ye,[o("div",ke,[t(y,{onChange:r[0]||(r[0]=n=>e.handleVendorSettingCheckbox()),value:e.form.vendor_setting,"onUpdate:value":r[1]||(r[1]=n=>e.form.vendor_setting=n),class:"font-normal",title:e.$t("core__be_is_vendor_feature_on")},null,8,["value","title"]),t(f,{tooltiptext:"absolute z-50 bottom-full mb-2 -ms-2.5"},{content:s(()=>[t(m,{name:"info",w:"20",h:"20",class:"-ms-1 transition-all duration-300 text-primary-500"})]),tooltips:s(()=>[Ce,Pe]),_:1})])]),o("div",$e,[t(d,{class:"ms-2 text-xs",textColor:"text-secondary-400"},{default:s(()=>[i(l(e.$t("core__be_vendor_feature_on_off_desc")),1)]),_:1})]),o("div",we,[o("div",xe,[t(y,{disabled:!e.form.vendor_setting,value:e.form.vendor_checkout_setting,"onUpdate:value":r[2]||(r[2]=n=>e.form.vendor_checkout_setting=n),class:"font-normal",title:e.$t("core__be_is_vendor_checkout_setting_on")},null,8,["disabled","value","title"]),t(f,{tooltiptext:"absolute z-50 bottom-full mb-2 -ms-2.5"},{content:s(()=>[t(m,{name:"info",w:"20",h:"20",class:"-ms-1 transition-all duration-300 text-primary-500"})]),tooltips:s(()=>[Se,qe]),_:1})])]),o("div",De,[t(d,{class:"ms-2 text-xs",textColor:"text-secondary-400"},{default:s(()=>[i(l(e.$t("core__be_vendor_checkout_setting_on_off_desc")),1)]),_:1})])])):h("",!0),e.title==e.settingColumn[1].label?(_(),u("div",Ee,[t(C,{class:"w-full h-auto"},{default:s(()=>[o("div",Be,[o("div",Fe,[o("div",Le,[o("div",Re,[o("div",Ve,[o("div",null,[t(d,{class:"dark:text-white text-secondary-800 font-normal"},{default:s(()=>[i(l(e.$t("fe_lang_refresh_desc")),1)]),_:1})]),o("div",ze,[t(k,{type:"button",onClick:r[3]||(r[3]=n=>e.handleFeLangRefresh()),rounded:"rounded",class:"flex flex-wrap items-center"},{default:s(()=>[t(m,{name:"refresh",class:"me-2 font-semibold"}),t(d,{textColor:"text-white dark:text-secondary-800"},{default:s(()=>[i(l(e.$t("core__be_lang_refresh")),1)]),_:1})]),_:1})])])])])])])]),_:1})])):h("",!0),e.title==e.settingColumn[2].label?(_(),u("div",Te,[o("div",Ie,[o("div",He,[t(d,{class:"text-base"},{default:s(()=>[i(l(e.$t("core__be_subscription_setting")),1)]),_:1})]),t(g,{align:"left",class:"lg:mt-2 mt-1 w-full"},{select:s(()=>[t(v,{placeholder:e.$t("core__be_select_subscription_plan"),selectedValue:e.form.vendor_subscription==""?"":e.ref_subscriptions.subscription_plans.filter(n=>n.id==e.form.vendor_subscription)[0].value},null,8,["placeholder","selectedValue"])]),list:s(()=>[o("div",Me,[o("div",Ne,[(_(!0),u(z,null,I(e.ref_subscriptions.subscription_plans,(n,T)=>(_(),u("div",{key:T,class:"flex py-4 px-2 hover:bg-primary-000 dark:hover:bg-primary-900 cursor-pointer items-center",onClick:Ze=>[e.form.vendor_subscription=n.id]},[t(d,{class:H(["ms-2",n.id==e.form.vendor_subscription?" font-bold":""])},{default:s(()=>[i(l(n.value),1)]),_:2},1032,["class"])],8,Ue))),128))])])]),_:1})]),o("div",je,[t(d,{class:"text-base mb-1"},{default:s(()=>[i(l(e.$t("core_be__notic_days")),1)]),_:1}),t(L,{type:"text",ref:"notic_days",value:e.form.notic_days,"onUpdate:value":r[4]||(r[4]=n=>e.form.notic_days=n),placeholder:"core_be__notic_days",onKeyup:r[5]||(r[5]=n=>e.validateEmptyInput("notic_days",e.form.notic_days)),onBlur:r[6]||(r[6]=n=>e.validateEmptyInput("notic_days",e.form.notic_days))},null,8,["value"]),t(S,{textColor:"text-red-500 ",class:"mt-2 block"},{default:s(()=>[i(l(e.errors.notic_days),1)]),_:1}),t(S,{textColor:"text-secondary-400 mt-1"},{default:s(()=>[i(l(e.$t("core_be__notic_days_note")),1)]),_:1})])])):h("",!0),o("div",Je,[t(k,{onClick:r[7]||(r[7]=n=>e.handleCancel()),textSize:"text-base",type:"reset",class:"me-4",colors:"text-primary-500",focus:"",hover:""},{default:s(()=>[i(l(e.$t("core__be_btn_cancel")),1)]),_:1}),t(k,{class:"transition-all duration-300 min-w-3xs",padding:"px-7 py-2",rounded:"rounded",hover:"",focus:""},{default:s(()=>[e.loading?(_(),q(R,{key:0,theme:"border-2 border-t-2 border-text-8 border-t-primary-500",loadingSize:"h-5 w-5"})):h("",!0),e.success?(_(),q(m,{key:1,name:"check",w:"20",h:"20",class:"me-1.5 transition-all duration-300"})):h("",!0),e.success?(_(),q(d,{key:2,class:"transition-all duration-300",textColor:"text-white dark:text-secondaryDark-black"},{default:s(()=>[i(l(e.$t("core__be_btn_saved")),1)]),_:1})):h("",!0),!e.loading&&!e.success?(_(),q(d,{key:3,textColor:"text-white dark:text-secondaryDark-black"},{default:s(()=>[i(l(e.$t("core__be_btn_save")),1)]),_:1})):h("",!0)]),_:1})])]),o("div",Oe,[(_(!0),u(z,null,I(e.settingColumn,n=>(_(),u("div",{key:n.id},[o("div",{onClick:T=>e.changeSection(n),class:H([e.title==n.label?"border-l border-s-primary-500":"border-l border-s-secondary-300","px-2 py-3 cursor-pointer"])},[t(d,{textColor:e.title==n.label?"text-primary-500 dark:text-primary-500":"text-secondary-800 dark:text-white"},{default:s(()=>[i(l(e.$t(n.label)),1)]),_:2},1032,["textColor"])],10,Ae)]))),128))])])],32)])]),_:1}),t(V,{ref:"ps_loading_circle_dialog"},null,512),t(c,{ref:"ps_success_dialog"},null,512)]),_:1})],64)}var Ht=ce(_e,[["render",Ke]]);export{Ht as default};
