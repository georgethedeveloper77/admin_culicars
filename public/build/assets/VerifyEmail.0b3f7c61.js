import{Z as S,i as u,o as d,c as h,b as i,a as m,w as a,q as l,t as n,V as C,f as v,F as U,A as E,r as t}from"./app.2982e019.js";import w from"./PsLabel.c51f2c9d.js";import I from"./PsLabelTitle.ddb6fa87.js";import N from"./PsButton.7f6705bd.js";import B from"./PsInput.5d0c1579.js";import $ from"./PsRouteLink.c57ebe2e.js";import H from"./PsErrorDialog.d6a4d7d4.js";import{P as y}from"./PsValueStore.eb9430a0.js";import{u as L}from"./UserProvider.de8c5429.js";import{U as D}from"./UserEmailVerifyParameterHolder.7c748b8f.js";import{c as K}from"./PsApiService.9afc2356.js";import{P as T}from"./ps_constants.0e2a11f9.js";import{_ as j}from"./plugin-vue_export-helper.21dcd24c.js";import"./PsModal.36ad7f82.js";import"./vue-neat-modal.2bf17e6b.js";import"./PsLine.ea3266c0.js";import"./ThemeStore.40343845.js";import"./LanguageStore.8f1cddd7.js";import"./User.0c3ba1a8.js";import"./PsObject.a17ef38f.js";import"./RatingDetail.291ad5d1.js";import"./ProductRelation.0b376978.js";import"./UserListParameterHolder.d110b747.js";import"./DefaultPhoto.cc755f93.js";import"./UserRegisterParameterHolder.c0325365.js";import"./PhoneLoginParameterHolder.e6dad0ed.js";import"./ApiStatus.5720ba0b.js";const F={name:"VerifyEmailView",components:{PsLabel:w,PsLabelTitle:I,PsButton:N,PsInput:B,PsRouteLink:$,PsErrorDialog:H,Head:S},setup(){const o=L(),r=new D,e=y().getVerifyUserId(),c=u();e==null||e==""||e==T.NO_LOGIN_USER;const _=u();async function p(){r.userId=e,r.code=_.value;const s=await o.postUserEmailVerify(r);s.status==K.SUCCESS?y.psValueStore.login(s.data.userId,s.data.userName,s.data.deviceToken):c.value.openModal("",E("verify_email__incorrect_code"))}return{userProvider:o,clicked:p,code:_,ps_error_dialog:c}}},O={class:"sm:mt-32 lg:mt-36 mt-28 h-screen flex flex-col"},R={class:"w-96 flex flex-col mx-auto m-auto rounded-lg"},q={class:"flex items-center justify-center mb-4"},A={class:"flex items-center justify-center mb-4"};function G(o,r,k,e,c,_){const p=t("Head"),s=t("ps-label-title"),g=t("ps-label"),b=t("ps-input"),f=t("ps-button"),P=t("ps-route-link"),x=t("ps-error-dialog");return d(),h(U,null,[i(p,{title:o.$t("verify_email__verify_your_email")},null,8,["title"]),m("div",O,[m("div",R,[i(s,{class:"mt-8 mx-auto text-2xl"},{default:a(()=>[l(n(o.$t("verify_email__verify_your_email")),1)]),_:1}),i(g,{class:"mt-4 mx-8"},{default:a(()=>[l(n(o.$t("verify__verification_code"))+" : ",1)]),_:1}),i(b,{class:"mt-2 mx-8",type:"text",placeholder:o.$t("verify__verification_code"),onKeyup:C(e.clicked,["enter"]),value:e.code,"onUpdate:value":r[0]||(r[0]=V=>e.code=V)},null,8,["placeholder","onKeyup","value"]),m("div",q,[e.userProvider.loading.value?(d(),v(f,{key:0,class:"mt-6 mx-8",onClick:e.clicked,disabled:!0},{default:a(()=>[l(n(o.$t("verify__loading")),1)]),_:1},8,["onClick"])):(d(),v(f,{key:1,class:"mt-6 mx-8",onClick:e.clicked,disabled:!1},{default:a(()=>[l(n(o.$t("verify__submit")),1)]),_:1},8,["onClick"]))]),m("div",A,[i(P,{class:"mx-8",to:{name:"login"}},{default:a(()=>[l(n(o.$t("verify__back_to_login")),1)]),_:1})])])]),i(x,{ref:"ps_error_dialog"},null,512)],64)}var ge=j(F,[["render",G]]);export{ge as default};
