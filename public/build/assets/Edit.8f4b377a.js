import{d as T,p as L,Z as F,i as z,A as b,bB as H,o as p,c as g,b as t,w as r,q as l,t as s,a,F as $,s as V,n as q,f as k,g as w,h as M,m as U,r as m,z as Z}from"./app.2982e019.js";import{_ as G}from"./PsVendorLayout.be6b7e7a.js";import{P as J}from"./PsLabel.8e7b338e.js";import{P as K}from"./PsButton.60128369.js";import{P as Q}from"./PsTable2.f1c5d383.js";import{P as R}from"./PsAlert.f63fac2d.js";import{P as W}from"./PsBreadcrumb2.92714552.js";import{b as X}from"./PsDangerDialog.7d01f7b5.js";import{P as Y}from"./PsToggle.5b24d11e.js";import{P as ee}from"./PsLoading.0a981307.js";import{P as oe}from"./PsIcon.e7a5adcd.js";import te from"./PsBannerIcon.d77e89fa.js";import{P as re}from"./PsIconButton.ea85c74d.js";import{P as se}from"./PsBadge.05049ff3.js";import{P as ne}from"./PsDropdown.3b1e9581.js";import{P as le}from"./PsDropdownSelect.b154c567.js";import{_ as de}from"./plugin-vue_export-helper.21dcd24c.js";import"./TitleBar.f6adaccf.js";import"./PsTextButton.a77542e1.js";import"./PsWarningDialog.2baf785b.js";import"./PsModal.62a4a1d3.js";import"./vue-neat-modal.2bf17e6b.js";import"./ThemeStore.40343845.js";import"./LanguageStore.8f1cddd7.js";import"./index.esm.8fcef60c.js";import"./auth.esm.be6b9a90.js";import"./SideMenuStore.ed2aa07c.js";import"./Icons.c01eddd9.js";import"./toggle.ae92e5df.js";/* empty css                                                             */import"./SidebarMenu.ca75b9da.js";import"./SidebarMenuItem.6b029457.js";import"./PsErrorDialog.ccf1ce18.js";import"./PsInputWithRightIcon.b34d7fa0.js";import"./NotificationStore.af68b63a.js";import"./index.esm.7ce161a7.js";import"./NotiUnRegisterHolder.eefb692e.js";import"./ps_constants.0e2a11f9.js";import"./PsTableSearch.51ac3161.js";import"./moment.9709ab41.js";import"./PsIcon1.0883f10e.js";const ae=T({name:"Edit",components:{Link:L,Head:F,PsLabel:J,PsButton:K,PsTable2:Q,PsAlert:R,PsBreadcrumb2:W,PsDangerDialog:X,PsToggle:Y,PsLoading:ee,PsIcon:oe,PsBannerIcon:te,PsIconButton:re,PsBadge:se,PsDropdown:ne,PsDropdownSelect:le},layout:G,props:{order:Object,paymentStatuses:Object,orderStatuses:Object},setup(e){console.log(e);const f=z(),h=z(!1),C=z(!1),j=[{label:b("core_vendor__product_info"),field:"order_code",type:"String"},{label:b("core_vendor__quantity"),field:"quantity",type:"String"},{label:b("core_vendor__unit_price"),field:"sale_price",type:"String"},{label:b("core_vendor__discount"),field:"discount_price",type:"String"},{label:b("core_vendor__total_price"),field:"order_code",type:"String"}];let P=H({order_status_id:e.order.order_status_id,payment_status_id:e.order.vendor_payment_status_id,_method:"put"});function S(n){this.$inertia.post(route("vendor_order_list.update",n),P,{forceFormData:!0,onBefore:()=>{h.value=!0},onSuccess:()=>{h.value=!1,C.value=!0,setTimeout(()=>{C.value=!1},2e3)},onError:()=>{name.value.isError="name"in e.errors,h.value=!1}})}function x(){this.$inertia.get(route("vendor_order_list.index"))}return{loading:h,success:C,columns:j,orderItems:f,form:P,handleSubmit:S,handleCancel:x}},computed:{breadcrumb(){return[{label:b("core__vendor_my_store_module"),url:route("vendor_info.index")},{label:b("core__vendor_order_list_module"),url:route("vendor_order_list.index")},{label:b("core_vendor__edit_order"),color:"text-primary-500"}]}}}),ie={class:"flex gap-6"},_e={class:"w-full"},ce={class:"rounded-md shadow-xs w-56"},ue={class:"pt-2 z-30"},pe=["onClick"],me={class:"w-full"},fe={class:"rounded-md shadow-xs w-56"},be={class:"pt-2 z-30"},ge=["onClick"],he={class:"flex flex-row justify-end mt-6"},ve={class:"border rounded-b border-t-0 p-4 mb-4"},ye={class:"grid grid-cols-4 gap-1"},Ce={class:""},$e=a("span",{class:"float-end"},":",-1),ke=a("span",{class:"float-end"},":",-1),we=a("span",{class:"float-end"},":",-1),Pe=a("span",{class:"float-end"},":",-1),Se=a("span",{class:"float-end"},":",-1),xe={class:""},Be={class:""},ze=a("span",{class:"float-end"},":",-1),Ve=a("span",{class:"float-end"},":",-1),je=a("span",{class:"float-end"},":",-1),Oe={class:""},Ie={class:"border rounded-b border-t-0 mb-4"},qe={class:"w-full"},Ae={class:"border-b-2"},De={class:"text-start ps-4"},Ee=l("#"),Ne={class:"text-start"},Te={class:"text-start"},Le={class:"text-start"},Fe={class:"text-start"},He={class:"text-start"},Me={class:"border-b-2"},Ue={class:"h-11 ps-4 items-center justify-center"},Ze={class:"py-4"},Ge={class:"flex items-center gap-2"},Je={class:"w-20 h-20 rounded object-cover",width:"24px",height:"24px"},Ke={class:""},Qe={class:""},Re={class:""},We={class:""},Xe={class:"flex justify-end p-4"},Ye={class:"w-96 grid grid-cols-2"},eo=a("span",{class:"col-span-2 border-b-2"},null,-1);function oo(e,f,h,C,j,P){const S=m("Head"),x=m("ps-breadcrumb-2"),n=m("ps-label"),O=m("ps-dropdown-select"),I=m("ps-dropdown"),B=m("ps-button"),A=m("ps-loading"),D=m("ps-icon"),E=m("ps-layout"),N=Z("lazy");return p(),g($,null,[t(S,{title:e.$t("core_vendor__edit_order")},null,8,["title"]),t(E,null,{default:r(()=>[t(x,{items:e.breadcrumb,class:"mb-5 sm:mb-6 lg:mb-8"},null,8,["items"]),t(n,{class:"text-xl font-semibold mb-4"},{default:r(()=>[l(s(e.$t("core_vendor__order_information")),1)]),_:1}),t(n,{class:"lg:text-lg lg:font-medium bg-primary-50 px-4 py-2 rounded-t"},{default:r(()=>[l(s(e.$t("core_vendor__status_overview")),1)]),_:1}),a("form",{onSubmit:f[1]||(f[1]=M(o=>e.handleSubmit(e.order.id),["prevent"])),class:"border rounded-b border-t-0 p-4 mb-4"},[a("div",ie,[a("div",_e,[t(n,{class:"lg:text-base mb-2 lg:font-medium"},{default:r(()=>[l(s(e.$t("core_vendor__order_status")),1)]),_:1}),t(I,{onOnClick:e.loadMore,horizontalAlign:"left",class:"me-0 w-full"},{select:r(()=>[t(O,{h:"h-10",rounded:"rounded-s",showCenter:!0,selectedValue:e.orderStatuses.filter(o=>o.id==e.form.order_status_id)[0].name},null,8,["selectedValue"])]),list:r(()=>[a("div",ce,[a("div",ue,[a("div",null,[(p(!0),g($,null,V(e.orderStatuses,o=>(p(),g("div",{key:o.id,class:"w-56 flex py-4 px-2 hover:bg-primary-000 dark:hover:bg-primary-900 cursor-pointer items-center",onClick:d=>e.form.order_status_id=o.id},[t(n,{class:q(["ms-2",o.id==e.order.order_status_id?" font-bold":""])},{default:r(()=>[l(s(o.name),1)]),_:2},1032,["class"])],8,pe))),128))])])])]),_:1},8,["onOnClick"])]),a("div",me,[t(n,{class:"lg:text-base mb-2 lg:font-medium"},{default:r(()=>[l(s(e.$t("core_vendor__payment_status")),1)]),_:1}),t(I,{onOnClick:e.loadMore,horizontalAlign:"left",class:"me-0 w-full"},{select:r(()=>[t(O,{h:"h-10",rounded:"rounded-s",showCenter:!0,selectedValue:e.paymentStatuses.filter(o=>o.id==e.form.payment_status_id)[0].name},null,8,["selectedValue"])]),list:r(()=>[a("div",fe,[a("div",be,[a("div",null,[(p(!0),g($,null,V(e.paymentStatuses,o=>(p(),g("div",{key:o.id,class:"w-56 flex py-4 px-2 hover:bg-primary-000 dark:hover:bg-primary-900 cursor-pointer items-center",onClick:d=>e.form.payment_status_id=o.id},[t(n,{class:q(["ms-2",o.id==e.order.vendor_payment_status_id?" font-bold":""])},{default:r(()=>[l(s(o.name),1)]),_:2},1032,["class"])],8,ge))),128))])])])]),_:1},8,["onOnClick"])])]),a("div",he,[t(B,{onClick:f[0]||(f[0]=o=>e.handleCancel()),type:"reset",class:"me-4",colors:"text-primary-500",focus:"",hover:""},{default:r(()=>[l(s(e.$t("core__be_btn_cancel")),1)]),_:1}),t(B,{class:"transition-all duration-300 min-w-3xs",padding:"px-7 py-2",rounded:"rounded",hover:"",focus:""},{default:r(()=>[e.loading?(p(),k(A,{key:0,theme:"border-2 border-t-2 border-text-8 border-t-primary-500",loadingSize:"h-5 w-5"})):w("",!0),e.success?(p(),k(D,{key:1,name:"check",w:"20",h:"20",class:"me-1.5 transition-all duration-300"})):w("",!0),e.success?(p(),k(n,{key:2,class:"transition-all duration-300",textColor:"text-white dark:text-secondaryDark-black"},{default:r(()=>[l(s(e.$t("core__be_btn_saved")),1)]),_:1})):w("",!0),!e.loading&&!e.success?(p(),k(n,{key:3,textColor:"text-white dark:text-secondaryDark-black"},{default:r(()=>[l(s(e.$t("core__be_btn_save")),1)]),_:1})):w("",!0)]),_:1})])],32),t(n,{class:"lg:text-lg lg:font-medium bg-primary-50 px-4 py-2 rounded-t"},{default:r(()=>[l(s(e.$t("core_vendor__order_summary")),1)]),_:1}),a("div",ve,[a("div",ye,[a("div",Ce,[t(n,{textColor:"lg:text-secondary-500 mb-2"},{default:r(()=>[l(s(e.$t("core_vendor__order_id"))+" ",1),$e]),_:1}),t(n,{textColor:"lg:text-secondary-500 mb-2"},{default:r(()=>[l(s(e.$t("core_vendor__order_date"))+" ",1),ke]),_:1}),t(n,{textColor:"lg:text-secondary-500 mb-2"},{default:r(()=>[l(s(e.$t("core_vendor__customer_name"))+" ",1),we]),_:1}),t(n,{textColor:"lg:text-secondary-500 mb-2"},{default:r(()=>[l(s(e.$t("core_vendor__customer_email"))+" ",1),Pe]),_:1}),t(n,{textColor:"lg:text-secondary-500 mb-2"},{default:r(()=>[l(s(e.$t("core_vendor__shipping_address"))+" ",1),Se]),_:1})]),a("div",xe,[t(n,{class:"mb-2"},{default:r(()=>[l(s(e.order.order_code),1)]),_:1}),t(n,{class:"mb-2"},{default:r(()=>[l(s(e.order.order_date),1)]),_:1}),t(n,{class:"mb-2"},{default:r(()=>[l(s(e.order.owner.name),1)]),_:1}),t(n,{class:"mb-2"},{default:r(()=>[l(s(e.order.owner.email),1)]),_:1}),a("div",null,[t(n,null,{default:r(()=>{var o,d,_,c;return[l(s(((d=(o=e.order)==null?void 0:o.shipping_and_billing)==null?void 0:d.shipping_first_name)+" "+((c=(_=e.order)==null?void 0:_.shipping_and_billing)==null?void 0:c.shipping_last_name)),1)]}),_:1}),t(n,null,{default:r(()=>{var o,d;return[l(s((d=(o=e.order)==null?void 0:o.shipping_and_billing)==null?void 0:d.shipping_phone_no),1)]}),_:1}),t(n,null,{default:r(()=>{var o,d;return[l(s((d=(o=e.order)==null?void 0:o.shipping_and_billing)==null?void 0:d.shipping_email),1)]}),_:1}),t(n,null,{default:r(()=>{var o,d;return[l(s((d=(o=e.order)==null?void 0:o.shipping_and_billing)==null?void 0:d.shipping_address),1)]}),_:1}),t(n,null,{default:r(()=>{var o,d,_,c,i,u,v,y;return[l(s(((d=(o=e.order)==null?void 0:o.shipping_and_billing)==null?void 0:d.shipping_country)+", "+((c=(_=e.order)==null?void 0:_.shipping_and_billing)==null?void 0:c.shipping_state)+", "+((u=(i=e.order)==null?void 0:i.shipping_and_billing)==null?void 0:u.shipping_city)+", "+((y=(v=e.order)==null?void 0:v.shipping_and_billing)==null?void 0:y.shipping_postal_code)),1)]}),_:1})])]),a("div",Be,[t(n,{textColor:"lg:text-secondary-500 mb-2"},{default:r(()=>[l(s(e.$t("core_vendor__payment_method"))+" ",1),ze]),_:1}),t(n,{textColor:"lg:text-secondary-500 mb-2"},{default:r(()=>[l(s(e.$t("core_vendor__total_order_amount"))+" ",1),Ve]),_:1}),t(n,{textColor:"lg:text-secondary-500 mb-2"},{default:r(()=>[l(s(e.$t("core_vendor__billing_address"))+" ",1),je]),_:1})]),a("div",Oe,[t(n,{class:"mb-2"},{default:r(()=>{var o,d;return[l(s((o=e.order.vendor_transaction)!=null&&o.payment_method?(d=e.order.vendor_transaction)==null?void 0:d.payment_method:"N.A"),1)]}),_:1}),t(n,{class:"mb-2"},{default:r(()=>{var o,d;return[l(s((d=(o=e.order.vendor_transaction)==null?void 0:o.currency)==null?void 0:d.currency_symbol)+s(e.order.total_price),1)]}),_:1}),a("div",null,[t(n,null,{default:r(()=>{var o,d,_,c;return[l(s(((d=(o=e.order)==null?void 0:o.shipping_and_billing)==null?void 0:d.billing_first_name)+" "+((c=(_=e.order)==null?void 0:_.shipping_and_billing)==null?void 0:c.billing_last_name)),1)]}),_:1}),t(n,null,{default:r(()=>{var o,d;return[l(s((d=(o=e.order)==null?void 0:o.shipping_and_billing)==null?void 0:d.billing_phone_no),1)]}),_:1}),t(n,null,{default:r(()=>{var o,d;return[l(s((d=(o=e.order)==null?void 0:o.shipping_and_billing)==null?void 0:d.billing_email),1)]}),_:1}),t(n,null,{default:r(()=>{var o,d;return[l(s((d=(o=e.order)==null?void 0:o.shipping_and_billing)==null?void 0:d.billing_address),1)]}),_:1}),t(n,null,{default:r(()=>{var o,d,_,c,i,u,v,y;return[l(s(((d=(o=e.order)==null?void 0:o.shipping_and_billing)==null?void 0:d.billing_country)+", "+((c=(_=e.order)==null?void 0:_.shipping_and_billing)==null?void 0:c.billing_state)+", "+((u=(i=e.order)==null?void 0:i.shipping_and_billing)==null?void 0:u.billing_city)+", "+((y=(v=e.order)==null?void 0:v.shipping_and_billing)==null?void 0:y.billing_postal_code)),1)]}),_:1})])])])]),t(n,{class:"lg:text-lg lg:font-medium bg-primary-50 px-4 py-2 rounded-t"},{default:r(()=>[l(s(e.order.vendor.name),1)]),_:1}),a("div",Ie,[a("table",qe,[a("thead",Ae,[a("tr",null,[a("th",De,[t(n,{textColor:"font-semibold text-base",class:"my-2"},{default:r(()=>[Ee]),_:1})]),a("th",Ne,[t(n,{textColor:"font-semibold text-base"},{default:r(()=>[l(s(e.$t("core_vendor__product_info")),1)]),_:1})]),a("th",Te,[t(n,{textColor:"font-semibold text-base"},{default:r(()=>[l(s(e.$t("core_vendor__quantity")),1)]),_:1})]),a("th",Le,[t(n,{textColor:"font-semibold text-base"},{default:r(()=>[l(s(e.$t("core_vendor__unit_price")),1)]),_:1})]),a("th",Fe,[t(n,{textColor:"font-semibold text-base"},{default:r(()=>[l(s(e.$t("core_vendor__discount")),1)]),_:1})]),a("th",He,[t(n,{textColor:"font-semibold text-base"},{default:r(()=>[l(s(e.$t("core_vendor__total_price")),1)]),_:1})])])]),a("tbody",Me,[(p(!0),g($,null,V(e.order.order_items,(o,d)=>{var _,c;return p(),g("tr",{key:d},[a("td",Ue,[t(n,{textColor:"font-semibold text-base"},{default:r(()=>[l(s(d+1),1)]),_:2},1024)]),a("td",Ze,[a("div",Ge,[U(a("img",Je,null,512),[[N,{src:e.$page.props.thumb2xUrl+"/"+((c=(_=o.item)==null?void 0:_.cover[0])==null?void 0:c.img_path),loading:e.$page.props.sysImageUrl+"/loading_gif.gif",error:e.$page.props.sysImageUrl+"/default_photo.png"}]]),t(n,null,{default:r(()=>{var i;return[l(s((i=o.item)==null?void 0:i.title),1)]}),_:2},1024)])]),a("td",Ke,[t(n,{textColor:"font-semibold text-base"},{default:r(()=>[l(s(o.quantity),1)]),_:2},1024)]),a("td",Qe,[t(n,{textColor:"font-semibold text-base"},{default:r(()=>{var i,u;return[l(s((u=(i=e.order.vendor_transaction)==null?void 0:i.currency)==null?void 0:u.currency_symbol)+s(o.sale_price),1)]}),_:2},1024)]),a("td",Re,[t(n,{textColor:"font-semibold text-base"},{default:r(()=>{var i,u;return[l(s((u=(i=e.order.vendor_transaction)==null?void 0:i.currency)==null?void 0:u.currency_symbol)+s(o.discount_price),1)]}),_:2},1024)]),a("td",We,[t(n,{textColor:"font-semibold text-base"},{default:r(()=>{var i,u;return[l(s((u=(i=e.order.vendor_transaction)==null?void 0:i.currency)==null?void 0:u.currency_symbol)+s(o.sub_total),1)]}),_:2},1024)])])}),128))])]),a("div",Xe,[a("div",Ye,[t(n,{class:"lg:text-lg p-1"},{default:r(()=>[l(s(e.$t("core_vendor__subtotal")),1)]),_:1}),t(n,{class:"lg:text-lg p-1 text-end"},{default:r(()=>{var o,d;return[l(s((d=(o=e.order.vendor_transaction)==null?void 0:o.currency)==null?void 0:d.currency_symbol)+s(e.order.sub_total),1)]}),_:1}),t(n,{class:"lg:text-lg p-1"},{default:r(()=>[l(s(e.$t("core_vendor__discount")),1)]),_:1}),t(n,{class:"lg:text-lg p-1 text-end",textColor:"text-red-500"},{default:r(()=>{var o,d;return[l("-"+s((d=(o=e.order.vendor_transaction)==null?void 0:o.currency)==null?void 0:d.currency_symbol)+s(e.order.discount_price),1)]}),_:1}),t(n,{class:"lg:text-lg p-1"},{default:r(()=>[l(s(e.$t("core_vendor__delivery_charges")),1)]),_:1}),t(n,{class:"lg:text-lg p-1 text-end"},{default:r(()=>{var o,d;return[l(s((d=(o=e.order.vendor_transaction)==null?void 0:o.currency)==null?void 0:d.currency_symbol)+s(e.order.delivery_fee),1)]}),_:1}),eo,t(n,{textColor:"font-semibold",class:"lg:text-lg p-1"},{default:r(()=>[l(s(e.$t("core_vendor__total")),1)]),_:1}),t(n,{textColor:"font-semibold",class:"lg:text-lg p-1 text-end"},{default:r(()=>{var o,d;return[l(s((d=(o=e.order.vendor_transaction)==null?void 0:o.currency)==null?void 0:d.currency_symbol)+s(e.order.total_price),1)]}),_:1})])])]),t(B,{onClick:f[2]||(f[2]=o=>e.handleCancel()),class:"float-right",padding:"px-7 py-2",rounded:"rounded",hover:"",key:"",focus:""},{default:r(()=>[t(n,{textColor:"text-white dark:text-secondaryDark-black"},{default:r(()=>[l(s(e.$t("core_vendor__back")),1)]),_:1})]),_:1})]),_:1})],64)}var Uo=de(ae,[["render",oo]]);export{Uo as default};
