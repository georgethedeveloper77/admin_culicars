import C from"./PsModal.36ad7f82.js";import M from"./PsButton.7f6705bd.js";import{P as S}from"./PsValueStore.eb9430a0.js";import $ from"./PsErrorDialog.d6a4d7d4.js";import{u as x}from"./VendorItemBoughtStore.10e87a60.js";import{d as B,i as f,o as q,c as w,b as a,w as c,a as k,q as g,t as y,F as E,A as I,r as p}from"./app.2982e019.js";import{d as N}from"./dropin.482cf9a5.js";import{_ as D}from"./plugin-vue_export-helper.21dcd24c.js";import"./vue-neat-modal.2bf17e6b.js";import"./PsLine.ea3266c0.js";import"./ThemeStore.40343845.js";import"./LanguageStore.8f1cddd7.js";import"./PsLabelTitle.ddb6fa87.js";import"./PsLabel.c51f2c9d.js";import"./PsApiService.9afc2356.js";import"./ApiStatus.5720ba0b.js";import"./PsObject.a17ef38f.js";import"./PsSepetetedStore.9a31ac47.js";const T=B({name:"VendorPaypalModal",components:{PsModal:C,PsButton:M,PsErrorDialog:$},setup(){const o=f(),e=f(),m=S().getLoginUserId(),s=x();let i,t;function r(n){n=="yes"?i():t(),o.value.toggle(!1)}async function l(n,b,P){o.value.toggle(!0),i=n,t=b;const V=await s.getVendorPaypalToken(P,m),d=document.querySelector("#submit-button");N.create({authorization:V.data.message,container:"#dropin-container",paypal:{flow:"vault"}},function(z,u){d==null||d.addEventListener("click",function(){u.isPaymentMethodRequestable()&&setTimeout(function(){u.requestPaymentMethod(async function(h,_){if(console.log(_),h){e.value.openModal("",I("paypal_credit_card_modal__error_paid_ad"));return}s.paymentNonce=_.nonce,r("yes")})},200)})})}return{psmodal:o,ps_error_dialog:e,openModal:l,actionClicked:r}}}),F=k("div",{id:"dropin-container"},null,-1),L={class:"flex justify-center mx-auto"};function U(o,e,v,m,s,i){const t=p("ps-button"),r=p("ps-modal"),l=p("ps-error-dialog");return q(),w(E,null,[a(r,{ref:"psmodal",line:"hidden",isClickOut:!1},{body:c(()=>[F,k("div",L,[a(t,{id:"submit-button"},{default:c(()=>[g(y(o.$t("paypal_credit_card_modal__submit_payment")),1)]),_:1}),a(t,{theme:"btn-second",class:"text-center mx-4",onClick:e[0]||(e[0]=n=>o.actionClicked("no"))},{default:c(()=>[g(y(o.$t("paypal_credit_card_modal__close")),1)]),_:1})])]),_:1},512),a(l,{ref:"ps_error_dialog"},null,512)],64)}var so=D(T,[["render",U]]);export{so as default};
