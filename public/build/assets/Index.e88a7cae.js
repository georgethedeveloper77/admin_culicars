import{_ as J}from"./PsLayout.568c8fbc.js";import{d as Q,Z as X,p as ee,i as n,K as oe,A as e,o as l,c as _,b as t,w as i,a as d,q as g,t as y,f as k,F as T,s as x,n as O,g as V,bB as C,B as b,r as c}from"./app.2982e019.js";import{h as re}from"./moment.9709ab41.js";import se from"./PsBannerIcon.d77e89fa.js";import{P as te}from"./PsInput.8a03a303.js";import{P as ae}from"./PsLabel.8e7b338e.js";import{P as le}from"./PsButton.60128369.js";import{P as ie}from"./PsTextarea.3b6e2b2c.js";import{P as ne}from"./PsLabelHeader4.433dd7a4.js";import{P as ce}from"./PsIcon.e7a5adcd.js";import{b as de}from"./PsDangerDialog.7d01f7b5.js";import{P as _e}from"./PsErrorDialog.ccf1ce18.js";import{P as pe}from"./PsToggle.5b24d11e.js";import{P as me}from"./PsBreadcrumb2.92714552.js";import{P as ue}from"./PsCard.1a3f6d6f.js";import{P as be}from"./PsInputWithRightIcon.b34d7fa0.js";import{P as ge}from"./PsLoadingCircleDialog.c85c86cd.js";import{P as fe}from"./PsSuccessDialog.4330bf2e.js";import{P as he}from"./PsConfirmDialog.89d8ddff.js";import{P as ve}from"./PsWarningDialog.2baf785b.js";import{P as ye}from"./PsDropdown.3b1e9581.js";import{P as ke}from"./PsDropdownSelect.b154c567.js";import we from"./PsLicenseActivateModal.7eaa9e0d.js";import{_ as Me}from"./plugin-vue_export-helper.21dcd24c.js";import"./PsTextButton.a77542e1.js";import"./index.esm.8fcef60c.js";import"./auth.esm.be6b9a90.js";import"./ThemeStore.40343845.js";import"./LanguageStore.8f1cddd7.js";import"./SideMenuStore.ed2aa07c.js";import"./SidebarMenuItem.6b029457.js";import"./AppInfoStore.6a348fbd.js";import"./NotificationStore.af68b63a.js";import"./index.esm.7ce161a7.js";import"./NotiUnRegisterHolder.eefb692e.js";import"./ps_constants.0e2a11f9.js";import"./PsIcon1.0883f10e.js";import"./Icons.c01eddd9.js";import"./PsModal.62a4a1d3.js";import"./vue-neat-modal.2bf17e6b.js";import"./toggle.ae92e5df.js";/* empty css                                                             */import"./PsLoading.0a981307.js";import"./PsLabelCaption.f2ff5485.js";const Pe=Q({name:"Index",components:{Head:X,Link:ee,PsInput:te,PsLabel:ae,PsErrorDialog:_e,PsBannerIcon:se,PsButton:le,PsTextarea:ie,PsLabelHeader4:ne,PsIcon:ce,PsConfirmDialog:he,PsWarningDialog:ve,PsDangerDialog:de,PsToggle:pe,PsBreadcrumb2:me,PsCard:ue,PsInputWithRightIcon:be,PsSuccessDialog:fe,PsLoadingCircleDialog:ge,PsDropdownSelect:ke,PsDropdown:ye,PsLicenseActivateModal:we},layout:J,props:["purchaseCodeOrUrlNotSame","project","builderApiOverwrite","errors","replace_status","replace_message","purchased_code","status","logMessages","needRefresh","hasError","activatedFileName","selectedZipFileName","zipFileName","can","tableUsedTypes","tableUsedTypeId","status","tables","importSuccessMsg","importedFileName","diffIds","recentImportedFileName","search","loadMore","sorting","baseProjectSameMsg","baseProjectNotSameMsg"],setup(o){const f=n(),N=o.sorting==0?n(!1):n(!0),w=o.search?n(o.search):n(""),F=o.loadMore==0?n(!1):n(!0),j=n(),a=n(),M=n(),m=n(),p=n(),u=o.tableUsedTypeId?n(o.tableUsedTypeId):n(99);let P=n();const S=n(),D=n();function B(){let s=e("core__be_btn_reload");M.value.openModal(e("core__be_awesome_title"),e("core__be_impport_success_note"),s,()=>{location.reload(!0)},!1)}function A(s){const v=s.target.files;P.value=v[0],m.value.openModal(e("core__be_import_confimation_title"),e("core__be_import_confimation_note"),e("core__be_btn_confirm"),e("btn_cancel"),()=>{$(P.value)},()=>{})}function L(s){m.value.openModal(e("core__be_import_confirmation"),e("core__be_want_import_zip_file"),e("core__be_btn_confirm"),e("core__be_btn_cancel"),()=>{I(s)},()=>{})}function I(s){let v=C({selectedFileName:s});a.value.openModal(e("core__be_importing_title"),e("core__be_importing_note")),b.post(route("table.import.zip"),v,{onBefore:()=>{a.value.openModal(e("core__be_importing_title"),e("core__be_importing_note"))},onSuccess:G=>{a.value.closeModal()},onError:()=>{a.value.closeModal()}})}function $(s){let v=C({zipFile:s,zipFileName:s.name});a.value.openModal(e("core__be_importing_title"),e("core__be_importing_note")),b.post(route("table.import.zip"),v,{onBefore:()=>{a.value.openModal(e("core__be_importing_title"),e("core__be_importing_note"))},onSuccess:G=>{a.value.closeModal()},onError:()=>{a.value.closeModal()}})}function E(){M.value.openModal(e("license_activation_success"),e("license_activation_success_finish_msg"),e("setup_project"),()=>{let s=C({zipFileName:o.zipFileName});this.$inertia.get(route("table.index"),s)},!1)}function U(s){S.value.openModal(e("core__be_error_import_title"),s,e("core__be_btn_ok"),()=>{})}function z(){p.value.openModal(e("core__be_overwrite_table_title"),e("core__be_overwrite_table_note"),e("core__be_btn_confirm"),e("btn_cancel"),()=>{let s=C({diffIds:o.diffIds,recentImportedFileName:o.recentImportedFileName});b.post(route("table.field.override"),s,{onBefore:()=>{a.value.openModal(e("core__be_importing_title"),e("core__be_importing_note"))},onSuccess:v=>{a.value.closeModal()},onError:()=>{a.value.closeModal()}})},()=>{let s=C({recentImportedFileName:o.recentImportedFileName});b.post(route("table.field.override"),s,{onBefore:()=>{a.value.openModal(e("core__be_importing_title"),e("core__be_importing_note"))},onSuccess:()=>{a.value.closeModal()},onError:()=>{a.value.closeModal()}})})}function r(s){this.$inertia.get(route("tables.fields.index",[s]),{symbol:localStorage.activeLanguage?localStorage.activeLanguage:"en"})}function h(){p.value.openModal(e("core__be_replace_table_title"),e("core__be_replace_table_note"),e("core__be_btn_confirm"),e("btn_cancel"),()=>{let s=C({importedFileName:o.importedFileName});a.value.openModal(e("core__be_importing_title"),e("core__be_importing_note")),b.post(route("table.field.handleProjectNotSame"),s,{onBefore:()=>{a.value.openModal(e("core__be_importing_title"),e("core__be_importing_note"))},onSuccess:v=>{a.value.closeModal()},onError:()=>{a.value.closeModal()}})},()=>{})}function R(){b.get(route("table.index"),{sorting:N.value==!1?0:1,loading:F.value==!1?0:1,search:w.value,tableUsedTypeId:u.value})}function Z(){m.value.openModal(e("core__be_replace_project_title"),e("core__be_replace_project_confirmation"),e("core__be_btn_confirm"),e("core__be_btn_cancel"),()=>{a.value.openModal(e("core__be_importing_title"),e("core__be_importing_note")),b.get(route("table.do_replace"))},()=>{},e("core__be_replace_project_warning"))}function H(){D.value.openModal(e("pls_activate_your_app"),"You have successfully imported the file.","Back",()=>{},!1)}oe(w,s=>{setTimeout(()=>{b.get(route("table.index"),{sorting:N.value==!1?0:1,loading:F.value==!1?0:1,search:w.value,tableUsedTypeId:u.value})},2e3)});function W(s){u.value=s,b.get(route("table.index"),{sorting:N.value==!1?0:1,loading:F.value==!1?0:1,search:w.value,tableUsedTypeId:u.value})}function q(){j.value.click()}function K(s){S.value.openModal(e("ps_error_dialog__error"),s,e("core__be_btn_ok"),()=>{})}function Y(s){M.value.openModal(e("ps_success_dialog__success"),s,e("core__be_btn_ok"),()=>{location.reload(!0)})}return{showErrorDialog:K,showSuccessDialog:Y,moment:re,handleImport:A,usedTypeClicked:W,handleBaseProjectNotSame:U,ps_danger_dialog:f,ps_error_dialog:S,route,handleOverride:z,handleDetail:r,sortingClicked:R,isSorting:N,search:w,importClicked:q,importFile:j,ps_success_dialog:M,ps_loading_circle_dialog:a,handleBaseProjectSame:h,openSuccessDialog:B,ps_confirm_dialog:m,ps_warning_dialog:p,usedTypeSearch:u,handleAlreadySelectedImport:L,doAlreadySelectedImport:I,openLicenseActivateModal:H,confirmToReplaceModal:Z,ps_license_activate_modal:D,openLicenseActivateSuccessDialog:E}},created(){},mounted(){this.zipFileName&&this.handleAlreadySelectedImport(this.zipFileName),this.purchaseCodeOrUrlNotSame&&this.openLicenseActivateModal(),this.builderApiOverwrite&&this.confirmToReplaceModal(),this.replace_status&&(this.replace_status=="error"?this.showErrorDialog(this.replace_message):this.showSuccessDialog(this.replace_message)),this.hasError===0&&this.openLicenseActivateSuccessDialog()},beforeUpdate(){this.diffIds&&this.diffIds.length&&this.handleOverride(),this.purchaseCodeOrUrlNotSame&&this.openLicenseActivateModal(),this.builderApiOverwrite&&this.confirmToReplaceModal(),this.replace_status&&(this.replace_status=="error"?this.showErrorDialog(this.replace_message):this.showSuccessDialog(this.replace_message)),this.hasError===0&&this.openLicenseActivateSuccessDialog(),this.baseProjectNotSameMsg&&this.handleBaseProjectNotSame(this.baseProjectNotSameMsg),this.baseProjectSameMsg&&this.handleBaseProjectSame(),this.importSuccessMsg&&this.openSuccessDialog(),this.zipFileName&&this.handleAlreadySelectedImport(this.zipFileName)},computed:{breadcrumb(){return[{label:e("core__be_dashboard_label"),url:route("admin.index")},{label:e("table_setting_group"),color:"text-primary-500"}]}}}),Se={class:"min-h-screen"},Ce={class:"mt-4 sm:mt-6 lg:mt-10 mb-4 lg:mb-6 flex flex-col sm:flex-row justify-between"},Ne={class:"flex flex-row justify-between mb-4 sm:mb-0"},Te={class:"flex sm:hidden"},Fe={class:"rounded-md shadow-xs w-40"},De={class:"pt-2"},Ie={key:0},xe=g("Create new currency"),je={key:1},Be=["onClick"],Ae={class:"flex flex-row"},Le={class:"sm:flex hidden me-4"},$e={class:"rounded-md shadow-xs w-40"},Ee={class:"pt-2"},Ue={key:0},ze=g("Create new currency"),Oe={key:1},Ve=["onClick"],Re={class:"w-full grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-2 gap-4 sm:gap-6 lg:gap-6"},Ze=["onClick"],He={class:"pe-4 border-r border-secondary-200 flex items-center justify-center"},We={class:"flex-grow px-4"},qe={class:"flex rtl:space-x-reverse space-x-1 mt-1"},Ke={key:0,class:"mt-6 lg:mt-8 flex items-center justify-end rtl:space-x-reverse space-x-1"},Ye={class:"flex"};function Ge(o,f,N,w,F,j){const a=c("Head"),M=c("ps-breadcrumb-2"),m=c("ps-icon"),p=c("ps-label"),u=c("ps-button"),P=c("ps-dropdown-select"),S=c("ps-dropdown"),D=c("ps-input-with-right-icon"),B=c("Link"),A=c("ps-loading-circle-dialog"),L=c("ps-success-dialog"),I=c("ps-confirm-dialog"),$=c("ps-warning-dialog"),E=c("ps-error-dialog"),U=c("ps-license-activate-modal"),z=c("ps-layout");return l(),_(T,null,[t(a,{title:o.$t("table_setting_group")},null,8,["title"]),t(z,null,{default:i(()=>[d("div",Se,[t(M,{items:o.breadcrumb,class:"mb-4 sm:mb-0"},null,8,["items"]),d("div",Ce,[d("div",Ne,[t(u,{onClick:o.sortingClicked,colors:"bg-background dark:bg-backgroundDark",border:"border-secondary-200 border dark:border-secondary-100",shadow:"shadow-sm",focus:"focus:outline-none",hover:"hover:outline-none hover:bg-secondary-200"},{default:i(()=>[t(m,{name:"sort",class:"cursor-pointer me-2"}),t(p,{textColor:"text-secondary-800 dark:text-secondary-100 text-sm"},{default:i(()=>[g(y(o.$t("core__be_sort_by_name")),1)]),_:1})]),_:1},8,["onClick"]),d("div",Te,[t(S,{align:"",class:"w-40 h-10"},{select:i(()=>[o.usedTypeSearch==99?(l(),k(P,{key:0,class:"w-40",placeholder:"Choose Table Used Type",showCenter:!0,selectedValue:"Null (temp)"})):(l(),k(P,{key:1,class:"w-40",placeholder:"Choose Table Used Type",showCenter:!0,selectedValue:o.usedTypeSearch==""?"":o.tableUsedTypes.filter(r=>r.id==o.usedTypeSearch)[0].name},null,8,["selectedValue"]))]),list:i(()=>[d("div",Fe,[d("div",De,[o.tableUsedTypes.length==null?(l(),_("div",Ie,[t(p,{class:"p-2 flex",onClick:f[0]||(f[0]=r=>o.route("core_key_type.index"))},{default:i(()=>[xe]),_:1})])):(l(),_("div",je,[(l(!0),_(T,null,x(o.tableUsedTypes,r=>(l(),_("div",{key:r.id,class:"w-40 flex py-4 px-2 hover:bg-primary-000 dark:hover:bg-primary-900 cursor-pointer items-center",onClick:h=>o.usedTypeClicked(r.id)},[t(p,{class:O(["ms-2",r.id==o.usedTypeSearch?" font-bold":""])},{default:i(()=>[g(y(r.name),1)]),_:2},1032,["class"])],8,Be))),128))]))])])]),_:1})])]),d("div",Ae,[d("div",Le,[t(S,{align:"",class:"w-40 h-10"},{select:i(()=>[t(P,{class:"w-40",placeholder:"Choose Table Used Type",showCenter:!0,selectedValue:o.usedTypeSearch==""?"":o.tableUsedTypes.filter(r=>r.id==o.usedTypeSearch)[0].name},null,8,["selectedValue"])]),list:i(()=>[d("div",$e,[d("div",Ee,[o.tableUsedTypes.length==null?(l(),_("div",Ue,[t(p,{class:"p-2 flex",onClick:f[1]||(f[1]=r=>o.route("core_key_type.index"))},{default:i(()=>[ze]),_:1})])):(l(),_("div",Oe,[(l(!0),_(T,null,x(o.tableUsedTypes,r=>(l(),_("div",{key:r.id,class:"w-40 flex py-4 px-2 hover:bg-primary-000 dark:hover:bg-primary-900 cursor-pointer items-center",onClick:h=>o.usedTypeClicked(r.id)},[t(p,{class:O(["ms-2",r.id==o.usedTypeSearch?" font-bold":""])},{default:i(()=>[g(y(r.name),1)]),_:2},1032,["class"])],8,Ve))),128))]))])])]),_:1})]),t(D,{value:o.search,"onUpdate:value":f[2]||(f[2]=r=>o.search=r),class:"w-full sm:w-80",rounded:"rounded-lg",placeholder:o.$t("core__be_search")},{icon:i(()=>[t(m,{name:"search",class:"cursor-pointer"})]),_:1},8,["value","placeholder"])])]),d("div",Re,[(l(!0),_(T,null,x(o.tables.data,r=>(l(),_("div",{onClick:h=>o.handleDetail(r.id),key:r.id,class:"cursor-pointer border border-secondary-200 shadow-sm rounded flex flex-row p-4"},[d("div",He,[t(m,{name:"box",theme:"text-secondary-800 dark:text-secondary-50"})]),d("div",We,[t(p,{class:"text-lg"},{default:i(()=>[g(y(r.name),1)]),_:2},1024),d("div",qe,[t(p,{class:"bg-blue-100 dark:bg-primary-800 p-1 rounded text-xs",textColor:"text-blue-800 dark:text-blue-100"},{default:i(()=>[g(y(o.$t("core__be_core_fields")),1)]),_:1}),r.is_only_for_core_field!=1?(l(),k(p,{key:0,class:"bg-yellow-100 p-1 rounded text-xs",textColor:"text-yellow-800"},{default:i(()=>[g(y(o.$t("core__be_custom_fields")),1)]),_:1})):V("",!0)])])],8,Ze))),128))]),Object.keys(o.tables.data).length>0?(l(),_("div",Ke,[(l(!0),_(T,null,x(o.tables.meta.links,(r,h)=>(l(),k(B,{key:h,href:r.url?r.url:"",class:"h-8 rounded bg-white dark:bg-secondaryDark-black"},{default:i(()=>[d("div",Ye,[h==0?(l(),k(u,{key:0,hover:"",focus:"",colors:"bg-background dark:bg-backgroundDark hover:bg-secondary-100",class:"mt-0.5",padding:"py-2 px-2",border:"border border-secodnary-200 dark:border-secodnary-100 "},{default:i(()=>[t(m,{name:"doubleArrowLeft",w:"16",h:"16"})]),_:1})):h==Object.keys(o.tables.meta.links).length-1?(l(),k(u,{key:1,colors:"bg-background dark:bg-backgroundDark hover:bg-secondary-100",class:"mt-0.5",padding:"py-2 px-2",hover:"",focus:"",border:"border border-secodnary-200  dark:border-secodnary-100"},{default:i(()=>[t(m,{name:"doubleArrowRight",w:"16",h:"16"})]),_:1})):(l(),k(u,{key:2,rounded:"rounded",colors:"bg-white",border:"border border-gray-200 rounded",class:O(r.active?"bg-indigo-500 text-white":"hover:text-gray-500 dark:bg-backgroundDark hover:bg-gray-200"),padding:"py-2 px-4"},{default:i(()=>[g(y(r.label),1)]),_:2},1032,["class"]))])]),_:2},1032,["href"]))),128))])):V("",!0)]),t(A,{ref:"ps_loading_circle_dialog"},null,512),t(L,{ref:"ps_success_dialog"},null,512),t(I,{ref:"ps_confirm_dialog"},null,512),t($,{ref:"ps_warning_dialog"},null,512),t(E,{ref:"ps_error_dialog"},null,512),t(U,{selectedZipFileName:o.selectedZipFileName,isCountDownShow:!1,hasError:o.hasError,logMessages:o.logMessages,status:o.status,purchased_code:o.purchased_code,project:o.project,errors:o.errors,systemCode2:o.systemCode2,ref:"ps_license_activate_modal"},null,8,["selectedZipFileName","hasError","logMessages","status","purchased_code","project","errors","systemCode2"])]),_:1})],64)}var Vo=Me(Pe,[["render",Ge]]);export{Vo as default};
