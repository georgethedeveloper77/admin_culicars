import{i as g,r as f,o as a,f as s,w as h,a as m,c as i,n as _,g as u,t as b,q as C,b as v,B as I,p as T,Z as D,j as L,F as M,s as x}from"./app.2982e019.js";import{P as A}from"./PsLabel.8e7b338e.js";import{P as F}from"./PsIcon.e7a5adcd.js";import{P as B}from"./PsErrorDialog.ccf1ce18.js";import{u as k}from"./SideMenuStore.ed2aa07c.js";import{_ as w}from"./plugin-vue_export-helper.21dcd24c.js";const j={components:{PsLabel:A,PsIcon:F,PsErrorDialog:B},props:{icon:{type:String,default:""},hasModule:{type:Boolean,default:!1},showIcon:{type:Boolean,default:!1},name:{type:String,default:""},noti:{type:String,default:""},showGroupIcon:{type:Boolean,default:!0},defaultTheme:{type:String,default:"text-secondary-800 bg-primary-50 hover:bg-primary-200 dark:hover:bg-primary-200 dark:hover:text-secondary-800 dark:text-secondary-100 dark:bg-secondary-900 "},activeTheme:{type:String,default:"text-secondary-50 bg-primary-500 dark:text-secondary-900"},rounded:{type:String,default:"rounded-lg"},padding:{type:String,default:"p-2"},url:{type:String,default:""},dropdownActive:{type:Boolean,default:!1}},setup(n){const r=k(),e=g();function t(l){r.setFullSideMenuFlag(l)}function c(){if(!n.hasModule)try{I.get(route(n.url)),r.setSidebarActive(n.name)}catch(l){e.value.openModal("Can't go to "+n.url,l.message,"Retry",()=>{c()})}t(!0)}return{sideMenuStore:r,handleSidebarFull:t,menuClick:c,ps_error_dialog:e}}},G={class:"relative flex flex-row items-center"},P={class:"relative"},N={class:"flex flex-col items-center"},R={key:1,class:""};function V(n,r,e,t,c,l){const d=f("ps-icon"),y=f("ps-label"),o=f("ps-error-dialog");return a(),s(y,null,{default:h(()=>[m("button",{type:"submit",onClick:r[0]||(r[0]=(...S)=>t.menuClick&&t.menuClick(...S)),class:_(["flex justify-between w-full cursor-pointer",{"justify-start ":t.sideMenuStore.isFullSideMenu,"sm:justify-center ":!t.sideMenuStore.isFullSideMenu,[e.activeTheme]:e.hasModule==!1&&n.$t(t.sideMenuStore.sidebarActive)==e.name||e.hasModule==!0&&e.dropdownActive==!0,[e.defaultTheme]:!(e.hasModule==!1&&n.$t(t.sideMenuStore.sidebarActive)==e.name||e.hasModule==!0&&e.dropdownActive==!0),[e.rounded]:!0,[e.padding]:!0}])},[m("div",G,[m("div",P,[e.noti!=""?(a(),i("div",{key:0,class:_([t.sideMenuStore.isFullSideMenu?"hidden":"","absolute w-1.5 h-1.5 ms-3 bg-red-500 rounded-full"])},null,2)):u("",!0),m("div",N,[e.showIcon?(a(),s(d,{key:0,class:"mx-auto my-auto",w:t.sideMenuStore.isFullSideMenu?"24":"20",h:t.sideMenuStore.isFullSideMenu?"24":"20",name:e.icon},null,8,["w","h","name"])):u("",!0)])]),m("span",{class:_([t.sideMenuStore.isFullSideMenu?"":"sm:hidden","text-base ms-5 me-2"])},b(e.name),3)]),m("div",{class:_([t.sideMenuStore.isFullSideMenu?"":"sm:hidden","flex justify-center my-auto"])},[e.noti!=""?(a(),s(y,{key:0,class:_(["text-center rounded-full ms-2 me-2 text-xxs",{"text-primary-500":n.$t(t.sideMenuStore.sidebarActive)==e.name,"bg-primary-500  text-white":n.$t(t.sideMenuStore.sidebarActive)!=e.name,"w-6 h-6 pt-1.5":parseInt(e.noti)>99,"w-5 h-5 pt-1":parseInt(e.noti)>9,"w-4 h-4 pt-0.5":parseInt(e.noti)<9}])},{default:h(()=>[C(b(parseInt(e.noti)>99?"99+":e.noti),1)]),_:1},8,["class"])):u("",!0),e.showGroupIcon?(a(),i("div",R,[e.dropdownActive?(a(),s(d,{key:1,name:"upChervon",class:"me-1"})):(a(),s(d,{key:0,name:"downChervon"}))])):u("",!0)],2)],2),v(o,{ref:"ps_error_dialog"},null,512)]),_:1})}var E=w(j,[["render",V]]);const q={components:{PsLabel:A,PsIcon:F,PsErrorDialog:B},props:{icon:{type:String,default:""},showIcon:{type:Boolean,default:!1},name:{type:String,default:""},url:{type:String,default:""},noti:{type:String,default:""},showGroupIcon:{type:Boolean,default:!0},defaultTheme:{type:String,default:"text-secondary-800 bg-primary-50 hover:bg-primary-200 dark:hover:bg-primary-200 dark:hover:text-secondary-800 dark:text-secondary-100 dark:bg-secondary-900 "},activeTheme:{type:String,default:"text-secondary-50 bg-primary-500 dark:text-secondary-900"},rounded:{type:String,default:"rounded-lg"},padding:{type:String,default:"p-2"}},setup(n){const r=k(),e=g(!1),t=g();function c(d){r.setFullSideMenuFlag(d)}function l(){try{I.get(route(n.url)),r.setSidebarActive(n.name),e.value=!e.value,c(!0)}catch(d){t.value.openModal("Can't go to "+n.url,d.message,"Retry",()=>{l()})}}return{sideMenuStore:r,isDropdownActive:e,handleSidebarFull:c,clickedButton:l,ps_error_dialog:t}}},z={class:"relative items-center ps-10"},H={key:1,class:""};function K(n,r,e,t,c,l){const d=f("ps-label"),y=f("ps-icon"),o=f("ps-error-dialog");return a(),s(d,null,{default:h(()=>[m("div",{onClick:r[0]||(r[0]=(...S)=>t.clickedButton&&t.clickedButton(...S)),class:_(["flex justify-between w-full cursor-pointer",{"justify-start":t.sideMenuStore.isFullSideMenu,"sm:justify-center":!t.sideMenuStore.isFullSideMenu,[e.activeTheme]:n.$t(t.sideMenuStore.sidebarActive)==e.name,[e.defaultTheme]:n.$t(t.sideMenuStore.sidebarActive)!=e.name,[e.rounded]:!0,[e.padding]:!0}])},[m("div",z,[m("span",{class:_([t.sideMenuStore.isFullSideMenu?"":"sm:hidden","text-base me-2"])},b(e.name),3)]),m("div",{class:_([t.sideMenuStore.isFullSideMenu?"":"sm:hidden","flex justify-center my-auto"])},[e.noti!=""?(a(),s(d,{key:0,class:_(["text-center rounded-full ms-2 me-2 text-xxs",{"text-primary-500":n.$t(t.sideMenuStore.sidebarActive)==e.name,"bg-primary-500  text-white":n.$t(t.sideMenuStore.sidebarActive)!=e.name,"w-6 h-6 pt-1.5":parseInt(e.noti)>99,"w-5 h-5 pt-1":parseInt(e.noti)>9,"w-4 h-4 pt-0.5":parseInt(e.noti)<9}])},{default:h(()=>[C(b(parseInt(e.noti)>99?"99+":e.noti),1)]),_:1},8,["class"])):u("",!0),e.showGroupIcon?(a(),i("div",H,[t.isDropdownActive?(a(),s(y,{key:1,name:"upChervon"})):(a(),s(y,{key:0,name:"downChervon"}))])):u("",!0)],2)],2),v(o,{ref:"ps_error_dialog"},null,512)]),_:1})}var Z=w(q,[["render",K]]);const J={props:["group","searchterm","dropDown"],components:{Link:T,Head:D,SideBarTab:E,SidebarSubTab:Z},setup(n,{emit:r}){const e=k(),t=g(!1);L(()=>{setTimeout(()=>{let l=e.findActiveMenu(n.group);l!=""&&r("update:dropDown",l),t.value=!0},50)});function c(){n.group.sub_menu_lang_key!=n.dropDown?r("update:dropDown",n.group.sub_menu_lang_key):r("update:dropDown","0")}return{sideMenuStore:e,dataReady:t,clickSidebarTab:c}}},O={key:0,class:"relative"},Q={key:0},U={key:1},W={key:0},X={key:2},Y={key:0},p={key:1};function $(n,r,e,t,c,l){const d=f("side-bar-tab"),y=f("sidebar-sub-tab");return t.dataReady?(a(),i("div",O,[e.group.module!=""?(a(),i("div",{key:0,onClick:r[0]||(r[0]=(...o)=>t.clickSidebarTab&&t.clickSidebarTab(...o))},[e.group.is_dropdown==1?(a(),i("div",Q,[e.searchterm==null||e.group.module.filter(o=>n.$t(o.module_lang_key).toLowerCase().trim().includes(e.searchterm.toLowerCase().trim())).length>0?(a(),s(d,{key:0,dropdownActive:e.group.sub_menu_lang_key==e.dropDown,name:n.$t(e.group.sub_menu_lang_key),showIcon:!0,icon:e.group.icon.icon_name,noti:e.group.sub_menu_noti,hasModule:!0},null,8,["dropdownActive","name","icon","noti"])):u("",!0)])):u("",!0)])):(a(),i("div",U,[e.group.is_dropdown!=1?(a(),i("div",W,[e.searchterm==null||n.$t(e.group.sub_menu_lang_key).toLowerCase().trim().includes(e.searchterm.toLowerCase().trim())?(a(),s(d,{key:0,dropdownActive:e.group.sub_menu_lang_key==e.dropDown,name:n.$t(e.group.sub_menu_lang_key),showIcon:!0,icon:e.group.icon.icon_name,noti:e.group.sub_menu_noti,showGroupIcon:!1,url:e.group.route_name?e.group.route_name.route_name:""},null,8,["dropdownActive","name","icon","noti","url"])):u("",!0)])):u("",!0)])),e.group.module!=""?(a(),i("div",X,[e.group.sub_menu_lang_key==e.dropDown?(a(),i("div",{key:0,class:_(["mb-2 transition ease-in-out delay-150",t.sideMenuStore.isFullSideMenu?"":"sm:hidden"])},[e.searchterm==null?(a(),i("div",Y,[(a(!0),i(M,null,x(e.group.module,o=>(a(),i("div",{class:"mt-2",key:o.id},[v(y,{name:n.$t(o.module_lang_key),url:o.route_name?o.route_name.route_name:"",showGroupIcon:!1,noti:o.module_noti},null,8,["name","url","noti"])]))),128))])):(a(),i("div",p,[(a(!0),i(M,null,x(e.group.module.filter(o=>n.$t(o.module_lang_key).toLowerCase().trim().includes(e.searchterm.toLowerCase().trim())),o=>(a(),i("div",{class:"mt-2",key:o.id},[v(y,{name:n.$t(o.module_lang_key),url:o.route_name?o.route_name.route_name:"",showGroupIcon:!1,noti:o.module_noti},null,8,["name","url","noti"])]))),128))]))],2)):u("",!0)])):u("",!0)])):u("",!0)}var ie=w(J,[["render",$]]);export{ie as S,E as a};
