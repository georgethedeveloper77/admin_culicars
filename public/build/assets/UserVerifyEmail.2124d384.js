import U from"./PsLabel.c51f2c9d.js";import B from"./PsLabelTitle.ddb6fa87.js";import E from"./PsLabelCaption2.b868a078.js";import V from"./PsButton.7f6705bd.js";import A from"./PsSecondaryButton.0084a37a.js";import L from"./PsInput.5d0c1579.js";import D from"./PsLoadingDialog.aca792ce.js";import I from"./PsSuccessDialog.c053ee8f.js";import $ from"./PsErrorDialog.eea8f5d3.js";import{Z as H,p as j,i as y,B as w,c as F,b as t,a as s,w as d,V as N,t as n,n as K,F as W,A as a,bB as z,r as i,o as C,q as _,f as q,g as O}from"./app.2982e019.js";import R from"./PsLabelHeader3.f46ed4f5.js";import{P as Z}from"./PsCard.1a3f6d6f.js";import{P as G}from"./PsIcon.e7a5adcd.js";import J from"./PsLabelCaption.54d4aa23.js";import{P as Q}from"./PsLoading.0a981307.js";import{W as X}from"./WelcomeImage.b46c48f6.js";import Y from"./PsFrontendLayout.69775a00.js";import{c as P}from"./PsApiService.9afc2356.js";import{u as ee}from"./AuthStore.abfd19f8.js";import{U as oe}from"./UserEmailVerifyParameterHolder.7c748b8f.js";import{u as te}from"./ThemeStore.40343845.js";import{_ as re}from"./plugin-vue_export-helper.21dcd24c.js";import"./PsModal.36ad7f82.js";import"./vue-neat-modal.2bf17e6b.js";import"./PsLine.ea3266c0.js";import"./LanguageStore.8f1cddd7.js";import"./PsIcon.515a10c8.js";import"./Icons.c01eddd9.js";import"./FooterView.722f89eb.js";import"./FooterLinkSection.2922917e.js";import"./PsLink.7aa92bdc.js";import"./PsRouteLink.c57ebe2e.js";import"./ProductParameterHolder.4354be0b.js";import"./ps_constants.0e2a11f9.js";import"./PsValueStore.eb9430a0.js";import"./AppInfoStore.f8d22516.js";import"./PsObject.a17ef38f.js";import"./DefaultPhoto.cc755f93.js";import"./CustomFieldStore.79b51a65.js";import"./PsStore.6f734180.js";import"./PsSepetetedStore.9a31ac47.js";import"./PsNavTabBar.a1e78a20.js";import"./PsDropdown.2a6cc373.js";import"./PsDropdownSelect.ce61e1c2.js";import"./PsIconToggle.e81615f0.js";import"./PsInputWithLeftIcon.f3f18e1b.js";import"./ItemLocationTownshipStore.fe0ada29.js";import"./ItemLocation.d1b92a80.js";import"./LocationParameterHolder.9e411c2e.js";import"./PsUtils.bbfda905.js";import"./AppInfoParameterHolder.e24d894d.js";import"./PsNavBar.15a584b5.js";import"./UserStore.cc6d36cc.js";import"./User.0c3ba1a8.js";import"./RatingDetail.291ad5d1.js";import"./ProductRelation.0b376978.js";import"./UserListParameterHolder.d110b747.js";import"./ApiStatus.5720ba0b.js";import"./index.esm.8fcef60c.js";import"./auth.esm.be6b9a90.js";import"./UserUnReadMessageParameterHolder.81a68b74.js";import"./AddToCartStore.71386b4c.js";import"./PsNotificationBox.7fffda98.js";import"./index.esm.7ce161a7.js";import"./ProductStore.a3320c3f.js";import"./Phone.45f97258.js";import"./Product.29c94914.js";import"./Category.7c65464b.js";import"./DefaultIcon.e76b39a5.js";import"./SubCategory.1b4176e0.js";import"./ItemCurrency.91c8ce91.js";import"./Vendor.d946ee87.js";import"./UserDeleteItemParameterHolder.5d816aba.js";import"./NotificationStore.cd066252.js";import"https://unpkg.com/delayed-scroll-restoration-polyfill@0.1.1/index.js";import"./NotificationStore.af68b63a.js";import"./NotiUnRegisterHolder.eefb692e.js";const se={class:"UserVerifyEmail",components:{PsLabel:U,PsLabelTitle:B,PsButton:V,PsInput:L,PsLoadingDialog:D,PsSuccessDialog:I,PsErrorDialog:$,PsLabelCaption:J,PsIcon:G,PsLabelHeader3:R,PsCard:Z,Head:H,Link:j,PsLabelCaption2:E,PsLoading:Q,WelcomeImage:X,PsSecondaryButton:A},layout:Y,props:["email","password","user_id","flag","error_validation","authUser"],setup(e){const l=ee(),f=new oe,r=y(),g=y(),u=y(),b=y();e.authUser!=null&&w.get(route("dashboard"));const h=te();async function c(){if(e.flag=="error")u.value.openModal(a("ps_error_dialog__error"),e.error_validation,a("core__fe_btn_ok"),()=>{});else{f.userId=e.user_id,f.code=b.value,f.email="",r.value.closeModal();const o=await l.postUserEmailVerify(f);r.value.closeModal(),o.status==P.SUCCESS?g.value.openModal(a("core__fe_user_email_verify_success"),a("core__fe_user_email_verify_success_message"),a("core__fe_user_email_veriy_continue"),()=>{m()}):u.value.openModal(a("ps_error_dialog__error"),o.message,a("core__fe_btn_ok"),()=>{})}}async function m(){let o=z({email:"",password:"",deviceToken:"",headerToken:"",loginMethod:""});o.loginMethod="normal",o.email=e.email,o.password=e.password,o.deviceToken=localStorage.deviceToken,o.headerToken=localStorage.headerToken,o.loginMethod="normal",await l.signInWithEmailAndPassword(o.email,o.email)&&o.transform(S=>({...S})).post(route("login"),{onFinish:()=>o.reset("password")})}async function v(){const o={};o.user_email=e.email,r.value.closeModal();const p=await l.postResendCode(o);r.value.closeModal(),p.status==P.SUCCESS?g.value.openModal(a("ps_success_dialog__success"),p.data.message,a("core__fe_btn_ok"),()=>{}):u.value.openModal(a("ps_error_dialog__error"),p.message,a("core__fe_btn_ok"),()=>{})}function k(){w.get(route("login"))}return{authStore:l,code:b,clicked:c,ps_error_dialog:u,ps_success_dialog:g,ps_loading_dialog:r,resentClicked:v,loginClicked:k,themeStore:h}}},ae={class:"flex flex-row items-center justify-center min-h-screen mb-6 bg-feAchromatic-50 dark:bg-feAchromatic-900"},ie={class:"flex flex-row h-auto overflow-hidden rounded-md shadow-md sm:mt-32 lg:mt-36 mt-28 w-98 lg:w-202"},le={class:"flex-col items-center justify-center hidden h-auto w-100 bg-feSecondary-900 lg:flex"},ne={class:"w-65 h-50"},ce={class:"flex flex-row space-x-4 text-feSecondary-50 dark:text-feSecondary-900 rtl:space-x-reverse"},me={class:"w-full px-4 pb-10 lg:w-100 bg-feAchromatic-50 dark:bg-feSecondary-800 sm:px-10"},de={class:"flex justify-center"},_e={class:"mb-4"},pe={class:"block mt-4"},fe={class:"block mt-6 lg:mt-56"},ue={class:"block mt-6 mb-2 lg:mb-6"};function ge(e,l,f,r,g,u){const b=i("Head"),h=i("welcome-image"),c=i("ps-label"),m=i("ps-icon"),v=i("ps-input"),k=i("ps-loading"),o=i("ps-button"),p=i("ps-feSecondary-button"),S=i("ps-loading-dialog"),M=i("ps-success-dialog"),T=i("ps-error-dialog");return C(),F(W,null,[t(b,{title:e.$t("core__fe_email_verification_title")},null,8,["title"]),s("div",{class:K(r.themeStore.isDarkMode?"dark":"")},[s("div",ae,[s("div",ie,[s("div",le,[s("div",ne,[t(h)]),t(c,{class:"mt-6 mb-2 text-lg font-semibold",textColor:"text-feSecondary-50"},{default:d(()=>[_(n(e.$t("login__fe_title_best_deal")),1)]),_:1}),t(c,{class:"mx-10 mb-2 text-base font-normal text-center",textColor:"text-feSecondary-200"},{default:d(()=>[_(n(e.$t("login__fe_description_best_deal")),1)]),_:1}),s("div",ce,[t(m,{name:"facebookCircle"}),t(m,{name:"instagramCircle"}),t(m,{name:"twitter"}),t(m,{name:"pinterest"}),t(m,{name:"linkedIn"})])]),s("div",me,[s("div",de,[t(c,{class:"justify-center mt-6 mb-6 text-2xl font-senibold"},{default:d(()=>[_(n(e.$t("core__fe_email_verification_title")),1)]),_:1})]),t(c,{class:"mb-6 text-sm",textColor:"text-feSecondary-500 "},{default:d(()=>[_(n(e.$t("core__fe_user_email_verification_title_description")),1)]),_:1}),s("div",null,[s("div",_e,[t(c,{class:"mb-2 text-sm",textColor:"text-feSecondary-800 dark:text-feSecondary-200"},{default:d(()=>[_(n(e.$t("core__fe_verify_code")),1)]),_:1}),t(v,{type:"text",onKeyup:N(r.clicked,["enter"]),value:r.code,"onUpdate:value":l[0]||(l[0]=x=>r.code=x),class:"placeholder-feSecondary-800 dark:placeholder-feSecondary-500",theme:"text-feSecondary-500 bg-feAchromatic-50 dark:bg-feSecondary-800",defaultBorder:"border border-feSecondary-200 dark:border-feSecondary-400 focus:outline-none focus:ring-1 focus:ring-fePrimary-500",placeholder:e.$t("core__fe_verify_code_placeholder"),autofocus:""},null,8,["onKeyup","value","placeholder"])]),s("div",pe,[s("span",{class:"text-sm border-b cursor-pointer text-fePrimary-500 border-fePrimary-500",onClick:l[1]||(l[1]=(...x)=>r.resentClicked&&r.resentClicked(...x))},n(e.$t("core__fe_verify_resent")),1)]),s("div",fe,[t(o,{class:"w-full mb-2",onClick:r.clicked},{default:d(()=>[r.authStore.loading.value?(C(),q(k,{key:0,theme:"border-2 border-t-2 border-text-8 border-t-fePrimary-500 me-1",loadingSize:"h-5 w-5"})):O("",!0),_(" "+n(e.$t("core__fe_verify_code_verify")),1)]),_:1},8,["onClick"])]),s("div",ue,[t(p,{colors:"bg-feAchromatic-50 dark:bg-feSecondary-800 text-feSecondary-800 dark:text-feSecondary-50",onClick:r.loginClicked,class:"w-full"},{default:d(()=>[_(n(e.$t("core__fe_verify_cancel")),1)]),_:1},8,["onClick"])])])])])])],2),t(S,{ref:"ps_loading_dialog",isClickOut:!1},null,512),t(M,{ref:"ps_success_dialog"},null,512),t(T,{ref:"ps_error_dialog"},null,512)],64)}var No=re(se,[["render",ge]]);export{No as default};
