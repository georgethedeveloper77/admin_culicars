import x from"./PsLabel.c51f2c9d.js";import P from"./ShareToSocialModal.2791c0f2.js";import v from"./PsConfirmDialog.ffeae179.js";import N from"./PsErrorDialog.d6a4d7d4.js";import{u as R}from"./ProductStore.a3320c3f.js";import{u as b}from"./ReportedItemStore.3d18af4e.js";import{P as y}from"./ps_constants.0e2a11f9.js";import{i as f,o as g,c as h,a as D,b as m,w as S,q as C,t as U,g as M,F as w,A as s,B as k,r as a}from"./app.2982e019.js";import{P as B}from"./PsUtils.bbfda905.js";import{c as E}from"./PsApiService.9afc2356.js";import{_ as V}from"./plugin-vue_export-helper.21dcd24c.js";import"./PsModal.36ad7f82.js";import"./vue-neat-modal.2bf17e6b.js";import"./PsLine.ea3266c0.js";import"./ThemeStore.40343845.js";import"./LanguageStore.8f1cddd7.js";import"./PsLabelTitle.ddb6fa87.js";import"./PsButton.7f6705bd.js";import"./PsLink.7aa92bdc.js";import"./PsSuccessDialog.9fead790.js";import"./PsIcon.515a10c8.js";import"./ProductParameterHolder.4354be0b.js";import"./Phone.45f97258.js";import"./PsObject.a17ef38f.js";import"./Product.29c94914.js";import"./DefaultPhoto.cc755f93.js";import"./Category.7c65464b.js";import"./DefaultIcon.e76b39a5.js";import"./SubCategory.1b4176e0.js";import"./ItemCurrency.91c8ce91.js";import"./ItemLocation.d1b92a80.js";import"./ProductRelation.0b376978.js";import"./User.0c3ba1a8.js";import"./RatingDetail.291ad5d1.js";import"./Vendor.d946ee87.js";import"./ApiStatus.5720ba0b.js";import"./UserDeleteItemParameterHolder.5d816aba.js";import"./PsSepetetedStore.9a31ac47.js";class A{constructor(){this.itemId="",this.reportedUserId=""}reportItemHolder(){this.itemId="",this.reportedUserId=""}toMap(){const e={};return e.item_id=this.itemId,e.reported_user_id=this.reportedUserId,e}}const F={name:"ItemDetailShareAndReport",components:{PsLabel:x,ShareToSocialModal:P,PsConfirmDialog:v,PsErrorDialog:N},props:{loginUserId:null,itemId:null,itemName:String},setup(t){const e=R("detail"),n=b(),o=new A,l=f(),d=f(),r=f();function p(i){l.value.openModal(i,t.itemId,t.itemName)}function c(){t.loginUserId&&t.loginUserId!=y.NO_LOGIN_USER?d.value.openModal(s("item_detail__confirm"),s("item_detail__confirm_to_report_item"),s("item_detail__report"),s("item_detail__cancel"),()=>{_()},()=>{B.log("Cancel")}):k.get(route("login"))}async function _(){o.itemId=t.itemId,o.reportedUserId=t.loginUserId;const i=await n.addReportItem(t.loginUserId,o);i.status==E.SUCCESS?k.get(route("dashboard")):r.value.openModal(i.message)}return{productStore:e,shareClicked:p,reportItemClicked:c,share_modal:l,ps_confirm_dialog:d,ps_error_dialog:r}}},H={class:"flex items-center gap-7 self-end"},L={key:0};function O(t,e,n,o,l,d){const r=a("ps-label"),p=a("share-to-social-modal"),c=a("ps-confirm-dialog"),_=a("ps-error-dialog");return g(),h(w,null,[D("div",H,[m(r,{textColor:"text-sm text-feInfo-500 cursor-pointer",onClick:e[0]||(e[0]=i=>{var u,I;return o.shareClicked((I=(u=o.productStore.item)==null?void 0:u.data)==null?void 0:I.dynamicLink)})},{default:S(()=>[C(U(t.$t("item_detail__share")),1)]),_:1}),o.productStore.isUserItem(n.loginUserId)?M("",!0):(g(),h("div",L,[m(r,{textColor:"text-sm text-fePrimary-500 cursor-pointer",onClick:o.reportItemClicked},{default:S(()=>[C(U(t.$t("item_detail__report_this_ad")),1)]),_:1},8,["onClick"])]))]),m(p,{ref:"share_modal"},null,512),m(c,{ref:"ps_confirm_dialog"},null,512),m(_,{ref:"ps_error_dialog"},null,512)],64)}var vt=V(F,[["render",O]]);export{vt as default};
