import{U as z}from"./UpdaterLayout.c11ce6b1.js";import{P as y}from"./PsButton.60128369.js";import{P as V}from"./PsLoadingCircleDialog.c85c86cd.js";import{P as j}from"./PsModal.62a4a1d3.js";import{P as D}from"./PsLabel.8e7b338e.js";import{d as C,i as s,A as n,r as l,o as v,f as x,w as a,g as w,a as _,b as i,q as k,t as m,c as $,p as O,B as b}from"./app.2982e019.js";import{P as T}from"./PsIcon.e7a5adcd.js";import{_ as L}from"./plugin-vue_export-helper.21dcd24c.js";import"./PsLoading.0a981307.js";import"./vue-neat-modal.2bf17e6b.js";import"./ThemeStore.40343845.js";import"./LanguageStore.8f1cddd7.js";import"./Icons.c01eddd9.js";const W=C({components:{PsModal:j,PsLabel:D,PsButton:y,PsIcon:T},setup(){const e=s(),o=s(n("ps_success_dialog__success")),r=s(n("ps_success_dialog__success_message")),c=s(n("ps_confirm_dialog__yes"));let p;const u=s(!1),t=s(),d=s();function f(){e.value.toggle(!1),p()}function g(P,M,B,N,S,U,E){o.value=P,r.value=M.toString(),c.value=B,e.value.toggle(!0),p=N,u.value=S,t.value=U,d.value=E}function h(){e.value.toggle(!1)}return{psmodal:e,title:o,message:r,openModal:g,actionClicked:f,okButton:c,close:h,canClose:u,link:t,linkString:d}}}),q={class:"flex flex-col text-center justify-center items-center text-gray-300"},A={class:"w-full text-center mt-4"},F={class:"mb-2"},H=["href"],I={key:0,class:"flex justify-center mt-6"},G={class:"flex-grow-0"};function J(e,o,r,c,p,u){const t=l("ps-icon"),d=l("ps-label"),f=l("ps-button"),g=l("ps-modal");return v(),x(g,{ref:"psmodal",maxWidth:"450px",line:"hidden",isClickOut:!1,theme:" px-6 py-7 rounded-lg shadow-xl",class:"z-20"},{title:a(()=>[e.canClose?(v(),x(t,{key:0,onClick:o[0]||(o[0]=h=>e.close()),name:"close",class:"text-sm text-secondary-400 ms-auto my-auto focus:shadow-none hover:text-purple-500 flex justify-end"})):w("",!0),_("div",q,[i(t,{class:"flex-grow-0",name:"alert-triangle",w:"86",h:"86"}),i(d,{class:"font-medium text-xl lg:text-2xl mt-3"},{default:a(()=>[k(m(e.title),1)]),_:1})])]),body:a(()=>[_("div",A,[i(d,{class:"font-light text-sm lg:text-base"},{default:a(()=>[k(m(e.message),1)]),_:1}),_("div",F,[_("a",{target:"_blank",href:e.link,class:"underline text-indigo-500"},m(e.linkString),9,H)])])]),footer:a(()=>[e.canClose?(v(),$("div",I,[_("div",G,[i(f,{rounded:"rounded",onClick:o[1]||(o[1]=h=>e.actionClicked()),textSize:"text-sm",class:"",colors:"bg-red-500 text-white",hover:"hover:outline-none hover:ring hover:ring-red-100",focus:"focus:outline-none focus:ring focus:ring-red-300"},{default:a(()=>[k(m(e.okButton),1)]),_:1})])])):w("",!0)]),_:1},512)}var K=L(W,[["render",J]]);const Q=C({components:{UpdaterLayout:z,Link:O,PsButton:y,PsLoadingCircleDialog:V,PsErrorDialogWithLink:K},props:["errMsg","docLink","errType"],setup(e){const o=s(),r=s(),c=e.docLink;function p(){b.get(route("NextLaravelUpdater::sourceCode"),{},{onBefore:()=>{},onSuccess:t=>{o.value.closeModal()},onError:()=>{o.value.closeModal()}})}function u(t){t=="proc_open"?r.value.openModal(n("proc_open has been disabled."),e.errMsg,n("Continue"),()=>{b.get(route("NextLaravelUpdater::sourceCode"))},!0,c,n("How to manually update composer")):r.value.openModal(n("incompatible_php_version"),e.errMsg,n("core__be_btn_ok"),()=>{},!1,c,n("how_to_change_php_path"))}return{toOverview:p,ps_loading_circle_dialog:o,ps_error_dialog_with_link:r,checkError:u}},mounted(){this.errMsg&&this.checkError(this.errType)}}),R={class:"paragraph text-center"},X={class:"buttons"};function Y(e,o,r,c,p,u){const t=l("ps-button"),d=l("UpdaterLayout"),f=l("ps-loading-circle-dialog"),g=l("ps-error-dialog-with-link");return v(),$("div",null,[i(d,{title:"welcome_to_the_updater_wizard"},{container:a(()=>[_("p",R,m(e.$t("welcome_to_the_updater_wizard_desc")),1),_("div",X,[i(t,{onClick:o[0]||(o[0]=h=>e.toOverview()),class:"button",type:"reset",padding:"px-7 py-2",rounded:"rounded",hover:""},{default:a(()=>[k(m(e.$t("let_s_start")),1)]),_:1})])]),_:1}),i(f,{ref:"ps_loading_circle_dialog"},null,512),i(g,{ref:"ps_error_dialog_with_link"},null,512)])}var pe=L(Q,[["render",Y]]);export{pe as default};
