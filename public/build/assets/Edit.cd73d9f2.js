import{d as j,Z as O,bB as z,i as p,y as H,K as N,A as _,o as f,c as y,b as r,w as d,q as l,t as c,a as k,F as P,s as L,f as U,g as $,r as t}from"./app.2982e019.js";import{S as M,_ as E}from"./PsVendorLayout.be6b7e7a.js";import{P as I}from"./PsBreadcrumb2.92714552.js";import{P as T}from"./PsDangerDialog.7d01f7b5.js";import{P as J}from"./PsButton.60128369.js";import q from"./VendorDetailVendorInfo.4136a221.js";import A from"./VendorDetailSubscriptionNotification.13db9cb9.js";import K from"./VendorDetailStoreBranches.175c6963.js";import{P as Z}from"./PsLabel.8e7b338e.js";import{P as G}from"./PsLoadingCircleDialog.c85c86cd.js";import{P as Q}from"./PsSuccessDialog.4330bf2e.js";import{P as R}from"./PsIcon.e7a5adcd.js";import{_ as W}from"./plugin-vue_export-helper.21dcd24c.js";import"./TitleBar.f6adaccf.js";import"./PsDropdown.3b1e9581.js";import"./PsDropdownSelect.b154c567.js";import"./PsToggle.5b24d11e.js";import"./toggle.ae92e5df.js";/* empty css                                                             */import"./PsTextButton.a77542e1.js";import"./PsWarningDialog.2baf785b.js";import"./PsModal.62a4a1d3.js";import"./vue-neat-modal.2bf17e6b.js";import"./ThemeStore.40343845.js";import"./LanguageStore.8f1cddd7.js";import"./index.esm.8fcef60c.js";import"./auth.esm.be6b9a90.js";import"./SideMenuStore.ed2aa07c.js";import"./Icons.c01eddd9.js";import"./SidebarMenu.ca75b9da.js";import"./SidebarMenuItem.6b029457.js";import"./PsErrorDialog.ccf1ce18.js";import"./PsInputWithRightIcon.b34d7fa0.js";import"./NotificationStore.af68b63a.js";import"./index.esm.7ce161a7.js";import"./NotiUnRegisterHolder.eefb692e.js";import"./ps_constants.0e2a11f9.js";import"./PsIcon1.0883f10e.js";import"./PsInput.8a03a303.js";import"./PsTextarea.3b6e2b2c.js";import"./PsImageUpload2.f7ee3769.js";import"./DatePicker.03ba978d.js";import"./main.cb27cdc7.js";import"./index.19a67800.js";import"./CheckBox.a09c2b3f.js";import"./PsRadioValue.13020b07.js";import"./PsLabelCaption.f2ff5485.js";import"./psApiService.af14fd5e.js";import"./moment.9709ab41.js";import"./PsImageUpload.9c2b7872.js";import"./PsLabelTitle3.1fa34872.js";import"./PsDraggable.80100e15.js";import"./PsLoading.0a981307.js";const X=j({name:"Index",components:{Head:O,PsBreadcrumb2:I,PsLabelHeader6:T,PsButton:J,VendorDetailVendorInfo:q,VendorDetailStoreBranches:K,VendorDetailSubscriptionNotification:A,PsLabel:Z,PsSuccessDialog:Q,PsLoadingCircleDialog:G,PsIcon:R,SetDefaultVendorCurrencyModal:M},layout:E,props:{storeCan:Object,errors:Object,vendor:Object,coreFieldFilterSettings:Object,branchesCoreFieldFilterSettings:Object,customizeHeaders:Object,customizeDetails:Object,validation:Object,authUser:Object},setup(e){let o=z({id:e.vendor.id,name:e.vendor.name,email:e.vendor.email,phone:e.vendor.phone,address:e.vendor.address,description:e.vendor.description,website:e.vendor.website,facebook:e.vendor.facebook,instagram:e.vendor.instagram,logo:"",banner_1:"",banner_2:"",vendor_relation:{},vendorBranches:e.vendor.vendorBranches,_method:"put"});const n=p(0),i=p(!0),F=p(!0),m=H({data:[]}),u=p(),g=p(),C=p(),s={id:"",vendor_id:"",name:"",email:"",phone:"",address:"",description:"",added_user_id:"",added_date_str:"",is_empty_object:1};N(()=>e.vendor,(v,V)=>{i.value=!1,x(),o.name=e.vendor.name,o.id=e.vendor.id,o.phone=e.vendor.phone,o.address=e.vendor.address,o.description=e.vendor.description,o.website=e.vendor.website,o.facebook=e.vendor.facebook,o.instagram=e.vendor.instagram,o.logo="",o.banner_1="",o.banner_2="",e.vendor.currency_id==""||e.vendor.currency_id==null,setTimeout(()=>{i.value=!0},200),e.customizeHeaders.map((S,D)=>{e.vendor.vendor_relation.map(a=>{if(S.core_keys_id===a.core_keys_id){let h=a.value;o.vendor_relation[S.core_keys_id]=h==="1"?!0:h==="0"?!1:h}})})}),x();function x(){e.vendor.vendorBranches.length==1&&e.vendor.vendorBranches[0].is_empty_object=="1"?(n.value=0,m.data=[],o.vendorBranches=[]):(n.value=e.vendor.vendorBranches.length,m.data=e.vendor.vendorBranches,o.vendorBranches=e.vendor.vendorBranches)}function w(v){n.value=n.value-1,m.data.splice(v,1)}function b(){n.value=n.value+1,m.data.push(JSON.parse(JSON.stringify(s)))}function B(v){o.vendorBranches=m.data,this.$inertia.post(route("vendor_info.update",v),o,{forceFormData:!0,onBefore:()=>{u.value.openModal(_("core_vendor__update_vendor_title"),_("core_vendor__update_vendor_note"))},onSuccess:()=>{u.value.closeModal(),g.value.openModal(_("core_vendor__update_vendor_success"),_("core_vendor__update_vendor_success_message"),_("core__vendor_btn_ok"),()=>{},!1)},onError:()=>{u.value.closeModal()}})}return{form:o,showNoti:F,vendorShow:n,removeVendorBranch:w,addVendorBranch:b,vendorStatus:i,vendorList:m,handleSubmit:B,ps_loading_circle_dialog:u,ps_success_dialog:g,set_default_vendor_currency_modal:C}},computed:{breadcrumb(){return[{label:_("core__vendor_my_store_module")},{label:_("core_vendor__edit_vendor_info"),color:"text-primary-500"}]}},methods:{handleCancel(){this.$inertia.get(route("vendor_info.index"))}},created(){this.customizeHeaders.map((e,o)=>{this.vendor.vendor_relation.map(n=>{if(e.core_keys_id===n.core_keys_id){let i=n.value;this.form.vendor_relation[e.core_keys_id]=i==="1"?!0:i==="0"?!1:i}})})}}),Y={class:"rounded-md border border-secondary-200 px-6 py-8 mb-8"},ee={key:0,class:"rounded-md border border-secondary-200 px-6 py-8 mb-8"},oe={class:"mt-6"},re={class:"flex flex-row justify-end space-x-4"},te={key:1,class:"flex"},ne={class:"mb-2.5 flex flex-row justify-end"};function ae(e,o,n,i,F,m){const u=t("Head"),g=t("ps-breadcrumb-2"),C=t("vendor-detail-subscription-notification"),s=t("ps-label"),x=t("vendor-detail-vendor-info"),w=t("vendor-detail-store-branches"),b=t("ps-icon"),B=t("ps-button"),v=t("ps-loading-circle-dialog"),V=t("ps-success-dialog"),S=t("set-default-vendor-currency-modal"),D=t("ps-layout");return f(),y(P,null,[r(u,{title:e.$t("core__vendor_my_store_module")},null,8,["title"]),r(D,null,{default:d(()=>[r(g,{items:e.breadcrumb,class:"mb-5 sm:mb-6 lg:mb-8"},null,8,["items"]),r(C,{expiredStatus:e.vendor.expire_status,expiredDate:e.vendor.expired_date},null,8,["expiredStatus","expiredDate"]),r(s,{class:"mb-8 text-xl lg:text-3xl font-semibold"},{default:d(()=>[l(c(e.$t("core_vendor__vendor_info")),1)]),_:1}),k("div",Y,[r(s,{class:"text-xl lg:text-2xl font-semibold"},{default:d(()=>[l(c(e.$t("core_vendor__basic_info")),1)]),_:1}),r(x,{class:"mt-8",validation:e.validation,errors:e.errors,form:e.form,coreFieldFilterSettings:e.coreFieldFilterSettings,customizeHeaders:e.customizeHeaders,authUser:e.authUser,customizeDetails:e.customizeDetails},null,8,["validation","errors","form","coreFieldFilterSettings","customizeHeaders","authUser","customizeDetails"])]),e.vendorStatus&&e.vendorShow>0?(f(),y("div",ee,[r(s,{class:"text-xl lg:text-2xl font-semibold flex flex-col space-y-8"},{default:d(()=>[l(c(e.$t("core_vendor__vendor_branches")),1)]),_:1}),(f(!0),y(P,null,L(e.vendorShow,a=>(f(),y("div",{key:a},[r(w,{class:"mt-8",storeBranches:e.vendorList.data[a-1],authUser:e.authUser,coreFieldFilterSettings:e.branchesCoreFieldFilterSettings},null,8,["storeBranches","authUser","coreFieldFilterSettings"]),k("div",oe,[k("div",re,[a==e.vendorShow?(f(),U(s,{key:0,onClick:o[0]||(o[0]=h=>e.addVendorBranch()),class:"flex flex-row text-base cursor-pointer px-4 py-2 border border-primary-500 rounded text-primary-500",textColor:"text-primary-500"},{default:d(()=>[r(b,{name:"plus",class:"me-1"}),l(" "+c(e.$t("core_vendor__add_branch")),1)]),_:1})):$("",!0),r(s,{class:"flex flex-row px-4 py-2 border border-primary-500 rounded text-base cursor-pointer text-primary-500",textColor:"text-primary-500",onClick:h=>e.removeVendorBranch(a-1)},{default:d(()=>[r(b,{name:"minus",class:"me-1"}),l(" "+c(e.$t("core_vendor__remove_branch")),1)]),_:2},1032,["onClick"])])])]))),128))])):$("",!0),e.vendorShow==0?(f(),y("div",te,[r(s,{onClick:o[1]||(o[1]=a=>e.addVendorBranch()),class:"flex flex-row mb-8 text-base cursor-pointer px-4 py-2 border border-primary-500 rounded text-primary-500",textColor:"text-primary-500"},{default:d(()=>[r(b,{name:"plus",class:"me-1"}),l(" "+c(e.$t("core_vendor__add_branch")),1)]),_:1})])):$("",!0),k("div",ne,[r(B,{onClick:o[2]||(o[2]=a=>e.handleCancel()),type:"reset",class:"me-4",colors:"text-primary-500",hover:""},{default:d(()=>[l(c(e.$t("core__vendor_btn_cancel")),1)]),_:1}),r(B,{disabled:!e.storeCan.updateMyVendor,onClick:o[3]||(o[3]=a=>e.handleSubmit(e.vendor.id)),class:"transition-all duration-300 min-w-3xs",padding:"px-7 py-2",rounded:"rounded",hover:"",focus:""},{default:d(()=>[r(s,{textColor:"text-white dark:text-secondaryDark-black"},{default:d(()=>[l(c(e.$t("core__vendor_btn_update")),1)]),_:1})]),_:1},8,["disabled"])]),r(v,{ref:"ps_loading_circle_dialog"},null,512),r(V,{ref:"ps_success_dialog"},null,512),r(S,{ref:"set_default_vendor_currency_modal"},null,512)]),_:1})],64)}var ao=W(X,[["render",ae]]);export{ao as default};
