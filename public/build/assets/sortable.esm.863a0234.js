var lt=yt;function yt(){var n=[].slice.call(arguments),e=!1;typeof n[0]=="boolean"&&(e=n.shift());var t=n[0];if(ut(t))throw new Error("extendee must be an object");for(var i=n.slice(1),r=i.length,o=0;o<r;o++){var s=i[o];for(var a in s)if(Object.prototype.hasOwnProperty.call(s,a)){var l=s[a];if(e&&Bt(l)){var u=Array.isArray(l)?[]:{};t[a]=yt(!0,Object.prototype.hasOwnProperty.call(t,a)&&!ut(t[a])?t[a]:u,l)}else t[a]=l}}return t}function Bt(n){return Array.isArray(n)||{}.toString.call(n)=="[object Object]"}function ut(n){return!n||typeof n!="object"&&typeof n!="function"}function Ht(n){return n&&n.__esModule?n.default:n}class dt{on(e,t){return this._callbacks=this._callbacks||{},this._callbacks[e]||(this._callbacks[e]=[]),this._callbacks[e].push(t),this}emit(e,...t){this._callbacks=this._callbacks||{};let i=this._callbacks[e];if(i)for(let r of i)r.apply(this,t);return this.element&&this.element.dispatchEvent(this.makeEvent("dropzone:"+e,{args:t})),this}makeEvent(e,t){let i={bubbles:!0,cancelable:!0,detail:t};if(typeof window.CustomEvent=="function")return new CustomEvent(e,i);var r=document.createEvent("CustomEvent");return r.initCustomEvent(e,i.bubbles,i.cancelable,i.detail),r}off(e,t){if(!this._callbacks||arguments.length===0)return this._callbacks={},this;let i=this._callbacks[e];if(!i)return this;if(arguments.length===1)return delete this._callbacks[e],this;for(let r=0;r<i.length;r++)if(i[r]===t){i.splice(r,1);break}return this}}var wt={};wt=`<div class="dz-preview dz-file-preview">
  <div class="dz-image"><img data-dz-thumbnail=""></div>
  <div class="dz-details">
    <div class="dz-size"><span data-dz-size=""></span></div>
    <div class="dz-filename"><span data-dz-name=""></span></div>
  </div>
  <div class="dz-progress">
    <span class="dz-upload" data-dz-uploadprogress=""></span>
  </div>
  <div class="dz-error-message"><span data-dz-errormessage=""></span></div>
  <div class="dz-success-mark">
    <svg width="54" height="54" viewBox="0 0 54 54" fill="white" xmlns="http://www.w3.org/2000/svg">
      <path d="M10.2071 29.7929L14.2929 25.7071C14.6834 25.3166 15.3166 25.3166 15.7071 25.7071L21.2929 31.2929C21.6834 31.6834 22.3166 31.6834 22.7071 31.2929L38.2929 15.7071C38.6834 15.3166 39.3166 15.3166 39.7071 15.7071L43.7929 19.7929C44.1834 20.1834 44.1834 20.8166 43.7929 21.2071L22.7071 42.2929C22.3166 42.6834 21.6834 42.6834 21.2929 42.2929L10.2071 31.2071C9.81658 30.8166 9.81658 30.1834 10.2071 29.7929Z"></path>
    </svg>
  </div>
  <div class="dz-error-mark">
    <svg width="54" height="54" viewBox="0 0 54 54" fill="white" xmlns="http://www.w3.org/2000/svg">
      <path d="M26.2929 20.2929L19.2071 13.2071C18.8166 12.8166 18.1834 12.8166 17.7929 13.2071L13.2071 17.7929C12.8166 18.1834 12.8166 18.8166 13.2071 19.2071L20.2929 26.2929C20.6834 26.6834 20.6834 27.3166 20.2929 27.7071L13.2071 34.7929C12.8166 35.1834 12.8166 35.8166 13.2071 36.2071L17.7929 40.7929C18.1834 41.1834 18.8166 41.1834 19.2071 40.7929L26.2929 33.7071C26.6834 33.3166 27.3166 33.3166 27.7071 33.7071L34.7929 40.7929C35.1834 41.1834 35.8166 41.1834 36.2071 40.7929L40.7929 36.2071C41.1834 35.8166 41.1834 35.1834 40.7929 34.7929L33.7071 27.7071C33.3166 27.3166 33.3166 26.6834 33.7071 26.2929L40.7929 19.2071C41.1834 18.8166 41.1834 18.1834 40.7929 17.7929L36.2071 13.2071C35.8166 12.8166 35.1834 12.8166 34.7929 13.2071L27.7071 20.2929C27.3166 20.6834 26.6834 20.6834 26.2929 20.2929Z"></path>
    </svg>
  </div>
</div>
`;let Yt={url:null,method:"post",withCredentials:!1,timeout:null,parallelUploads:2,uploadMultiple:!1,chunking:!1,forceChunking:!1,chunkSize:2097152,parallelChunkUploads:!1,retryChunks:!1,retryChunksLimit:3,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,thumbnailMethod:"crop",resizeWidth:null,resizeHeight:null,resizeMimeType:null,resizeQuality:.8,resizeMethod:"contain",filesizeBase:1e3,maxFiles:null,headers:null,defaultHeaders:!0,clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,autoQueue:!0,addRemoveLinks:!1,previewsContainer:null,disablePreviews:!1,hiddenInputContainer:"body",capture:null,renameFilename:null,renameFile:null,forceFallback:!1,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictUploadCanceled:"Upload canceled.",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",dictFileSizeUnits:{tb:"TB",gb:"GB",mb:"MB",kb:"KB",b:"b"},init(){},params(n,e,t){if(t)return{dzuuid:t.file.upload.uuid,dzchunkindex:t.index,dztotalfilesize:t.file.size,dzchunksize:this.options.chunkSize,dztotalchunkcount:t.file.upload.totalChunkCount,dzchunkbyteoffset:t.index*this.options.chunkSize}},accept(n,e){return e()},chunksUploaded:function(n,e){e()},binaryBody:!1,fallback(){let n;this.element.className=`${this.element.className} dz-browser-not-supported`;for(let t of this.element.getElementsByTagName("div"))if(/(^| )dz-message($| )/.test(t.className)){n=t,t.className="dz-message";break}n||(n=p.createElement('<div class="dz-message"><span></span></div>'),this.element.appendChild(n));let e=n.getElementsByTagName("span")[0];return e&&(e.textContent!=null?e.textContent=this.options.dictFallbackMessage:e.innerText!=null&&(e.innerText=this.options.dictFallbackMessage)),this.element.appendChild(this.getFallbackForm())},resize(n,e,t,i){let r={srcX:0,srcY:0,srcWidth:n.width,srcHeight:n.height},o=n.width/n.height;e==null&&t==null?(e=r.srcWidth,t=r.srcHeight):e==null?e=t*o:t==null&&(t=e/o),e=Math.min(e,r.srcWidth),t=Math.min(t,r.srcHeight);let s=e/t;if(r.srcWidth>e||r.srcHeight>t)if(i==="crop")o>s?(r.srcHeight=n.height,r.srcWidth=r.srcHeight*s):(r.srcWidth=n.width,r.srcHeight=r.srcWidth/s);else if(i==="contain")o>s?t=e/o:e=t*o;else throw new Error(`Unknown resizeMethod '${i}'`);return r.srcX=(n.width-r.srcWidth)/2,r.srcY=(n.height-r.srcHeight)/2,r.trgWidth=e,r.trgHeight=t,r},transformFile(n,e){return(this.options.resizeWidth||this.options.resizeHeight)&&n.type.match(/image.*/)?this.resizeImage(n,this.options.resizeWidth,this.options.resizeHeight,this.options.resizeMethod,e):e(n)},previewTemplate:Ht(wt),drop(n){return this.element.classList.remove("dz-drag-hover")},dragstart(n){},dragend(n){return this.element.classList.remove("dz-drag-hover")},dragenter(n){return this.element.classList.add("dz-drag-hover")},dragover(n){return this.element.classList.add("dz-drag-hover")},dragleave(n){return this.element.classList.remove("dz-drag-hover")},paste(n){},reset(){return this.element.classList.remove("dz-started")},addedfile(n){if(this.element===this.previewsContainer&&this.element.classList.add("dz-started"),this.previewsContainer&&!this.options.disablePreviews){n.previewElement=p.createElement(this.options.previewTemplate.trim()),n.previewTemplate=n.previewElement,this.previewsContainer.appendChild(n.previewElement);for(var e of n.previewElement.querySelectorAll("[data-dz-name]"))e.textContent=n.name;for(e of n.previewElement.querySelectorAll("[data-dz-size]"))e.innerHTML=this.filesize(n.size);this.options.addRemoveLinks&&(n._removeLink=p.createElement(`<a class="dz-remove" href="javascript:undefined;" data-dz-remove>${this.options.dictRemoveFile}</a>`),n.previewElement.appendChild(n._removeLink));let t=i=>(i.preventDefault(),i.stopPropagation(),n.status===p.UPLOADING?p.confirm(this.options.dictCancelUploadConfirmation,()=>this.removeFile(n)):this.options.dictRemoveFileConfirmation?p.confirm(this.options.dictRemoveFileConfirmation,()=>this.removeFile(n)):this.removeFile(n));for(let i of n.previewElement.querySelectorAll("[data-dz-remove]"))i.addEventListener("click",t)}},removedfile(n){return n.previewElement!=null&&n.previewElement.parentNode!=null&&n.previewElement.parentNode.removeChild(n.previewElement),this._updateMaxFilesReachedClass()},thumbnail(n,e){if(n.previewElement){n.previewElement.classList.remove("dz-file-preview");for(let t of n.previewElement.querySelectorAll("[data-dz-thumbnail]"))t.alt=n.name,t.src=e;return setTimeout(()=>n.previewElement.classList.add("dz-image-preview"),1)}},error(n,e){if(n.previewElement){n.previewElement.classList.add("dz-error"),typeof e!="string"&&e.error&&(e=e.error);for(let t of n.previewElement.querySelectorAll("[data-dz-errormessage]"))t.textContent=e}},errormultiple(){},processing(n){if(n.previewElement&&(n.previewElement.classList.add("dz-processing"),n._removeLink))return n._removeLink.innerHTML=this.options.dictCancelUpload},processingmultiple(){},uploadprogress(n,e,t){if(n.previewElement)for(let i of n.previewElement.querySelectorAll("[data-dz-uploadprogress]"))i.nodeName==="PROGRESS"?i.value=e:i.style.width=`${e}%`},totaluploadprogress(){},sending(){},sendingmultiple(){},success(n){if(n.previewElement)return n.previewElement.classList.add("dz-success")},successmultiple(){},canceled(n){return this.emit("error",n,this.options.dictUploadCanceled)},canceledmultiple(){},complete(n){if(n._removeLink&&(n._removeLink.innerHTML=this.options.dictRemoveFile),n.previewElement)return n.previewElement.classList.add("dz-complete")},completemultiple(){},maxfilesexceeded(){},maxfilesreached(){},queuecomplete(){},addedfiles(){}};var Xt=Yt;class p extends dt{static initClass(){this.prototype.Emitter=dt,this.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","addedfiles","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached","queuecomplete"],this.prototype._thumbnailQueue=[],this.prototype._processingThumbnail=!1}getAcceptedFiles(){return this.files.filter(e=>e.accepted).map(e=>e)}getRejectedFiles(){return this.files.filter(e=>!e.accepted).map(e=>e)}getFilesWithStatus(e){return this.files.filter(t=>t.status===e).map(t=>t)}getQueuedFiles(){return this.getFilesWithStatus(p.QUEUED)}getUploadingFiles(){return this.getFilesWithStatus(p.UPLOADING)}getAddedFiles(){return this.getFilesWithStatus(p.ADDED)}getActiveFiles(){return this.files.filter(e=>e.status===p.UPLOADING||e.status===p.QUEUED).map(e=>e)}init(){if(this.element.tagName==="form"&&this.element.setAttribute("enctype","multipart/form-data"),this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(p.createElement(`<div class="dz-default dz-message"><button class="dz-button" type="button">${this.options.dictDefaultMessage}</button></div>`)),this.clickableElements.length){let i=()=>{this.hiddenFileInput&&this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=document.createElement("input"),this.hiddenFileInput.setAttribute("type","file"),(this.options.maxFiles===null||this.options.maxFiles>1)&&this.hiddenFileInput.setAttribute("multiple","multiple"),this.hiddenFileInput.className="dz-hidden-input",this.options.acceptedFiles!==null&&this.hiddenFileInput.setAttribute("accept",this.options.acceptedFiles),this.options.capture!==null&&this.hiddenFileInput.setAttribute("capture",this.options.capture),this.hiddenFileInput.setAttribute("tabindex","-1"),this.hiddenFileInput.style.visibility="hidden",this.hiddenFileInput.style.position="absolute",this.hiddenFileInput.style.top="0",this.hiddenFileInput.style.left="0",this.hiddenFileInput.style.height="0",this.hiddenFileInput.style.width="0",p.getElement(this.options.hiddenInputContainer,"hiddenInputContainer").appendChild(this.hiddenFileInput),this.hiddenFileInput.addEventListener("change",()=>{let{files:r}=this.hiddenFileInput;if(r.length)for(let o of r)this.addFile(o);this.emit("addedfiles",r),i()})};i()}this.URL=window.URL!==null?window.URL:window.webkitURL;for(let i of this.events)this.on(i,this.options[i]);this.on("uploadprogress",()=>this.updateTotalUploadProgress()),this.on("removedfile",()=>this.updateTotalUploadProgress()),this.on("canceled",i=>this.emit("complete",i)),this.on("complete",i=>{if(this.getAddedFiles().length===0&&this.getUploadingFiles().length===0&&this.getQueuedFiles().length===0)return setTimeout(()=>this.emit("queuecomplete"),0)});const e=function(i){if(i.dataTransfer.types){for(var r=0;r<i.dataTransfer.types.length;r++)if(i.dataTransfer.types[r]==="Files")return!0}return!1};let t=function(i){if(!!e(i))return i.stopPropagation(),i.preventDefault?i.preventDefault():i.returnValue=!1};return this.listeners=[{element:this.element,events:{dragstart:i=>this.emit("dragstart",i),dragenter:i=>(t(i),this.emit("dragenter",i)),dragover:i=>{let r;try{r=i.dataTransfer.effectAllowed}catch{}return i.dataTransfer.dropEffect=r==="move"||r==="linkMove"?"move":"copy",t(i),this.emit("dragover",i)},dragleave:i=>this.emit("dragleave",i),drop:i=>(t(i),this.drop(i)),dragend:i=>this.emit("dragend",i)}}],this.clickableElements.forEach(i=>this.listeners.push({element:i,events:{click:r=>((i!==this.element||r.target===this.element||p.elementInside(r.target,this.element.querySelector(".dz-message")))&&this.hiddenFileInput.click(),!0)}})),this.enable(),this.options.init.call(this)}destroy(){return this.disable(),this.removeAllFiles(!0),this.hiddenFileInput!=null&&this.hiddenFileInput.parentNode&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null),delete this.element.dropzone,p.instances.splice(p.instances.indexOf(this),1)}updateTotalUploadProgress(){let e,t=0,i=0;if(this.getActiveFiles().length){for(let o of this.getActiveFiles())t+=o.upload.bytesSent,i+=o.upload.total;e=100*t/i}else e=100;return this.emit("totaluploadprogress",e,i,t)}_getParamName(e){return typeof this.options.paramName=="function"?this.options.paramName(e):`${this.options.paramName}${this.options.uploadMultiple?`[${e}]`:""}`}_renameFile(e){return typeof this.options.renameFile!="function"?e.name:this.options.renameFile(e)}getFallbackForm(){let e,t;if(e=this.getExistingFallback())return e;let i='<div class="dz-fallback">';this.options.dictFallbackText&&(i+=`<p>${this.options.dictFallbackText}</p>`),i+=`<input type="file" name="${this._getParamName(0)}" ${this.options.uploadMultiple?'multiple="multiple"':void 0} /><input type="submit" value="Upload!"></div>`;let r=p.createElement(i);return this.element.tagName!=="FORM"?(t=p.createElement(`<form action="${this.options.url}" enctype="multipart/form-data" method="${this.options.method}"></form>`),t.appendChild(r)):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),t!=null?t:r}getExistingFallback(){let e=function(i){for(let r of i)if(/(^| )fallback($| )/.test(r.className))return r};for(let i of["div","form"]){var t;if(t=e(this.element.getElementsByTagName(i)))return t}}setupEventListeners(){return this.listeners.map(e=>(()=>{let t=[];for(let i in e.events){let r=e.events[i];t.push(e.element.addEventListener(i,r,!1))}return t})())}removeEventListeners(){return this.listeners.map(e=>(()=>{let t=[];for(let i in e.events){let r=e.events[i];t.push(e.element.removeEventListener(i,r,!1))}return t})())}disable(){return this.clickableElements.forEach(e=>e.classList.remove("dz-clickable")),this.removeEventListeners(),this.disabled=!0,this.files.map(e=>this.cancelUpload(e))}enable(){return delete this.disabled,this.clickableElements.forEach(e=>e.classList.add("dz-clickable")),this.setupEventListeners()}filesize(e){let t=0,i="b";if(e>0){let r=["tb","gb","mb","kb","b"];for(let o=0;o<r.length;o++){let s=r[o],a=Math.pow(this.options.filesizeBase,4-o)/10;if(e>=a){t=e/Math.pow(this.options.filesizeBase,4-o),i=s;break}}t=Math.round(10*t)/10}return`<strong>${t}</strong> ${this.options.dictFileSizeUnits[i]}`}_updateMaxFilesReachedClass(){return this.options.maxFiles!=null&&this.getAcceptedFiles().length>=this.options.maxFiles?(this.getAcceptedFiles().length===this.options.maxFiles&&this.emit("maxfilesreached",this.files),this.element.classList.add("dz-max-files-reached")):this.element.classList.remove("dz-max-files-reached")}drop(e){if(!e.dataTransfer)return;this.emit("drop",e);let t=[];for(let i=0;i<e.dataTransfer.files.length;i++)t[i]=e.dataTransfer.files[i];if(t.length){let{items:i}=e.dataTransfer;i&&i.length&&i[0].webkitGetAsEntry!=null?this._addFilesFromItems(i):this.handleFiles(t)}this.emit("addedfiles",t)}paste(e){if(jt(e!=null?e.clipboardData:void 0,i=>i.items)==null)return;this.emit("paste",e);let{items:t}=e.clipboardData;if(t.length)return this._addFilesFromItems(t)}handleFiles(e){for(let t of e)this.addFile(t)}_addFilesFromItems(e){return(()=>{let t=[];for(let r of e){var i;r.webkitGetAsEntry!=null&&(i=r.webkitGetAsEntry())?i.isFile?t.push(this.addFile(r.getAsFile())):i.isDirectory?t.push(this._addFilesFromDirectory(i,i.name)):t.push(void 0):r.getAsFile!=null&&(r.kind==null||r.kind==="file")?t.push(this.addFile(r.getAsFile())):t.push(void 0)}return t})()}_addFilesFromDirectory(e,t){let i=e.createReader(),r=s=>Kt(console,"log",a=>a.log(s));var o=()=>i.readEntries(s=>{if(s.length>0){for(let a of s)a.isFile?a.file(l=>{if(!(this.options.ignoreHiddenFiles&&l.name.substring(0,1)==="."))return l.fullPath=`${t}/${l.name}`,this.addFile(l)}):a.isDirectory&&this._addFilesFromDirectory(a,`${t}/${a.name}`);o()}return null},r);return o()}accept(e,t){this.options.maxFilesize&&e.size>this.options.maxFilesize*1048576?t(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(e.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):p.isValidFile(e,this.options.acceptedFiles)?this.options.maxFiles!=null&&this.getAcceptedFiles().length>=this.options.maxFiles?(t(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",e)):this.options.accept.call(this,e,t):t(this.options.dictInvalidFileType)}addFile(e){e.upload={uuid:p.uuidv4(),progress:0,total:e.size,bytesSent:0,filename:this._renameFile(e)},this.files.push(e),e.status=p.ADDED,this.emit("addedfile",e),this._enqueueThumbnail(e),this.accept(e,t=>{t?(e.accepted=!1,this._errorProcessing([e],t)):(e.accepted=!0,this.options.autoQueue&&this.enqueueFile(e)),this._updateMaxFilesReachedClass()})}enqueueFiles(e){for(let t of e)this.enqueueFile(t);return null}enqueueFile(e){if(e.status===p.ADDED&&e.accepted===!0){if(e.status=p.QUEUED,this.options.autoProcessQueue)return setTimeout(()=>this.processQueue(),0)}else throw new Error("This file can't be queued because it has already been processed or was rejected.")}_enqueueThumbnail(e){if(this.options.createImageThumbnails&&e.type.match(/image.*/)&&e.size<=this.options.maxThumbnailFilesize*1048576)return this._thumbnailQueue.push(e),setTimeout(()=>this._processThumbnailQueue(),0)}_processThumbnailQueue(){if(this._processingThumbnail||this._thumbnailQueue.length===0)return;this._processingThumbnail=!0;let e=this._thumbnailQueue.shift();return this.createThumbnail(e,this.options.thumbnailWidth,this.options.thumbnailHeight,this.options.thumbnailMethod,!0,t=>(this.emit("thumbnail",e,t),this._processingThumbnail=!1,this._processThumbnailQueue()))}removeFile(e){if(e.status===p.UPLOADING&&this.cancelUpload(e),this.files=Wt(this.files,e),this.emit("removedfile",e),this.files.length===0)return this.emit("reset")}removeAllFiles(e){e==null&&(e=!1);for(let t of this.files.slice())(t.status!==p.UPLOADING||e)&&this.removeFile(t);return null}resizeImage(e,t,i,r,o){return this.createThumbnail(e,t,i,r,!0,(s,a)=>{if(a==null)return o(e);{let{resizeMimeType:l}=this.options;l==null&&(l=e.type);let u=a.toDataURL(l,this.options.resizeQuality);return(l==="image/jpeg"||l==="image/jpg")&&(u=St.restore(e.dataURL,u)),o(p.dataURItoBlob(u))}})}createThumbnail(e,t,i,r,o,s){let a=new FileReader;a.onload=()=>{if(e.dataURL=a.result,e.type==="image/svg+xml"){s!=null&&s(a.result);return}this.createThumbnailFromUrl(e,t,i,r,o,s)},a.readAsDataURL(e)}displayExistingFile(e,t,i,r,o=!0){if(this.emit("addedfile",e),this.emit("complete",e),!o)this.emit("thumbnail",e,t),i&&i();else{let s=a=>{this.emit("thumbnail",e,a),i&&i()};e.dataURL=t,this.createThumbnailFromUrl(e,this.options.thumbnailWidth,this.options.thumbnailHeight,this.options.thumbnailMethod,this.options.fixOrientation,s,r)}}createThumbnailFromUrl(e,t,i,r,o,s,a){let l=document.createElement("img");return a&&(l.crossOrigin=a),o=getComputedStyle(document.body).imageOrientation=="from-image"?!1:o,l.onload=()=>{let u=d=>d(1);return typeof EXIF!="undefined"&&EXIF!==null&&o&&(u=d=>EXIF.getData(l,function(){return d(EXIF.getTag(this,"Orientation"))})),u(d=>{e.width=l.width,e.height=l.height;let h=this.options.resize.call(this,e,t,i,r),f=document.createElement("canvas"),m=f.getContext("2d");switch(f.width=h.trgWidth,f.height=h.trgHeight,d>4&&(f.width=h.trgHeight,f.height=h.trgWidth),d){case 2:m.translate(f.width,0),m.scale(-1,1);break;case 3:m.translate(f.width,f.height),m.rotate(Math.PI);break;case 4:m.translate(0,f.height),m.scale(1,-1);break;case 5:m.rotate(.5*Math.PI),m.scale(1,-1);break;case 6:m.rotate(.5*Math.PI),m.translate(0,-f.width);break;case 7:m.rotate(.5*Math.PI),m.translate(f.height,-f.width),m.scale(-1,1);break;case 8:m.rotate(-.5*Math.PI),m.translate(-f.height,0);break}Qt(m,l,h.srcX!=null?h.srcX:0,h.srcY!=null?h.srcY:0,h.srcWidth,h.srcHeight,h.trgX!=null?h.trgX:0,h.trgY!=null?h.trgY:0,h.trgWidth,h.trgHeight);let E=f.toDataURL("image/png");if(s!=null)return s(E,f)})},s!=null&&(l.onerror=s),l.src=e.dataURL}processQueue(){let{parallelUploads:e}=this.options,t=this.getUploadingFiles().length,i=t;if(t>=e)return;let r=this.getQueuedFiles();if(r.length>0){if(this.options.uploadMultiple)return this.processFiles(r.slice(0,e-t));for(;i<e;){if(!r.length)return;this.processFile(r.shift()),i++}}}processFile(e){return this.processFiles([e])}processFiles(e){for(let t of e)t.processing=!0,t.status=p.UPLOADING,this.emit("processing",t);return this.options.uploadMultiple&&this.emit("processingmultiple",e),this.uploadFiles(e)}_getFilesWithXhr(e){return this.files.filter(t=>t.xhr===e).map(t=>t)}cancelUpload(e){if(e.status===p.UPLOADING){let t=this._getFilesWithXhr(e.xhr);for(let i of t)i.status=p.CANCELED;typeof e.xhr!="undefined"&&e.xhr.abort();for(let i of t)this.emit("canceled",i);this.options.uploadMultiple&&this.emit("canceledmultiple",t)}else(e.status===p.ADDED||e.status===p.QUEUED)&&(e.status=p.CANCELED,this.emit("canceled",e),this.options.uploadMultiple&&this.emit("canceledmultiple",[e]));if(this.options.autoProcessQueue)return this.processQueue()}resolveOption(e,...t){return typeof e=="function"?e.apply(this,t):e}uploadFile(e){return this.uploadFiles([e])}uploadFiles(e){this._transformFiles(e,t=>{if(this.options.chunking){let i=t[0];e[0].upload.chunked=this.options.chunking&&(this.options.forceChunking||i.size>this.options.chunkSize),e[0].upload.totalChunkCount=Math.ceil(i.size/this.options.chunkSize)}if(e[0].upload.chunked){let i=e[0],r=t[0];i.upload.chunks=[];let o=()=>{let s=0;for(;i.upload.chunks[s]!==void 0;)s++;if(s>=i.upload.totalChunkCount)return;let a=s*this.options.chunkSize,l=Math.min(a+this.options.chunkSize,r.size),u={name:this._getParamName(0),data:r.webkitSlice?r.webkitSlice(a,l):r.slice(a,l),filename:i.upload.filename,chunkIndex:s};i.upload.chunks[s]={file:i,index:s,dataBlock:u,status:p.UPLOADING,progress:0,retries:0},this._uploadData(e,[u])};if(i.upload.finishedChunkUpload=(s,a)=>{let l=!0;s.status=p.SUCCESS,s.dataBlock=null,s.response=s.xhr.responseText,s.responseHeaders=s.xhr.getAllResponseHeaders(),s.xhr=null;for(let u=0;u<i.upload.totalChunkCount;u++){if(i.upload.chunks[u]===void 0)return o();i.upload.chunks[u].status!==p.SUCCESS&&(l=!1)}l&&this.options.chunksUploaded(i,()=>{this._finished(e,a,null)})},this.options.parallelChunkUploads)for(let s=0;s<i.upload.totalChunkCount;s++)o();else o()}else{let i=[];for(let r=0;r<e.length;r++)i[r]={name:this._getParamName(r),data:t[r],filename:e[r].upload.filename};this._uploadData(e,i)}})}_getChunk(e,t){for(let i=0;i<e.upload.totalChunkCount;i++)if(e.upload.chunks[i]!==void 0&&e.upload.chunks[i].xhr===t)return e.upload.chunks[i]}_uploadData(e,t){let i=new XMLHttpRequest;for(let u of e)u.xhr=i;e[0].upload.chunked&&(e[0].upload.chunks[t[0].chunkIndex].xhr=i);let r=this.resolveOption(this.options.method,e,t),o=this.resolveOption(this.options.url,e,t);i.open(r,o,!0),this.resolveOption(this.options.timeout,e)&&(i.timeout=this.resolveOption(this.options.timeout,e)),i.withCredentials=!!this.options.withCredentials,i.onload=u=>{this._finishedUploading(e,i,u)},i.ontimeout=()=>{this._handleUploadError(e,i,`Request timedout after ${this.options.timeout/1e3} seconds`)},i.onerror=()=>{this._handleUploadError(e,i)};let a=i.upload!=null?i.upload:i;a.onprogress=u=>this._updateFilesUploadProgress(e,i,u);let l=this.options.defaultHeaders?{Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"}:{};this.options.binaryBody&&(l["Content-Type"]=e[0].type),this.options.headers&&lt(l,this.options.headers);for(let u in l){let d=l[u];d&&i.setRequestHeader(u,d)}if(this.options.binaryBody){for(let u of e)this.emit("sending",u,i);this.options.uploadMultiple&&this.emit("sendingmultiple",e,i),this.submitRequest(i,null,e)}else{let u=new FormData;if(this.options.params){let d=this.options.params;typeof d=="function"&&(d=d.call(this,e,i,e[0].upload.chunked?this._getChunk(e[0],i):null));for(let h in d){let f=d[h];if(Array.isArray(f))for(let m=0;m<f.length;m++)u.append(h,f[m]);else u.append(h,f)}}for(let d of e)this.emit("sending",d,i,u);this.options.uploadMultiple&&this.emit("sendingmultiple",e,i,u),this._addFormElementData(u);for(let d=0;d<t.length;d++){let h=t[d];u.append(h.name,h.data,h.filename)}this.submitRequest(i,u,e)}}_transformFiles(e,t){let i=[],r=0;for(let o=0;o<e.length;o++)this.options.transformFile.call(this,e[o],s=>{i[o]=s,++r===e.length&&t(i)})}_addFormElementData(e){if(this.element.tagName==="FORM")for(let t of this.element.querySelectorAll("input, textarea, select, button")){let i=t.getAttribute("name"),r=t.getAttribute("type");if(r&&(r=r.toLowerCase()),!(typeof i=="undefined"||i===null))if(t.tagName==="SELECT"&&t.hasAttribute("multiple"))for(let o of t.options)o.selected&&e.append(i,o.value);else(!r||r!=="checkbox"&&r!=="radio"||t.checked)&&e.append(i,t.value)}}_updateFilesUploadProgress(e,t,i){if(e[0].upload.chunked){let r=e[0],o=this._getChunk(r,t);i?(o.progress=100*i.loaded/i.total,o.total=i.total,o.bytesSent=i.loaded):(o.progress=100,o.bytesSent=o.total),r.upload.progress=0,r.upload.total=0,r.upload.bytesSent=0;for(let s=0;s<r.upload.totalChunkCount;s++)r.upload.chunks[s]&&typeof r.upload.chunks[s].progress!="undefined"&&(r.upload.progress+=r.upload.chunks[s].progress,r.upload.total+=r.upload.chunks[s].total,r.upload.bytesSent+=r.upload.chunks[s].bytesSent);r.upload.progress=r.upload.progress/r.upload.totalChunkCount,this.emit("uploadprogress",r,r.upload.progress,r.upload.bytesSent)}else for(let r of e)r.upload.total&&r.upload.bytesSent&&r.upload.bytesSent==r.upload.total||(i?(r.upload.progress=100*i.loaded/i.total,r.upload.total=i.total,r.upload.bytesSent=i.loaded):(r.upload.progress=100,r.upload.bytesSent=r.upload.total),this.emit("uploadprogress",r,r.upload.progress,r.upload.bytesSent))}_finishedUploading(e,t,i){let r;if(e[0].status!==p.CANCELED&&t.readyState===4){if(t.responseType!=="arraybuffer"&&t.responseType!=="blob"&&(r=t.responseText,t.getResponseHeader("content-type")&&~t.getResponseHeader("content-type").indexOf("application/json")))try{r=JSON.parse(r)}catch(o){i=o,r="Invalid JSON response from server."}this._updateFilesUploadProgress(e,t),200<=t.status&&t.status<300?e[0].upload.chunked?e[0].upload.finishedChunkUpload(this._getChunk(e[0],t),r):this._finished(e,r,i):this._handleUploadError(e,t,r)}}_handleUploadError(e,t,i){if(e[0].status!==p.CANCELED){if(e[0].upload.chunked&&this.options.retryChunks){let r=this._getChunk(e[0],t);if(r.retries++<this.options.retryChunksLimit){this._uploadData(e,[r.dataBlock]);return}else console.warn("Retried this chunk too often. Giving up.")}this._errorProcessing(e,i||this.options.dictResponseError.replace("{{statusCode}}",t.status),t)}}submitRequest(e,t,i){if(e.readyState!=1){console.warn("Cannot send this request because the XMLHttpRequest.readyState is not OPENED.");return}if(this.options.binaryBody)if(i[0].upload.chunked){const r=this._getChunk(i[0],e);e.send(r.dataBlock.data)}else e.send(i[0]);else e.send(t)}_finished(e,t,i){for(let r of e)r.status=p.SUCCESS,this.emit("success",r,t,i),this.emit("complete",r);if(this.options.uploadMultiple&&(this.emit("successmultiple",e,t,i),this.emit("completemultiple",e)),this.options.autoProcessQueue)return this.processQueue()}_errorProcessing(e,t,i){for(let r of e)r.status=p.ERROR,this.emit("error",r,t,i),this.emit("complete",r);if(this.options.uploadMultiple&&(this.emit("errormultiple",e,t,i),this.emit("completemultiple",e)),this.options.autoProcessQueue)return this.processQueue()}static uuidv4(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){let t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)})}constructor(e,t){super();let i,r;if(this.element=e,this.clickableElements=[],this.listeners=[],this.files=[],typeof this.element=="string"&&(this.element=document.querySelector(this.element)),!this.element||this.element.nodeType==null)throw new Error("Invalid dropzone element.");if(this.element.dropzone)throw new Error("Dropzone already attached.");p.instances.push(this),this.element.dropzone=this;let o=(r=p.optionsForElement(this.element))!=null?r:{};if(this.options=lt(!0,{},Xt,o,t!=null?t:{}),this.options.previewTemplate=this.options.previewTemplate.replace(/\n*/g,""),this.options.forceFallback||!p.isBrowserSupported())return this.options.fallback.call(this);if(this.options.url==null&&(this.options.url=this.element.getAttribute("action")),!this.options.url)throw new Error("No URL provided.");if(this.options.acceptedFiles&&this.options.acceptedMimeTypes)throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");if(this.options.uploadMultiple&&this.options.chunking)throw new Error("You cannot set both: uploadMultiple and chunking.");if(this.options.binaryBody&&this.options.uploadMultiple)throw new Error("You cannot set both: binaryBody and uploadMultiple.");this.options.acceptedMimeTypes&&(this.options.acceptedFiles=this.options.acceptedMimeTypes,delete this.options.acceptedMimeTypes),this.options.renameFilename!=null&&(this.options.renameFile=s=>this.options.renameFilename.call(this,s.name,s)),typeof this.options.method=="string"&&(this.options.method=this.options.method.toUpperCase()),(i=this.getExistingFallback())&&i.parentNode&&i.parentNode.removeChild(i),this.options.previewsContainer!==!1&&(this.options.previewsContainer?this.previewsContainer=p.getElement(this.options.previewsContainer,"previewsContainer"):this.previewsContainer=this.element),this.options.clickable&&(this.options.clickable===!0?this.clickableElements=[this.element]:this.clickableElements=p.getElements(this.options.clickable,"clickable")),this.init()}}p.initClass();p.options={};p.optionsForElement=function(n){if(n.getAttribute("id"))return p.options[qt(n.getAttribute("id"))]};p.instances=[];p.forElement=function(n){if(typeof n=="string"&&(n=document.querySelector(n)),(n!=null?n.dropzone:void 0)==null)throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");return n.dropzone};p.discover=function(){let n;if(document.querySelectorAll)n=document.querySelectorAll(".dropzone");else{n=[];let e=t=>(()=>{let i=[];for(let r of t)/(^| )dropzone($| )/.test(r.className)?i.push(n.push(r)):i.push(void 0);return i})();e(document.getElementsByTagName("div")),e(document.getElementsByTagName("form"))}return(()=>{let e=[];for(let t of n)p.optionsForElement(t)!==!1?e.push(new p(t)):e.push(void 0);return e})()};p.blockedBrowsers=[/opera.*(Macintosh|Windows Phone).*version\/12/i];p.isBrowserSupported=function(){let n=!0;if(window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if(!("classList"in document.createElement("a")))n=!1;else{p.blacklistedBrowsers!==void 0&&(p.blockedBrowsers=p.blacklistedBrowsers);for(let e of p.blockedBrowsers)if(e.test(navigator.userAgent)){n=!1;continue}}else n=!1;return n};p.dataURItoBlob=function(n){let e=atob(n.split(",")[1]),t=n.split(",")[0].split(":")[1].split(";")[0],i=new ArrayBuffer(e.length),r=new Uint8Array(i);for(let o=0,s=e.length,a=0<=s;a?o<=s:o>=s;a?o++:o--)r[o]=e.charCodeAt(o);return new Blob([i],{type:t})};const Wt=(n,e)=>n.filter(t=>t!==e).map(t=>t),qt=n=>n.replace(/[\-_](\w)/g,e=>e.charAt(1).toUpperCase());p.createElement=function(n){let e=document.createElement("div");return e.innerHTML=n,e.childNodes[0]};p.elementInside=function(n,e){if(n===e)return!0;for(;n=n.parentNode;)if(n===e)return!0;return!1};p.getElement=function(n,e){let t;if(typeof n=="string"?t=document.querySelector(n):n.nodeType!=null&&(t=n),t==null)throw new Error(`Invalid \`${e}\` option provided. Please provide a CSS selector or a plain HTML element.`);return t};p.getElements=function(n,e){let t,i;if(n instanceof Array){i=[];try{for(t of n)i.push(this.getElement(t,e))}catch{i=null}}else if(typeof n=="string"){i=[];for(t of document.querySelectorAll(n))i.push(t)}else n.nodeType!=null&&(i=[n]);if(i==null||!i.length)throw new Error(`Invalid \`${e}\` option provided. Please provide a CSS selector, a plain HTML element or a list of those.`);return i};p.confirm=function(n,e,t){if(window.confirm(n))return e();if(t!=null)return t()};p.isValidFile=function(n,e){if(!e)return!0;e=e.split(",");let t=n.type,i=t.replace(/\/.*$/,"");for(let r of e)if(r=r.trim(),r.charAt(0)==="."){if(n.name.toLowerCase().indexOf(r.toLowerCase(),n.name.length-r.length)!==-1)return!0}else if(/\/\*$/.test(r)){if(i===r.replace(/\/.*$/,""))return!0}else if(t===r)return!0;return!1};typeof jQuery!="undefined"&&jQuery!==null&&(jQuery.fn.dropzone=function(n){return this.each(function(){return new p(this,n)})});p.ADDED="added";p.QUEUED="queued";p.ACCEPTED=p.QUEUED;p.UPLOADING="uploading";p.PROCESSING=p.UPLOADING;p.CANCELED="canceled";p.ERROR="error";p.SUCCESS="success";let Gt=function(n){n.naturalWidth;let e=n.naturalHeight,t=document.createElement("canvas");t.width=1,t.height=e;let i=t.getContext("2d");i.drawImage(n,0,0);let{data:r}=i.getImageData(1,0,1,e),o=0,s=e,a=e;for(;a>o;)r[(a-1)*4+3]===0?s=a:o=a,a=s+o>>1;let l=a/e;return l===0?1:l};var Qt=function(n,e,t,i,r,o,s,a,l,u){let d=Gt(e);return n.drawImage(e,t,i,r,o,s,a,l,u/d)};class St{static initClass(){this.KEY_STR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}static encode64(e){let t="",i,r,o="",s,a,l,u="",d=0;for(;i=e[d++],r=e[d++],o=e[d++],s=i>>2,a=(i&3)<<4|r>>4,l=(r&15)<<2|o>>6,u=o&63,isNaN(r)?l=u=64:isNaN(o)&&(u=64),t=t+this.KEY_STR.charAt(s)+this.KEY_STR.charAt(a)+this.KEY_STR.charAt(l)+this.KEY_STR.charAt(u),i=r=o="",s=a=l=u="",d<e.length;);return t}static restore(e,t){if(!e.match("data:image/jpeg;base64,"))return t;let i=this.decode64(e.replace("data:image/jpeg;base64,","")),r=this.slice2Segments(i),o=this.exifManipulation(t,r);return`data:image/jpeg;base64,${this.encode64(o)}`}static exifManipulation(e,t){let i=this.getExifArray(t),r=this.insertExif(e,i);return new Uint8Array(r)}static getExifArray(e){let t,i=0;for(;i<e.length;){if(t=e[i],t[0]===255&t[1]===225)return t;i++}return[]}static insertExif(e,t){let i=e.replace("data:image/jpeg;base64,",""),r=this.decode64(i),o=r.indexOf(255,3),s=r.slice(0,o),a=r.slice(o),l=s;return l=l.concat(t),l=l.concat(a),l}static slice2Segments(e){let t=0,i=[];for(;;){var r;if(e[t]===255&e[t+1]===218)break;if(e[t]===255&e[t+1]===216)t+=2;else{r=e[t+2]*256+e[t+3];let o=t+r+2,s=e.slice(t,o);i.push(s),t=o}if(t>e.length)break}return i}static decode64(e){let t,i,r="",o,s,a,l="",u=0,d=[];for(/[^A-Za-z0-9\+\/\=]/g.exec(e)&&console.warn(`There were invalid base64 characters in the input text.
Valid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='
Expect errors in decoding.`),e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");o=this.KEY_STR.indexOf(e.charAt(u++)),s=this.KEY_STR.indexOf(e.charAt(u++)),a=this.KEY_STR.indexOf(e.charAt(u++)),l=this.KEY_STR.indexOf(e.charAt(u++)),t=o<<2|s>>4,i=(s&15)<<4|a>>2,r=(a&3)<<6|l,d.push(t),a!==64&&d.push(i),l!==64&&d.push(r),t=i=r="",o=s=a=l="",u<e.length;);return d}}St.initClass();function jt(n,e){return typeof n!="undefined"&&n!==null?e(n):void 0}function Kt(n,e,t){if(typeof n!="undefined"&&n!==null&&typeof n[e]=="function")return t(n,e)}/**!
 * Sortable 1.15.3
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function ht(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function q(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ht(Object(t),!0).forEach(function(i){Vt(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):ht(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function Me(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Me=function(e){return typeof e}:Me=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Me(n)}function Vt(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function K(){return K=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},K.apply(this,arguments)}function Zt(n,e){if(n==null)return{};var t={},i=Object.keys(n),r,o;for(o=0;o<i.length;o++)r=i[o],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}function Jt(n,e){if(n==null)return{};var t=Zt(n,e),i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(r=0;r<o.length;r++)i=o[r],!(e.indexOf(i)>=0)&&(!Object.prototype.propertyIsEnumerable.call(n,i)||(t[i]=n[i]))}return t}var $t="1.15.3";function j(n){if(typeof window!="undefined"&&window.navigator)return!!navigator.userAgent.match(n)}var V=j(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Te=j(/Edge/i),ct=j(/firefox/i),Se=j(/safari/i)&&!j(/chrome/i)&&!j(/android/i),Ct=j(/iP(ad|od|hone)/i),Ft=j(/chrome/i)&&j(/android/i),Dt={capture:!1,passive:!1};function w(n,e,t){n.addEventListener(e,t,!V&&Dt)}function y(n,e,t){n.removeEventListener(e,t,!V&&Dt)}function Ue(n,e){if(!!e){if(e[0]===">"&&(e=e.substring(1)),n)try{if(n.matches)return n.matches(e);if(n.msMatchesSelector)return n.msMatchesSelector(e);if(n.webkitMatchesSelector)return n.webkitMatchesSelector(e)}catch{return!1}return!1}}function _t(n){return n.host&&n!==document&&n.host.nodeType?n.host:n.parentNode}function Y(n,e,t,i){if(n){t=t||document;do{if(e!=null&&(e[0]===">"?n.parentNode===t&&Ue(n,e):Ue(n,e))||i&&n===t)return n;if(n===t)break}while(n=_t(n))}return null}var pt=/\s+/g;function P(n,e,t){if(n&&e)if(n.classList)n.classList[t?"add":"remove"](e);else{var i=(" "+n.className+" ").replace(pt," ").replace(" "+e+" "," ");n.className=(i+(t?" "+e:"")).replace(pt," ")}}function g(n,e,t){var i=n&&n.style;if(i){if(t===void 0)return document.defaultView&&document.defaultView.getComputedStyle?t=document.defaultView.getComputedStyle(n,""):n.currentStyle&&(t=n.currentStyle),e===void 0?t:t[e];!(e in i)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),i[e]=t+(typeof t=="string"?"":"px")}}function ce(n,e){var t="";if(typeof n=="string")t=n;else do{var i=g(n,"transform");i&&i!=="none"&&(t=i+" "+t)}while(!e&&(n=n.parentNode));var r=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return r&&new r(t)}function Tt(n,e,t){if(n){var i=n.getElementsByTagName(e),r=0,o=i.length;if(t)for(;r<o;r++)t(i[r],r);return i}return[]}function W(){var n=document.scrollingElement;return n||document.documentElement}function T(n,e,t,i,r){if(!(!n.getBoundingClientRect&&n!==window)){var o,s,a,l,u,d,h;if(n!==window&&n.parentNode&&n!==W()?(o=n.getBoundingClientRect(),s=o.top,a=o.left,l=o.bottom,u=o.right,d=o.height,h=o.width):(s=0,a=0,l=window.innerHeight,u=window.innerWidth,d=window.innerHeight,h=window.innerWidth),(e||t)&&n!==window&&(r=r||n.parentNode,!V))do if(r&&r.getBoundingClientRect&&(g(r,"transform")!=="none"||t&&g(r,"position")!=="static")){var f=r.getBoundingClientRect();s-=f.top+parseInt(g(r,"border-top-width")),a-=f.left+parseInt(g(r,"border-left-width")),l=s+o.height,u=a+o.width;break}while(r=r.parentNode);if(i&&n!==window){var m=ce(r||n),E=m&&m.a,S=m&&m.d;m&&(s/=S,a/=E,h/=E,d/=S,l=s+d,u=a+h)}return{top:s,left:a,bottom:l,right:u,width:h,height:d}}}function ft(n,e,t){for(var i=te(n,!0),r=T(n)[e];i;){var o=T(i)[t],s=void 0;if(t==="top"||t==="left"?s=r>=o:s=r<=o,!s)return i;if(i===W())break;i=te(i,!1)}return!1}function pe(n,e,t,i){for(var r=0,o=0,s=n.children;o<s.length;){if(s[o].style.display!=="none"&&s[o]!==v.ghost&&(i||s[o]!==v.dragged)&&Y(s[o],t.draggable,n,!1)){if(r===e)return s[o];r++}o++}return null}function rt(n,e){for(var t=n.lastElementChild;t&&(t===v.ghost||g(t,"display")==="none"||e&&!Ue(t,e));)t=t.previousElementSibling;return t||null}function R(n,e){var t=0;if(!n||!n.parentNode)return-1;for(;n=n.previousElementSibling;)n.nodeName.toUpperCase()!=="TEMPLATE"&&n!==v.clone&&(!e||Ue(n,e))&&t++;return t}function mt(n){var e=0,t=0,i=W();if(n)do{var r=ce(n),o=r.a,s=r.d;e+=n.scrollLeft*o,t+=n.scrollTop*s}while(n!==i&&(n=n.parentNode));return[e,t]}function ei(n,e){for(var t in n)if(!!n.hasOwnProperty(t)){for(var i in e)if(e.hasOwnProperty(i)&&e[i]===n[t][i])return Number(t)}return-1}function te(n,e){if(!n||!n.getBoundingClientRect)return W();var t=n,i=!1;do if(t.clientWidth<t.scrollWidth||t.clientHeight<t.scrollHeight){var r=g(t);if(t.clientWidth<t.scrollWidth&&(r.overflowX=="auto"||r.overflowX=="scroll")||t.clientHeight<t.scrollHeight&&(r.overflowY=="auto"||r.overflowY=="scroll")){if(!t.getBoundingClientRect||t===document.body)return W();if(i||e)return t;i=!0}}while(t=t.parentNode);return W()}function ti(n,e){if(n&&e)for(var t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function qe(n,e){return Math.round(n.top)===Math.round(e.top)&&Math.round(n.left)===Math.round(e.left)&&Math.round(n.height)===Math.round(e.height)&&Math.round(n.width)===Math.round(e.width)}var Ce;function kt(n,e){return function(){if(!Ce){var t=arguments,i=this;t.length===1?n.call(i,t[0]):n.apply(i,t),Ce=setTimeout(function(){Ce=void 0},e)}}}function ii(){clearTimeout(Ce),Ce=void 0}function At(n,e,t){n.scrollLeft+=e,n.scrollTop+=t}function xt(n){var e=window.Polymer,t=window.jQuery||window.Zepto;return e&&e.dom?e.dom(n).cloneNode(!0):t?t(n).clone(!0)[0]:n.cloneNode(!0)}function It(n,e,t){var i={};return Array.from(n.children).forEach(function(r){var o,s,a,l;if(!(!Y(r,e.draggable,n,!1)||r.animated||r===t)){var u=T(r);i.left=Math.min((o=i.left)!==null&&o!==void 0?o:1/0,u.left),i.top=Math.min((s=i.top)!==null&&s!==void 0?s:1/0,u.top),i.right=Math.max((a=i.right)!==null&&a!==void 0?a:-1/0,u.right),i.bottom=Math.max((l=i.bottom)!==null&&l!==void 0?l:-1/0,u.bottom)}}),i.width=i.right-i.left,i.height=i.bottom-i.top,i.x=i.left,i.y=i.top,i}var O="Sortable"+new Date().getTime();function ni(){var n=[],e;return{captureAnimationState:function(){if(n=[],!!this.options.animation){var i=[].slice.call(this.el.children);i.forEach(function(r){if(!(g(r,"display")==="none"||r===v.ghost)){n.push({target:r,rect:T(r)});var o=q({},n[n.length-1].rect);if(r.thisAnimationDuration){var s=ce(r,!0);s&&(o.top-=s.f,o.left-=s.e)}r.fromRect=o}})}},addAnimationState:function(i){n.push(i)},removeAnimationState:function(i){n.splice(ei(n,{target:i}),1)},animateAll:function(i){var r=this;if(!this.options.animation){clearTimeout(e),typeof i=="function"&&i();return}var o=!1,s=0;n.forEach(function(a){var l=0,u=a.target,d=u.fromRect,h=T(u),f=u.prevFromRect,m=u.prevToRect,E=a.rect,S=ce(u,!0);S&&(h.top-=S.f,h.left-=S.e),u.toRect=h,u.thisAnimationDuration&&qe(f,h)&&!qe(d,h)&&(E.top-h.top)/(E.left-h.left)===(d.top-h.top)/(d.left-h.left)&&(l=oi(E,f,m,r.options)),qe(h,d)||(u.prevFromRect=d,u.prevToRect=h,l||(l=r.options.animation),r.animate(u,E,h,l)),l&&(o=!0,s=Math.max(s,l),clearTimeout(u.animationResetTimer),u.animationResetTimer=setTimeout(function(){u.animationTime=0,u.prevFromRect=null,u.fromRect=null,u.prevToRect=null,u.thisAnimationDuration=null},l),u.thisAnimationDuration=l)}),clearTimeout(e),o?e=setTimeout(function(){typeof i=="function"&&i()},s):typeof i=="function"&&i(),n=[]},animate:function(i,r,o,s){if(s){g(i,"transition",""),g(i,"transform","");var a=ce(this.el),l=a&&a.a,u=a&&a.d,d=(r.left-o.left)/(l||1),h=(r.top-o.top)/(u||1);i.animatingX=!!d,i.animatingY=!!h,g(i,"transform","translate3d("+d+"px,"+h+"px,0)"),this.forRepaintDummy=ri(i),g(i,"transition","transform "+s+"ms"+(this.options.easing?" "+this.options.easing:"")),g(i,"transform","translate3d(0,0,0)"),typeof i.animated=="number"&&clearTimeout(i.animated),i.animated=setTimeout(function(){g(i,"transition",""),g(i,"transform",""),i.animated=!1,i.animatingX=!1,i.animatingY=!1},s)}}}}function ri(n){return n.offsetWidth}function oi(n,e,t,i){return Math.sqrt(Math.pow(e.top-n.top,2)+Math.pow(e.left-n.left,2))/Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))*i.animation}var le=[],Ge={initializeByDefault:!0},ke={mount:function(e){for(var t in Ge)Ge.hasOwnProperty(t)&&!(t in e)&&(e[t]=Ge[t]);le.forEach(function(i){if(i.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),le.push(e)},pluginEvent:function(e,t,i){var r=this;this.eventCanceled=!1,i.cancel=function(){r.eventCanceled=!0};var o=e+"Global";le.forEach(function(s){!t[s.pluginName]||(t[s.pluginName][o]&&t[s.pluginName][o](q({sortable:t},i)),t.options[s.pluginName]&&t[s.pluginName][e]&&t[s.pluginName][e](q({sortable:t},i)))})},initializePlugins:function(e,t,i,r){le.forEach(function(a){var l=a.pluginName;if(!(!e.options[l]&&!a.initializeByDefault)){var u=new a(e,t,e.options);u.sortable=e,u.options=e.options,e[l]=u,K(i,u.defaults)}});for(var o in e.options)if(!!e.options.hasOwnProperty(o)){var s=this.modifyOption(e,o,e.options[o]);typeof s!="undefined"&&(e.options[o]=s)}},getEventProperties:function(e,t){var i={};return le.forEach(function(r){typeof r.eventProperties=="function"&&K(i,r.eventProperties.call(t[r.pluginName],e))}),i},modifyOption:function(e,t,i){var r;return le.forEach(function(o){!e[o.pluginName]||o.optionListeners&&typeof o.optionListeners[t]=="function"&&(r=o.optionListeners[t].call(e[o.pluginName],i))}),r}};function si(n){var e=n.sortable,t=n.rootEl,i=n.name,r=n.targetEl,o=n.cloneEl,s=n.toEl,a=n.fromEl,l=n.oldIndex,u=n.newIndex,d=n.oldDraggableIndex,h=n.newDraggableIndex,f=n.originalEvent,m=n.putSortable,E=n.extraEventProperties;if(e=e||t&&t[O],!!e){var S,U=e.options,G="on"+i.charAt(0).toUpperCase()+i.substr(1);window.CustomEvent&&!V&&!Te?S=new CustomEvent(i,{bubbles:!0,cancelable:!0}):(S=document.createEvent("Event"),S.initEvent(i,!0,!0)),S.to=s||t,S.from=a||t,S.item=r||t,S.clone=o,S.oldIndex=l,S.newIndex=u,S.oldDraggableIndex=d,S.newDraggableIndex=h,S.originalEvent=f,S.pullMode=m?m.lastPutMode:void 0;var x=q(q({},E),ke.getEventProperties(i,e));for(var B in x)S[B]=x[B];t&&t.dispatchEvent(S),U[G]&&U[G].call(e,S)}}var ai=["evt"],z=function(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=i.evt,o=Jt(i,ai);ke.pluginEvent.bind(v)(e,t,q({dragEl:c,parentEl:D,ghostEl:b,rootEl:C,nextEl:ae,lastDownEl:Ne,cloneEl:F,cloneHidden:ee,dragStarted:Ee,putSortable:k,activeSortable:v.active,originalEvent:r,oldIndex:he,oldDraggableIndex:Fe,newIndex:L,newDraggableIndex:$,hideGhostForTarget:Nt,unhideGhostForTarget:Pt,cloneNowHidden:function(){ee=!0},cloneNowShown:function(){ee=!1},dispatchSortableEvent:function(a){I({sortable:t,name:a,originalEvent:r})}},o))};function I(n){si(q({putSortable:k,cloneEl:F,targetEl:c,rootEl:C,oldIndex:he,oldDraggableIndex:Fe,newIndex:L,newDraggableIndex:$},n))}var c,D,b,C,ae,Ne,F,ee,he,L,Fe,$,xe,k,de=!1,Be=!1,He=[],oe,H,Qe,je,gt,vt,Ee,ue,De,_e=!1,Ie=!1,Pe,A,Ke=[],et=!1,Ye=[],We=typeof document!="undefined",ze=Ct,bt=Te||V?"cssFloat":"float",li=We&&!Ft&&!Ct&&"draggable"in document.createElement("div"),zt=function(){if(!!We){if(V)return!1;var n=document.createElement("x");return n.style.cssText="pointer-events:auto",n.style.pointerEvents==="auto"}}(),Ot=function(e,t){var i=g(e),r=parseInt(i.width)-parseInt(i.paddingLeft)-parseInt(i.paddingRight)-parseInt(i.borderLeftWidth)-parseInt(i.borderRightWidth),o=pe(e,0,t),s=pe(e,1,t),a=o&&g(o),l=s&&g(s),u=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+T(o).width,d=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+T(s).width;if(i.display==="flex")return i.flexDirection==="column"||i.flexDirection==="column-reverse"?"vertical":"horizontal";if(i.display==="grid")return i.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(o&&a.float&&a.float!=="none"){var h=a.float==="left"?"left":"right";return s&&(l.clear==="both"||l.clear===h)?"vertical":"horizontal"}return o&&(a.display==="block"||a.display==="flex"||a.display==="table"||a.display==="grid"||u>=r&&i[bt]==="none"||s&&i[bt]==="none"&&u+d>r)?"vertical":"horizontal"},ui=function(e,t,i){var r=i?e.left:e.top,o=i?e.right:e.bottom,s=i?e.width:e.height,a=i?t.left:t.top,l=i?t.right:t.bottom,u=i?t.width:t.height;return r===a||o===l||r+s/2===a+u/2},di=function(e,t){var i;return He.some(function(r){var o=r[O].options.emptyInsertThreshold;if(!(!o||rt(r))){var s=T(r),a=e>=s.left-o&&e<=s.right+o,l=t>=s.top-o&&t<=s.bottom+o;if(a&&l)return i=r}}),i},Mt=function(e){function t(o,s){return function(a,l,u,d){var h=a.options.group.name&&l.options.group.name&&a.options.group.name===l.options.group.name;if(o==null&&(s||h))return!0;if(o==null||o===!1)return!1;if(s&&o==="clone")return o;if(typeof o=="function")return t(o(a,l,u,d),s)(a,l,u,d);var f=(s?a:l).options.group.name;return o===!0||typeof o=="string"&&o===f||o.join&&o.indexOf(f)>-1}}var i={},r=e.group;(!r||Me(r)!="object")&&(r={name:r}),i.name=r.name,i.checkPull=t(r.pull,!0),i.checkPut=t(r.put),i.revertClone=r.revertClone,e.group=i},Nt=function(){!zt&&b&&g(b,"display","none")},Pt=function(){!zt&&b&&g(b,"display","")};We&&!Ft&&document.addEventListener("click",function(n){if(Be)return n.preventDefault(),n.stopPropagation&&n.stopPropagation(),n.stopImmediatePropagation&&n.stopImmediatePropagation(),Be=!1,!1},!0);var se=function(e){if(c){e=e.touches?e.touches[0]:e;var t=di(e.clientX,e.clientY);if(t){var i={};for(var r in e)e.hasOwnProperty(r)&&(i[r]=e[r]);i.target=i.rootEl=t,i.preventDefault=void 0,i.stopPropagation=void 0,t[O]._onDragOver(i)}}},hi=function(e){c&&c.parentNode[O]._isOutsideThisEl(e.target)};function v(n,e){if(!(n&&n.nodeType&&n.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(n));this.el=n,this.options=e=K({},e),n[O]=this;var t={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(n.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Ot(n,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(s,a){s.setData("Text",a.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:v.supportPointer!==!1&&"PointerEvent"in window&&!Se,emptyInsertThreshold:5};ke.initializePlugins(this,n,t);for(var i in t)!(i in e)&&(e[i]=t[i]);Mt(e);for(var r in this)r.charAt(0)==="_"&&typeof this[r]=="function"&&(this[r]=this[r].bind(this));this.nativeDraggable=e.forceFallback?!1:li,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?w(n,"pointerdown",this._onTapStart):(w(n,"mousedown",this._onTapStart),w(n,"touchstart",this._onTapStart)),this.nativeDraggable&&(w(n,"dragover",this),w(n,"dragenter",this)),He.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),K(this,ni())}v.prototype={constructor:v,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(ue=null)},_getDirection:function(e,t){return typeof this.options.direction=="function"?this.options.direction.call(this,e,t,c):this.options.direction},_onTapStart:function(e){if(!!e.cancelable){var t=this,i=this.el,r=this.options,o=r.preventOnFilter,s=e.type,a=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,l=(a||e).target,u=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||l,d=r.filter;if(Ei(i),!c&&!(/mousedown|pointerdown/.test(s)&&e.button!==0||r.disabled)&&!u.isContentEditable&&!(!this.nativeDraggable&&Se&&l&&l.tagName.toUpperCase()==="SELECT")&&(l=Y(l,r.draggable,i,!1),!(l&&l.animated)&&Ne!==l)){if(he=R(l),Fe=R(l,r.draggable),typeof d=="function"){if(d.call(this,e,l,this)){I({sortable:t,rootEl:u,name:"filter",targetEl:l,toEl:i,fromEl:i}),z("filter",t,{evt:e}),o&&e.cancelable&&e.preventDefault();return}}else if(d&&(d=d.split(",").some(function(h){if(h=Y(u,h.trim(),i,!1),h)return I({sortable:t,rootEl:h,name:"filter",targetEl:l,fromEl:i,toEl:i}),z("filter",t,{evt:e}),!0}),d)){o&&e.cancelable&&e.preventDefault();return}r.handle&&!Y(u,r.handle,i,!1)||this._prepareDragStart(e,a,l)}}},_prepareDragStart:function(e,t,i){var r=this,o=r.el,s=r.options,a=o.ownerDocument,l;if(i&&!c&&i.parentNode===o){var u=T(i);if(C=o,c=i,D=c.parentNode,ae=c.nextSibling,Ne=i,xe=s.group,v.dragged=c,oe={target:c,clientX:(t||e).clientX,clientY:(t||e).clientY},gt=oe.clientX-u.left,vt=oe.clientY-u.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,c.style["will-change"]="all",l=function(){if(z("delayEnded",r,{evt:e}),v.eventCanceled){r._onDrop();return}r._disableDelayedDragEvents(),!ct&&r.nativeDraggable&&(c.draggable=!0),r._triggerDragStart(e,t),I({sortable:r,name:"choose",originalEvent:e}),P(c,s.chosenClass,!0)},s.ignore.split(",").forEach(function(d){Tt(c,d.trim(),Ve)}),w(a,"dragover",se),w(a,"mousemove",se),w(a,"touchmove",se),w(a,"mouseup",r._onDrop),w(a,"touchend",r._onDrop),w(a,"touchcancel",r._onDrop),ct&&this.nativeDraggable&&(this.options.touchStartThreshold=4,c.draggable=!0),z("delayStart",this,{evt:e}),s.delay&&(!s.delayOnTouchOnly||t)&&(!this.nativeDraggable||!(Te||V))){if(v.eventCanceled){this._onDrop();return}w(a,"mouseup",r._disableDelayedDrag),w(a,"touchend",r._disableDelayedDrag),w(a,"touchcancel",r._disableDelayedDrag),w(a,"mousemove",r._delayedDragTouchMoveHandler),w(a,"touchmove",r._delayedDragTouchMoveHandler),s.supportPointer&&w(a,"pointermove",r._delayedDragTouchMoveHandler),r._dragStartTimer=setTimeout(l,s.delay)}else l()}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){c&&Ve(c),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;y(e,"mouseup",this._disableDelayedDrag),y(e,"touchend",this._disableDelayedDrag),y(e,"touchcancel",this._disableDelayedDrag),y(e,"mousemove",this._delayedDragTouchMoveHandler),y(e,"touchmove",this._delayedDragTouchMoveHandler),y(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||e.pointerType=="touch"&&e,!this.nativeDraggable||t?this.options.supportPointer?w(document,"pointermove",this._onTouchMove):t?w(document,"touchmove",this._onTouchMove):w(document,"mousemove",this._onTouchMove):(w(c,"dragend",this),w(C,"dragstart",this._onDragStart));try{document.selection?Le(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,t){if(de=!1,C&&c){z("dragStarted",this,{evt:t}),this.nativeDraggable&&w(document,"dragover",hi);var i=this.options;!e&&P(c,i.dragClass,!1),P(c,i.ghostClass,!0),v.active=this,e&&this._appendGhost(),I({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(H){this._lastX=H.clientX,this._lastY=H.clientY,Nt();for(var e=document.elementFromPoint(H.clientX,H.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(H.clientX,H.clientY),e!==t);)t=e;if(c.parentNode[O]._isOutsideThisEl(e),t)do{if(t[O]){var i=void 0;if(i=t[O]._onDragOver({clientX:H.clientX,clientY:H.clientY,target:e,rootEl:t}),i&&!this.options.dragoverBubble)break}e=t}while(t=_t(t));Pt()}},_onTouchMove:function(e){if(oe){var t=this.options,i=t.fallbackTolerance,r=t.fallbackOffset,o=e.touches?e.touches[0]:e,s=b&&ce(b,!0),a=b&&s&&s.a,l=b&&s&&s.d,u=ze&&A&&mt(A),d=(o.clientX-oe.clientX+r.x)/(a||1)+(u?u[0]-Ke[0]:0)/(a||1),h=(o.clientY-oe.clientY+r.y)/(l||1)+(u?u[1]-Ke[1]:0)/(l||1);if(!v.active&&!de){if(i&&Math.max(Math.abs(o.clientX-this._lastX),Math.abs(o.clientY-this._lastY))<i)return;this._onDragStart(e,!0)}if(b){s?(s.e+=d-(Qe||0),s.f+=h-(je||0)):s={a:1,b:0,c:0,d:1,e:d,f:h};var f="matrix(".concat(s.a,",").concat(s.b,",").concat(s.c,",").concat(s.d,",").concat(s.e,",").concat(s.f,")");g(b,"webkitTransform",f),g(b,"mozTransform",f),g(b,"msTransform",f),g(b,"transform",f),Qe=d,je=h,H=o}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!b){var e=this.options.fallbackOnBody?document.body:C,t=T(c,!0,ze,!0,e),i=this.options;if(ze){for(A=e;g(A,"position")==="static"&&g(A,"transform")==="none"&&A!==document;)A=A.parentNode;A!==document.body&&A!==document.documentElement?(A===document&&(A=W()),t.top+=A.scrollTop,t.left+=A.scrollLeft):A=W(),Ke=mt(A)}b=c.cloneNode(!0),P(b,i.ghostClass,!1),P(b,i.fallbackClass,!0),P(b,i.dragClass,!0),g(b,"transition",""),g(b,"transform",""),g(b,"box-sizing","border-box"),g(b,"margin",0),g(b,"top",t.top),g(b,"left",t.left),g(b,"width",t.width),g(b,"height",t.height),g(b,"opacity","0.8"),g(b,"position",ze?"absolute":"fixed"),g(b,"zIndex","100000"),g(b,"pointerEvents","none"),v.ghost=b,e.appendChild(b),g(b,"transform-origin",gt/parseInt(b.style.width)*100+"% "+vt/parseInt(b.style.height)*100+"%")}},_onDragStart:function(e,t){var i=this,r=e.dataTransfer,o=i.options;if(z("dragStart",this,{evt:e}),v.eventCanceled){this._onDrop();return}z("setupClone",this),v.eventCanceled||(F=xt(c),F.removeAttribute("id"),F.draggable=!1,F.style["will-change"]="",this._hideClone(),P(F,this.options.chosenClass,!1),v.clone=F),i.cloneId=Le(function(){z("clone",i),!v.eventCanceled&&(i.options.removeCloneOnHide||C.insertBefore(F,c),i._hideClone(),I({sortable:i,name:"clone"}))}),!t&&P(c,o.dragClass,!0),t?(Be=!0,i._loopId=setInterval(i._emulateDragOver,50)):(y(document,"mouseup",i._onDrop),y(document,"touchend",i._onDrop),y(document,"touchcancel",i._onDrop),r&&(r.effectAllowed="move",o.setData&&o.setData.call(i,r,c)),w(document,"drop",i),g(c,"transform","translateZ(0)")),de=!0,i._dragStartId=Le(i._dragStarted.bind(i,t,e)),w(document,"selectstart",i),Ee=!0,Se&&g(document.body,"user-select","none")},_onDragOver:function(e){var t=this.el,i=e.target,r,o,s,a=this.options,l=a.group,u=v.active,d=xe===l,h=a.sort,f=k||u,m,E=this,S=!1;if(et)return;function U(be,Rt){z(be,E,q({evt:e,isOwner:d,axis:m?"vertical":"horizontal",revert:s,dragRect:r,targetRect:o,canSort:h,fromSortable:f,target:i,completed:x,onMove:function(at,Ut){return Oe(C,t,c,r,at,T(at),e,Ut)},changed:B},Rt))}function G(){U("dragOverAnimationCapture"),E.captureAnimationState(),E!==f&&f.captureAnimationState()}function x(be){return U("dragOverCompleted",{insertion:be}),be&&(d?u._hideClone():u._showClone(E),E!==f&&(P(c,k?k.options.ghostClass:u.options.ghostClass,!1),P(c,a.ghostClass,!0)),k!==E&&E!==v.active?k=E:E===v.active&&k&&(k=null),f===E&&(E._ignoreWhileAnimating=i),E.animateAll(function(){U("dragOverAnimationComplete"),E._ignoreWhileAnimating=null}),E!==f&&(f.animateAll(),f._ignoreWhileAnimating=null)),(i===c&&!c.animated||i===t&&!i.animated)&&(ue=null),!a.dragoverBubble&&!e.rootEl&&i!==document&&(c.parentNode[O]._isOutsideThisEl(e.target),!be&&se(e)),!a.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),S=!0}function B(){L=R(c),$=R(c,a.draggable),I({sortable:E,name:"change",toEl:t,newIndex:L,newDraggableIndex:$,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),i=Y(i,a.draggable,t,!0),U("dragOver"),v.eventCanceled)return S;if(c.contains(e.target)||i.animated&&i.animatingX&&i.animatingY||E._ignoreWhileAnimating===i)return x(!1);if(Be=!1,u&&!a.disabled&&(d?h||(s=D!==C):k===this||(this.lastPutMode=xe.checkPull(this,u,c,e))&&l.checkPut(this,u,c,e))){if(m=this._getDirection(e,i)==="vertical",r=T(c),U("dragOverValid"),v.eventCanceled)return S;if(s)return D=C,G(),this._hideClone(),U("revert"),v.eventCanceled||(ae?C.insertBefore(c,ae):C.appendChild(c)),x(!0);var M=rt(t,a.draggable);if(!M||mi(e,m,this)&&!M.animated){if(M===c)return x(!1);if(M&&t===e.target&&(i=M),i&&(o=T(i)),Oe(C,t,c,r,i,o,e,!!i)!==!1)return G(),M&&M.nextSibling?t.insertBefore(c,M.nextSibling):t.appendChild(c),D=t,B(),x(!0)}else if(M&&fi(e,m,this)){var ie=pe(t,0,a,!0);if(ie===c)return x(!1);if(i=ie,o=T(i),Oe(C,t,c,r,i,o,e,!1)!==!1)return G(),t.insertBefore(c,ie),D=t,B(),x(!0)}else if(i.parentNode===t){o=T(i);var X=0,ne,fe=c.parentNode!==t,N=!ui(c.animated&&c.toRect||r,i.animated&&i.toRect||o,m),me=m?"top":"left",Z=ft(i,"top","top")||ft(c,"top","top"),ge=Z?Z.scrollTop:void 0;ue!==i&&(ne=o[me],_e=!1,Ie=!N&&a.invertSwap||fe),X=gi(e,i,o,m,N?1:a.swapThreshold,a.invertedSwapThreshold==null?a.swapThreshold:a.invertedSwapThreshold,Ie,ue===i);var Q;if(X!==0){var re=R(c);do re-=X,Q=D.children[re];while(Q&&(g(Q,"display")==="none"||Q===b))}if(X===0||Q===i)return x(!1);ue=i,De=X;var ve=i.nextElementSibling,J=!1;J=X===1;var Ae=Oe(C,t,c,r,i,o,e,J);if(Ae!==!1)return(Ae===1||Ae===-1)&&(J=Ae===1),et=!0,setTimeout(pi,30),G(),J&&!ve?t.appendChild(c):i.parentNode.insertBefore(c,J?ve:i),Z&&At(Z,0,ge-Z.scrollTop),D=c.parentNode,ne!==void 0&&!Ie&&(Pe=Math.abs(ne-T(i)[me])),B(),x(!0)}if(t.contains(c))return x(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){y(document,"mousemove",this._onTouchMove),y(document,"touchmove",this._onTouchMove),y(document,"pointermove",this._onTouchMove),y(document,"dragover",se),y(document,"mousemove",se),y(document,"touchmove",se)},_offUpEvents:function(){var e=this.el.ownerDocument;y(e,"mouseup",this._onDrop),y(e,"touchend",this._onDrop),y(e,"pointerup",this._onDrop),y(e,"touchcancel",this._onDrop),y(document,"selectstart",this)},_onDrop:function(e){var t=this.el,i=this.options;if(L=R(c),$=R(c,i.draggable),z("drop",this,{evt:e}),D=c&&c.parentNode,L=R(c),$=R(c,i.draggable),v.eventCanceled){this._nulling();return}de=!1,Ie=!1,_e=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),tt(this.cloneId),tt(this._dragStartId),this.nativeDraggable&&(y(document,"drop",this),y(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Se&&g(document.body,"user-select",""),g(c,"transform",""),e&&(Ee&&(e.cancelable&&e.preventDefault(),!i.dropBubble&&e.stopPropagation()),b&&b.parentNode&&b.parentNode.removeChild(b),(C===D||k&&k.lastPutMode!=="clone")&&F&&F.parentNode&&F.parentNode.removeChild(F),c&&(this.nativeDraggable&&y(c,"dragend",this),Ve(c),c.style["will-change"]="",Ee&&!de&&P(c,k?k.options.ghostClass:this.options.ghostClass,!1),P(c,this.options.chosenClass,!1),I({sortable:this,name:"unchoose",toEl:D,newIndex:null,newDraggableIndex:null,originalEvent:e}),C!==D?(L>=0&&(I({rootEl:D,name:"add",toEl:D,fromEl:C,originalEvent:e}),I({sortable:this,name:"remove",toEl:D,originalEvent:e}),I({rootEl:D,name:"sort",toEl:D,fromEl:C,originalEvent:e}),I({sortable:this,name:"sort",toEl:D,originalEvent:e})),k&&k.save()):L!==he&&L>=0&&(I({sortable:this,name:"update",toEl:D,originalEvent:e}),I({sortable:this,name:"sort",toEl:D,originalEvent:e})),v.active&&((L==null||L===-1)&&(L=he,$=Fe),I({sortable:this,name:"end",toEl:D,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){z("nulling",this),C=c=D=b=ae=F=Ne=ee=oe=H=Ee=L=$=he=Fe=ue=De=k=xe=v.dragged=v.ghost=v.clone=v.active=null,Ye.forEach(function(e){e.checked=!0}),Ye.length=Qe=je=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":c&&(this._onDragOver(e),ci(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],t,i=this.el.children,r=0,o=i.length,s=this.options;r<o;r++)t=i[r],Y(t,s.draggable,this.el,!1)&&e.push(t.getAttribute(s.dataIdAttr)||bi(t));return e},sort:function(e,t){var i={},r=this.el;this.toArray().forEach(function(o,s){var a=r.children[s];Y(a,this.options.draggable,r,!1)&&(i[o]=a)},this),t&&this.captureAnimationState(),e.forEach(function(o){i[o]&&(r.removeChild(i[o]),r.appendChild(i[o]))}),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return Y(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var i=this.options;if(t===void 0)return i[e];var r=ke.modifyOption(this,e,t);typeof r!="undefined"?i[e]=r:i[e]=t,e==="group"&&Mt(i)},destroy:function(){z("destroy",this);var e=this.el;e[O]=null,y(e,"mousedown",this._onTapStart),y(e,"touchstart",this._onTapStart),y(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(y(e,"dragover",this),y(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(t){t.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),He.splice(He.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!ee){if(z("hideClone",this),v.eventCanceled)return;g(F,"display","none"),this.options.removeCloneOnHide&&F.parentNode&&F.parentNode.removeChild(F),ee=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(ee){if(z("showClone",this),v.eventCanceled)return;c.parentNode==C&&!this.options.group.revertClone?C.insertBefore(F,c):ae?C.insertBefore(F,ae):C.appendChild(F),this.options.group.revertClone&&this.animate(c,F),g(F,"display",""),ee=!1}}};function ci(n){n.dataTransfer&&(n.dataTransfer.dropEffect="move"),n.cancelable&&n.preventDefault()}function Oe(n,e,t,i,r,o,s,a){var l,u=n[O],d=u.options.onMove,h;return window.CustomEvent&&!V&&!Te?l=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(l=document.createEvent("Event"),l.initEvent("move",!0,!0)),l.to=e,l.from=n,l.dragged=t,l.draggedRect=i,l.related=r||e,l.relatedRect=o||T(e),l.willInsertAfter=a,l.originalEvent=s,n.dispatchEvent(l),d&&(h=d.call(u,l,s)),h}function Ve(n){n.draggable=!1}function pi(){et=!1}function fi(n,e,t){var i=T(pe(t.el,0,t.options,!0)),r=It(t.el,t.options,b),o=10;return e?n.clientX<r.left-o||n.clientY<i.top&&n.clientX<i.right:n.clientY<r.top-o||n.clientY<i.bottom&&n.clientX<i.left}function mi(n,e,t){var i=T(rt(t.el,t.options.draggable)),r=It(t.el,t.options,b),o=10;return e?n.clientX>r.right+o||n.clientY>i.bottom&&n.clientX>i.left:n.clientY>r.bottom+o||n.clientX>i.right&&n.clientY>i.top}function gi(n,e,t,i,r,o,s,a){var l=i?n.clientY:n.clientX,u=i?t.height:t.width,d=i?t.top:t.left,h=i?t.bottom:t.right,f=!1;if(!s){if(a&&Pe<u*r){if(!_e&&(De===1?l>d+u*o/2:l<h-u*o/2)&&(_e=!0),_e)f=!0;else if(De===1?l<d+Pe:l>h-Pe)return-De}else if(l>d+u*(1-r)/2&&l<h-u*(1-r)/2)return vi(e)}return f=f||s,f&&(l<d+u*o/2||l>h-u*o/2)?l>d+u/2?1:-1:0}function vi(n){return R(c)<R(n)?1:-1}function bi(n){for(var e=n.tagName+n.className+n.src+n.href+n.textContent,t=e.length,i=0;t--;)i+=e.charCodeAt(t);return i.toString(36)}function Ei(n){Ye.length=0;for(var e=n.getElementsByTagName("input"),t=e.length;t--;){var i=e[t];i.checked&&Ye.push(i)}}function Le(n){return setTimeout(n,0)}function tt(n){return clearTimeout(n)}We&&w(document,"touchmove",function(n){(v.active||de)&&n.cancelable&&n.preventDefault()});v.utils={on:w,off:y,css:g,find:Tt,is:function(e,t){return!!Y(e,t,e,!1)},extend:ti,throttle:kt,closest:Y,toggleClass:P,clone:xt,index:R,nextTick:Le,cancelNextTick:tt,detectDirection:Ot,getChild:pe,expando:O};v.get=function(n){return n[O]};v.mount=function(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];e[0].constructor===Array&&(e=e[0]),e.forEach(function(i){if(!i.prototype||!i.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(i));i.utils&&(v.utils=q(q({},v.utils),i.utils)),ke.mount(i)})};v.create=function(n,e){return new v(n,e)};v.version=$t;var _=[],ye,it,nt=!1,Ze,Je,Xe,we;function yi(){function n(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return n.prototype={dragStarted:function(t){var i=t.originalEvent;this.sortable.nativeDraggable?w(document,"dragover",this._handleAutoScroll):this.options.supportPointer?w(document,"pointermove",this._handleFallbackAutoScroll):i.touches?w(document,"touchmove",this._handleFallbackAutoScroll):w(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(t){var i=t.originalEvent;!this.options.dragOverBubble&&!i.rootEl&&this._handleAutoScroll(i)},drop:function(){this.sortable.nativeDraggable?y(document,"dragover",this._handleAutoScroll):(y(document,"pointermove",this._handleFallbackAutoScroll),y(document,"touchmove",this._handleFallbackAutoScroll),y(document,"mousemove",this._handleFallbackAutoScroll)),Et(),Re(),ii()},nulling:function(){Xe=it=ye=nt=we=Ze=Je=null,_.length=0},_handleFallbackAutoScroll:function(t){this._handleAutoScroll(t,!0)},_handleAutoScroll:function(t,i){var r=this,o=(t.touches?t.touches[0]:t).clientX,s=(t.touches?t.touches[0]:t).clientY,a=document.elementFromPoint(o,s);if(Xe=t,i||this.options.forceAutoScrollFallback||Te||V||Se){$e(t,this.options,a,i);var l=te(a,!0);nt&&(!we||o!==Ze||s!==Je)&&(we&&Et(),we=setInterval(function(){var u=te(document.elementFromPoint(o,s),!0);u!==l&&(l=u,Re()),$e(t,r.options,u,i)},10),Ze=o,Je=s)}else{if(!this.options.bubbleScroll||te(a,!0)===W()){Re();return}$e(t,this.options,te(a,!1),!1)}}},K(n,{pluginName:"scroll",initializeByDefault:!0})}function Re(){_.forEach(function(n){clearInterval(n.pid)}),_=[]}function Et(){clearInterval(we)}var $e=kt(function(n,e,t,i){if(!!e.scroll){var r=(n.touches?n.touches[0]:n).clientX,o=(n.touches?n.touches[0]:n).clientY,s=e.scrollSensitivity,a=e.scrollSpeed,l=W(),u=!1,d;it!==t&&(it=t,Re(),ye=e.scroll,d=e.scrollFn,ye===!0&&(ye=te(t,!0)));var h=0,f=ye;do{var m=f,E=T(m),S=E.top,U=E.bottom,G=E.left,x=E.right,B=E.width,M=E.height,ie=void 0,X=void 0,ne=m.scrollWidth,fe=m.scrollHeight,N=g(m),me=m.scrollLeft,Z=m.scrollTop;m===l?(ie=B<ne&&(N.overflowX==="auto"||N.overflowX==="scroll"||N.overflowX==="visible"),X=M<fe&&(N.overflowY==="auto"||N.overflowY==="scroll"||N.overflowY==="visible")):(ie=B<ne&&(N.overflowX==="auto"||N.overflowX==="scroll"),X=M<fe&&(N.overflowY==="auto"||N.overflowY==="scroll"));var ge=ie&&(Math.abs(x-r)<=s&&me+B<ne)-(Math.abs(G-r)<=s&&!!me),Q=X&&(Math.abs(U-o)<=s&&Z+M<fe)-(Math.abs(S-o)<=s&&!!Z);if(!_[h])for(var re=0;re<=h;re++)_[re]||(_[re]={});(_[h].vx!=ge||_[h].vy!=Q||_[h].el!==m)&&(_[h].el=m,_[h].vx=ge,_[h].vy=Q,clearInterval(_[h].pid),(ge!=0||Q!=0)&&(u=!0,_[h].pid=setInterval(function(){i&&this.layer===0&&v.active._onTouchMove(Xe);var ve=_[this.layer].vy?_[this.layer].vy*a:0,J=_[this.layer].vx?_[this.layer].vx*a:0;typeof d=="function"&&d.call(v.dragged.parentNode[O],J,ve,n,Xe,_[this.layer].el)!=="continue"||At(_[this.layer].el,J,ve)}.bind({layer:h}),24))),h++}while(e.bubbleScroll&&f!==l&&(f=te(f,!1)));nt=u}},30),Lt=function(e){var t=e.originalEvent,i=e.putSortable,r=e.dragEl,o=e.activeSortable,s=e.dispatchSortableEvent,a=e.hideGhostForTarget,l=e.unhideGhostForTarget;if(!!t){var u=i||o;a();var d=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,h=document.elementFromPoint(d.clientX,d.clientY);l(),u&&!u.el.contains(h)&&(s("spill"),this.onSpill({dragEl:r,putSortable:i}))}};function ot(){}ot.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,i=e.putSortable;this.sortable.captureAnimationState(),i&&i.captureAnimationState();var r=pe(this.sortable.el,this.startIndex,this.options);r?this.sortable.el.insertBefore(t,r):this.sortable.el.appendChild(t),this.sortable.animateAll(),i&&i.animateAll()},drop:Lt};K(ot,{pluginName:"revertOnSpill"});function st(){}st.prototype={onSpill:function(e){var t=e.dragEl,i=e.putSortable,r=i||this.sortable;r.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),r.animateAll()},drop:Lt};K(st,{pluginName:"removeOnSpill"});v.mount(new yi);v.mount(st,ot);export{p as $,v as S};
