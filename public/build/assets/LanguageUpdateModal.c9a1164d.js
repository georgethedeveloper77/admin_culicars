import{P as B}from"./PsModal.62a4a1d3.js";import{P as j}from"./PsLabel.8e7b338e.js";import{P as I}from"./PsButton.60128369.js";import{P as N}from"./PsToggle.5b24d11e.js";import{P as V}from"./PsIcon.e7a5adcd.js";import{P as z}from"./PsInput.8a03a303.js";import{P as T}from"./PsLoading.0a981307.js";import{d as E,i as k,y as F,bB as O,o as n,f as S,w as i,a as u,b as d,q as x,t as _,c as v,g as b,s as q,F as D,r as h}from"./app.2982e019.js";import{_ as H}from"./plugin-vue_export-helper.21dcd24c.js";import"./vue-neat-modal.2bf17e6b.js";import"./ThemeStore.40343845.js";import"./LanguageStore.8f1cddd7.js";import"./toggle.ae92e5df.js";/* empty css                                                             */import"./Icons.c01eddd9.js";const W=E({name:"LanguageUpdateModal",components:{PsModal:B,PsLabel:j,PsButton:I,PsToggle:N,PsIcon:V,PsInput:z,PsLoading:T},emit:["onSaved"],setup(e,{emit:o}){const c=k(),s=F({data:[]}),C=k(!1),L=k(!1),p=k(!1);k();let l=O({key:"",values:[]}),m;function w(r,f,t=null){this.form.key=r,this.languageStrings.data.length==0&&f.forEach(g=>{var M;let y={};y.language=g,y.key=r,y.value=t==null?"":(M=t.filter(U=>U.language_id==g.id)[0])==null?void 0:M.value,y.language_id=g.id,this.languageStrings.data.push(y)}),this.langaugesValues=t}function P(r,f,t=!1){p.value=t,m=f,!t&&l.key==""?(l.key=r,axios.post(route("language_string.getLanguageString",l)).then(g=>{s.data=g.data,c.value.toggle(!0)}).catch(g=>{})):c.value.toggle(!0)}function $(){const r=localStorage.activeLanguage?localStorage.activeLanguage:"en";let f="";for(let t=0;t<s.data.length;t++)s.data[t].language.symbol==r&&(f=s.data[t].value),l.values.push({value:s.data[t].value,id:s.data[t].id,language_id:s.data[t].language.id,symbol:s.data[t].language.symbol});m&&m(l),o("onSaved",f,l),c.value.toggle(!1)}function a(){c.value.toggle(!1)}return{loading:C,success:L,psmodal:c,openModal:P,form:l,languageStrings:s,handleSubmit:$,closeModal:a,isCreateUI:p,setLanguageStrings:w}}}),A={class:"flex flex-row justify-between w-full px-2"},G={class:"flex flex-col w-full mt-4 mb-4"},J={class:"px-2 mt-6 overflow-y-scroll h-76"},K={class:"w=full after:flex flex-col items-start justify-start space-y-6"},Q={key:0},R=u("span",{class:"font-medium text-red-800 ms-1"},"*",-1),X={key:0},Y=u("span",{class:"font-medium text-red-800 ms-1"},"*",-1),Z={class:"w-full flex flex-row justify-end mb-2.5"},ee={key:2,class:"transition-all duration-300"},te={key:3,class:""};function ae(e,o,c,s,C,L){const p=h("ps-label"),l=h("ps-icon"),m=h("ps-input"),w=h("ps-button"),P=h("ps-loading"),$=h("ps-modal");return n(),S($,{ref:"psmodal",maxWidth:"560px",bodyHeight:"max-h-full",line:"hidden",isClickOut:!1,theme:" px-6 py-6 rounded-lg shadow-xl",class:"z-50 h-56 bg-white"},{title:i(()=>[u("div",A,[d(p,{class:"text-lg font-semibold"},{default:i(()=>[x(_(e.$t("core__be_language_string_label")),1)]),_:1}),d(l,{onClick:o[0]||(o[0]=a=>e.closeModal()),name:"cross",class:"font-semibold cursor-pointer me-1",theme:"text-secondary-400"})])]),body:i(()=>[u("div",G,[u("div",J,[u("div",null,[u("div",K,[e.isCreateUI?b("",!0):(n(),v("div",Q,[d(p,null,{default:i(()=>[x(_(e.$t("core__be_key_label")),1),R]),_:1}),d(m,{type:"text",disabled:!0,value:e.form.key,"onUpdate:value":o[1]||(o[1]=a=>e.form.key=a),placeholder:e.$t("core__be_key_placeholder")},null,8,["value","placeholder"])])),(n(!0),v(D,null,q(e.languageStrings.data,a=>(n(),v("div",{key:a.id},[a.language!=null?(n(),v("div",X,[d(p,{class:"mb-2 text-base"},{default:i(()=>[x(_(a.language.name),1),Y]),_:2},1024)])):b("",!0),d(m,{type:"text",value:a.value,"onUpdate:value":r=>a.value=r,placeholder:e.$t("core__be_value_placeholder")},null,8,["value","onUpdate:value","placeholder"])]))),128))])])])])]),footer:i(()=>[u("div",Z,[d(w,{onClick:o[2]||(o[2]=a=>e.closeModal()),textSize:"text-base",type:"reset",class:"me-4",colors:"text-primary-500",focus:"",hover:""},{default:i(()=>[x(_(e.$t("core__be_btn_cancel")),1)]),_:1}),d(w,{onClick:o[3]||(o[3]=a=>e.handleSubmit()),class:"transition-all duration-300 min-w-3xs",padding:"px-7 py-2",rounded:"rounded",hover:"",focus:""},{default:i(()=>[e.loading?(n(),S(P,{key:0,theme:"border-2 border-t-2 border-text-8 border-t-primary-500",loadingSize:"h-5 w-5"})):b("",!0),e.success?(n(),S(l,{key:1,name:"check",w:"20",h:"20",class:"me-1.5 transition-all duration-300"})):b("",!0),e.success?(n(),v("span",ee,_(e.$t("core__be_btn_saved")),1)):b("",!0),!e.loading&&!e.success?(n(),v("span",te,_(e.$t("core__be_btn_save")),1)):b("",!0)]),_:1})])]),_:1},512)}var be=H(W,[["render",ae]]);export{be as default};
