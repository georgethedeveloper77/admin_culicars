import{_ as H}from"./PsLayout.568c8fbc.js";import{d as R,Z as V,i as o,A as s,B,o as n,c as _,b as i,w as b,a as T,f as O,q as C,t as $,g as d,F as z,r as l}from"./app.2982e019.js";import{P as I}from"./PsButton.60128369.js";import{a as N}from"./PsTextButton.a77542e1.js";import A from"./PsBannerIcon.d77e89fa.js";import{P as U}from"./PsBreadcrumb2.92714552.js";import{b as E}from"./PsDangerDialog.7d01f7b5.js";import{P as L}from"./PsIcon.e7a5adcd.js";import{P as q}from"./PsDropdown.3b1e9581.js";import{P as Z}from"./PsDropdownSelect.b154c567.js";import{D as G}from"./PsTableSearch.51ac3161.js";import{P as J}from"./PsIconButton.ea85c74d.js";import{P as K}from"./PsLabel.8e7b338e.js";import{P as M}from"./PsLink1.1db00228.js";import{P as Q}from"./PsToggle.5b24d11e.js";import{P as W}from"./PsTable2.f1c5d383.js";import{P as X}from"./PsRating.b987f4bc.js";import{D as Y}from"./DatePicker.03ba978d.js";import{_ as x}from"./plugin-vue_export-helper.21dcd24c.js";import"./PsWarningDialog.2baf785b.js";import"./PsModal.62a4a1d3.js";import"./vue-neat-modal.2bf17e6b.js";import"./ThemeStore.40343845.js";import"./LanguageStore.8f1cddd7.js";import"./index.esm.8fcef60c.js";import"./auth.esm.be6b9a90.js";import"./SideMenuStore.ed2aa07c.js";import"./SidebarMenuItem.6b029457.js";import"./PsErrorDialog.ccf1ce18.js";import"./PsInputWithRightIcon.b34d7fa0.js";import"./AppInfoStore.6a348fbd.js";import"./NotificationStore.af68b63a.js";import"./index.esm.7ce161a7.js";import"./NotiUnRegisterHolder.eefb692e.js";import"./ps_constants.0e2a11f9.js";import"./PsIcon1.0883f10e.js";import"./Icons.c01eddd9.js";import"./toggle.ae92e5df.js";/* empty css                                                             */import"./moment.9709ab41.js";import"./main.cb27cdc7.js";import"./index.19a67800.js";const ee=R({name:"Index",components:{Head:V,PsButton:I,PsTextButton:N,PsBannerIcon:A,PsBreadcrumb2:U,PsDangerDialog:E,PsIcon:L,PsDropdown:q,PsDropdownSelect:Z,Dropdown:G,PsIconButton:J,PsLabel:K,PsLink1:M,PsToggle:Q,PsTable2:W,PsRating:X,DatePicker:Y},layout:H,props:{status:Object,users:Object,roles:Object,customizeHeaders:Object,customizeDetails:Object,hideShowFieldForFilterArr:Object,showCoreAndCustomFieldArr:Object,selectedRole:{type:String,default:""},authUser:Object,uis:Object,sort_field:{type:String,default:""},sort_order:{type:String,default:"desc"},search:String},setup(e){const P=o(!1),D=o(!1);let u=o(!1),g=e.search?o(e.search):o(""),v=e.sort_field?o(e.sort_field):o(""),p=e.sort_order?o(e.sort_order):o("desc"),c=e.selectedRole?o(e.selectedRole):o("");const S=o(),y=[{label:s("core__be_user_name"),field:"name",type:"String"},{label:s("core__be_user_email"),field:"email",type:"String",sort:!1},{label:s("core__be_user_phone"),field:"user_phone",type:"String",sort:!1},{label:s("core__be_role"),field:"role_id@@name",type:"String",sort:!1},{label:s("core__be_view_label"),field:"detail",type:"Action",sort:!1},{label:s("core__be_user_ban_lbl"),field:"is_banned",type:"Integer",sort:!1}];function h(r){this.$inertia.put(route("banned_user.ban",r),{},{onSuccess:()=>{u.value=!0,setTimeout(()=>{u.value=!1},3e3)},onError:()=>{u.value=!0,setTimeout(()=>{u.value=!1},3e3)}})}function f(r){v.value=r.field,p.value=r.sort_order,a()}function w(){c.value="all",a()}function F(r){c.value=r;let m=e.users.meta.current_page;a(m)}function k(r){g.value=r,a(1)}function t(r){a(1,r)}function a(r=null,m=null){B.get(route("banned_user.index"),{sort_field:v.value,sort_order:p.value,page:r!=null?r:e.users.meta.current_page,row:m!=null?m:e.users.meta.per_page,search:g.value,role_filter:c.value},{preserveScroll:!0,preserveState:!0})}function j(r){this.$inertia.get(route("banned_user.edit",r))}return{handleDetail:j,handleBanUser:h,showFilter:P,clearFilter:D,columns:y,colFilterOptions:S,visible:u,handleSorting:f,handleSearchingSorting:a,handleRolefilter:F,handleClearFilter:w,handleRow:t,handleSearching:k,selected_role:c}},methods:{handleEdit(e){this.$inertia.get(route("banned_user.edit",e))},handlePublish(e){this.$inertia.put(route("banned_user.statusChange",e))},FilterOptionshandle(e){B.post(route("banned_user.screenDisplayUiSetting.store"),{value:e,sort_field:this.sort_field,sort_order:this.sort_order,row:this.users.per_page,search:this.search.value,current_page:this.users.current_page},{preserveScroll:!0,preserveState:!0})}},created(){},computed:{breadcrumb(){return[{label:s("core__be_dashboard_label"),url:route("admin.index")},{label:s("banned_user_module"),color:"text-primary-500"}]}}}),te={class:""},re={key:0,class:"flex flex-row mb-2"},oe={key:1},ae={key:2,class:"mb-2"},le={key:3};function se(e,P,D,u,g,v){const p=l("Head"),c=l("ps-breadcrumb-2"),S=l("ps-banner-icon"),y=l("ps-rating"),h=l("ps-toggle"),f=l("ps-button"),w=l("ps-icon"),F=l("ps-table2"),k=l("ps-layout");return n(),_(z,null,[i(p,{title:e.$t("banned_user_module")},null,8,["title"]),i(k,null,{default:b(()=>[T("div",te,[i(c,{items:e.breadcrumb,class:"mb-5 sm:mb-6 lg:mb-8"},null,8,["items"]),e.visible?(n(),O(S,{key:0,visible:e.visible,theme:e.status.flag=="danger"?"bg-red-500":e.status.flag=="warning"?"bg-yellow-500":"bg-green-500",iconName:e.status.flag=="danger"?"close-circle":e.status.flag=="warning"?"alert-triangle":"rightalert",globalSearchPlaceholder:e.$t("core__be_search_user"),class:"text-white mb-5 sm:mb-6 lg:mb-8",iconColor:"white"},{default:b(()=>[C($(e.status.msg),1)]),_:1},8,["visible","theme","iconName","globalSearchPlaceholder"])):d("",!0),i(F,{row:e.row,search:e.search,object:this.users,colFilterOptions:e.colFilterOptions,columns:e.columns,sort_field:e.sort_field,sort_order:e.sort_order,onFilterOptionshandle:e.FilterOptionshandle,onHandleSort:e.handleSorting,onHandleSearch:e.handleSearching,onHandleRow:e.handleRow,searchable:e.showFilter,eye_filter:!1},{tableRow:b(t=>[t.field=="overall_rating"?(n(),_("div",re,[i(y,{grade:t.row.overall_rating,hasCounter:!0},null,8,["grade"]),C(" "+$(t.row.overall_rating),1)])):d("",!0),t.field=="status"?(n(),_("div",oe,[t.row.role_id!=1?(n(),O(h,{key:0,disabled:!t.row.authorizations.update,selectedValue:t.row.status==1,onClick:a=>e.handlePublish(t.row.id),toggleOnTheme:"bg-primary-500 border-primary-500 "},null,8,["disabled","selectedValue","onClick"])):d("",!0),t.row.role_id==1?(n(),O(h,{key:1,disabled:!t.row.authorizations.update,selectedValue:t.row.status==1},null,8,["disabled","selectedValue"])):d("",!0)])):d("",!0),t.field=="is_banned"?(n(),_("span",ae,[i(f,{disabled:!t.row.authorizations.update,onClick:a=>e.handleBanUser(t.row.id),border:"border border-green-500",rounded:"rounded",colors:"bg-white text-green-500",padding:"px-12 py-1",hover:"hover:bg-green-500 hover:text-white",focus:""},{default:b(()=>[C($(e.$t("core__be_unban_lbl")),1)]),_:2},1032,["disabled","onClick"])])):d("",!0),t.field=="detail"?(n(),_("div",le,[i(f,{disabled:!t.row.authorizations.update,onClick:a=>e.handleDetail(t.row.id),rounded:"rounded-lg",class:"me-4",padding:"p-1.5"},{default:b(()=>[i(w,{name:"eye-on",w:"16",h:"16"})]),_:2},1032,["disabled","onClick"])])):d("",!0)]),_:1},8,["row","search","object","colFilterOptions","columns","sort_field","sort_order","onFilterOptionshandle","onHandleSort","onHandleSearch","onHandleRow","searchable"])])]),_:1})],64)}var Qe=x(ee,[["render",se]]);export{Qe as default};
