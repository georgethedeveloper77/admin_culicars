import{i as C,A as x,j as F,o as i,c as l,b as a,E as o,Z as O,w as s,a as m,V as z,f as n,F as k,s as P,n as L,t as u,g as f,q as T}from"./app.2982e019.js";import{b as K}from"./PsApiService.9afc2356.js";import{P as H}from"./ps_constants.0e2a11f9.js";import M from"./PsContentContainer.d9cdaaa2.js";import U from"./PsRouteLink.c57ebe2e.js";import Z from"./PsBreadcrumb2.f58a42a7.js";import N from"./PsIcon.515a10c8.js";import A from"./PsButton.7f6705bd.js";import q from"./PsDropdown.2a6cc373.js";import G from"./PsDropdownSelect.ce61e1c2.js";import W from"./CategoryHorizontalItem.a4e2c7bb.js";import J from"./PsInputWithRightIcon.579b4da1.js";import Q from"./PsNoResult.e589e1e8.js";import{u as X}from"./CategoryStore.eba47e60.js";import{u as Y}from"./TouchCountStore.7fa07f11.js";import{P as tt}from"./PsValueStore.eb9430a0.js";import{T as et}from"./TouchCountParameterHolder.9ce47d98.js";import ot from"./PsFrontendLayout.69775a00.js";import"./plugin-vue_export-helper.21dcd24c.js";import"./PsLabel.c51f2c9d.js";import"./Category.7c65464b.js";import"./DefaultIcon.e76b39a5.js";import"./PsObject.a17ef38f.js";import"./DefaultPhoto.cc755f93.js";import"./PsLazyImage.f8cb46ec.js";import"./PsStore.6f734180.js";import"./PsSepetetedStore.9a31ac47.js";import"./ApiStatus.5720ba0b.js";import"./FooterView.722f89eb.js";import"./FooterLinkSection.2922917e.js";import"./PsLink.7aa92bdc.js";import"./PsLabelCaption.54d4aa23.js";import"./ProductParameterHolder.4354be0b.js";import"./AppInfoStore.f8d22516.js";import"./CustomFieldStore.79b51a65.js";import"./PsNavTabBar.a1e78a20.js";import"./PsIconToggle.e81615f0.js";import"./PsInputWithLeftIcon.f3f18e1b.js";import"./ItemLocationTownshipStore.fe0ada29.js";import"./ItemLocation.d1b92a80.js";import"./LocationParameterHolder.9e411c2e.js";import"./PsUtils.bbfda905.js";import"./AppInfoParameterHolder.e24d894d.js";import"./ThemeStore.40343845.js";import"./LanguageStore.8f1cddd7.js";import"./PsNavBar.15a584b5.js";import"./UserStore.cc6d36cc.js";import"./User.0c3ba1a8.js";import"./RatingDetail.291ad5d1.js";import"./ProductRelation.0b376978.js";import"./UserListParameterHolder.d110b747.js";import"./index.esm.8fcef60c.js";import"./auth.esm.be6b9a90.js";import"./UserUnReadMessageParameterHolder.81a68b74.js";import"./AddToCartStore.71386b4c.js";import"./PsLine.ea3266c0.js";import"./PsNotificationBox.7fffda98.js";import"./index.esm.7ce161a7.js";import"./ProductStore.a3320c3f.js";import"./Phone.45f97258.js";import"./Product.29c94914.js";import"./SubCategory.1b4176e0.js";import"./ItemCurrency.91c8ce91.js";import"./Vendor.d946ee87.js";import"./UserDeleteItemParameterHolder.5d816aba.js";import"./NotificationStore.cd066252.js";import"https://unpkg.com/delayed-scroll-restoration-polyfill@0.1.1/index.js";import"./NotificationStore.af68b63a.js";import"./NotiUnRegisterHolder.eefb692e.js";const rt={class:"sm:mt-32 lg:mt-36 mt-28"},it={class:"flex flex-col items-start sm:flex-row sm:justify-between sm:items-center"},at={class:"flex justify-end"},st={class:"shadow-xs bg-feAchromatic-50 dark:bg-feSecondary-800 w-44",role:"menu","aria-orientation":"vertical","aria-labelledby":"options-menu"},mt=["onClick"],lt={class:"w-full mt-8 mb-8"},nt={key:0,class:"grid grid-cols-4 gap-4 sm:grid-cols-4 md:grid-cols-9 lg:grid-cols-12 xl:gap-6 sm:gap-6"},ct={name:"CategoryListView",layout:ot},Pe=Object.assign(ct,{props:{mobileSetting:Object,categories:Object},setup(B){const y=B,V=C([{label:x("item_list__home"),url:route("dashboard")},{label:x("category_list__title"),color:"text-fePrimary-500"}]);F(()=>{g(!0)});const $=tt(),t=X("fe-category-list"),c=$.getLoginUserId();t.setLimit(y.mobileSetting);async function g(e=!1){e&&await K.checkIsEmpty(y.categories)?t.setCategoryList(y.categories):t.resetCategoryList(c,t.paramHolder)}function _(){t.loadItemList(c,t.paramHolder)}function b(){g()}const j=[{id:"0",orderBy:"name",orderType:H.FILTERING__ASC,name:"A to Z"},{id:"1",orderBy:"name",orderType:H.FILTERING__DESC,name:"Z to A"}];let S=C(""),v=C("");function E(e){S.value=e.id,v.value=e.name,t.paramHolder.orderBy=e.orderBy,t.paramHolder.orderType=e.orderType,g()}const R=Y(),d=new et;function D(e){d.typeName="category",d.typeId=e,d.userId=c,R.postTouchCount(c,d)}return(e,p)=>(i(),l(k,null,[a(o(O),{title:e.$t("category_list__title")},null,8,["title"]),a(M,null,{content:s(()=>{var w,I;return[m("div",rt,[m("div",it,[a(Z,{items:V.value,class:"mb-6 sm:mb-0"},null,8,["items"]),m("div",at,[a(J,{onKeyup:z(b,["enter"]),value:o(t).paramHolder.keyword,"onUpdate:value":p[1]||(p[1]=r=>o(t).paramHolder.keyword=r),class:"w-full sm:w-80",padding:"py-2 px-4 h-10",placeholder:e.$t("category__fe_search")},{icon:s(()=>[o(t).paramHolder.keyword==""?(i(),n(N,{key:0,name:"search",class:"cursor-pointer"})):(i(),n(N,{key:1,onClick:p[0]||(p[0]=r=>[o(t).paramHolder.keyword="",b()]),name:"cross",class:"cursor-pointer"}))]),_:1},8,["onKeyup","value","placeholder"]),a(q,{horizontalAlign:"right",h:"h-auto",class:"ms-4",rounded:"rounded-lg"},{select:s(()=>[a(G,{class:"h-10 w-10 sm:w-auto sm:ps-4 ps-2.5",text:"text-sm font-medium text-feAchromatic-800 dark:text-feAchromatic-100 hidden sm:inline",iconTheme:"text-feAchromatic-800 ms-2 hidden sm:inline",leftIcon:"filter",leftIconTheme:"inline sm:hidden",selectedValue:o(v),placeholder:e.$t("sort_by")},null,8,["selectedValue","placeholder"])]),list:s(()=>[m("div",st,[(i(),l(k,null,P(j,r=>m("div",{key:r.id,class:"flex items-center px-2 py-4 cursor-pointer hover:bg-fePrimary-50 dark:hover:bg-feSecondary-500",onClick:h=>E(r)},[m("span",{class:L(["ms-2 text-feSecondary-800 dark:text-feSecondary-200",r.id==o(S)?"font-semibold":""])},u(e.$t("core__fe_name"))+": "+u(r.name),3)],8,mt)),64))])]),_:1})])]),m("div",lt,[((w=o(t).itemList)==null?void 0:w.data)!=null?(i(),l("div",nt,[(i(!0),l(k,null,P(o(t).itemList.data,r=>{var h;return i(),l("div",{class:"w-full col-span-4 sm:col-span-2 md:col-span-3 lg:col-span-4 xl:col-span-3",key:r.catId},[a(U,{to:{name:(h=e.appInfoStore)!=null&&h.isShowSubCategory()?"fe_sub_category":"fe_item_list",query:{cat_id:r.catId,cat_name:r.catName,status:1}},onClick:dt=>D(r.catId)},{default:s(()=>[a(W,{category:r},null,8,["category"])]),_:2},1032,["to","onClick"])])}),128))])):f("",!0),o(t).loading.value==!1&&((I=o(t).itemList)==null?void 0:I.data)==null?(i(),n(Q,{key:1,onOnClick:_})):f("",!0),o(t).loading.value==!1?(i(),n(A,{key:2,class:L(["mx-auto mt-6 font-medium",o(t).isNoMoreRecord.value?"hidden":""]),onClick:_},{default:s(()=>[T(u(e.$t("category_list__load_more")),1)]),_:1},8,["class"])):f("",!0),o(t).loading.value?(i(),n(A,{key:3,class:"mx-auto mt-8 font-medium",onClick:_,disabled:!0},{default:s(()=>[T(u(e.$t("category_list__loading")),1)]),_:1})):f("",!0)])])]}),_:1})],64))}});export{Pe as default};
