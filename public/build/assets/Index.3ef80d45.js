import{d as te,p as re,Z as ae,i as s,A as u,K as Z,B as U,o as i,c as g,b as a,w as r,f as v,q as c,t as m,g as p,a as h,F as V,s as L,n as q,r as f}from"./app.2982e019.js";import{_ as oe}from"./PsLayout.568c8fbc.js";import{P as le}from"./PsLabel.8e7b338e.js";import{P as se}from"./PsButton.60128369.js";import{P as ie}from"./PsTable2.f1c5d383.js";import{P as ne}from"./PsAlert.f63fac2d.js";import{P as de}from"./PsBreadcrumb2.92714552.js";import{b as ue}from"./PsDangerDialog.7d01f7b5.js";import{P as ce}from"./PsToggle.5b24d11e.js";import{P as me}from"./PsIcon.e7a5adcd.js";import pe from"./PsBannerIcon.d77e89fa.js";import{P as _e}from"./PsIconButton.ea85c74d.js";import{a as fe}from"./PsTextButton.a77542e1.js";import{P as be}from"./PsBadge.05049ff3.js";import{P as ge}from"./PsDropdown.3b1e9581.js";import{P as he}from"./PsDropdownSelect.b154c567.js";import{a as ye,b as ve}from"./psApiService.af14fd5e.js";import{P as we}from"./PsInput.8a03a303.js";import{P as Ce}from"./PsInputWithRightIcon.b34d7fa0.js";import{_ as ke}from"./plugin-vue_export-helper.21dcd24c.js";import"./PsWarningDialog.2baf785b.js";import"./PsModal.62a4a1d3.js";import"./vue-neat-modal.2bf17e6b.js";import"./ThemeStore.40343845.js";import"./LanguageStore.8f1cddd7.js";import"./index.esm.8fcef60c.js";import"./auth.esm.be6b9a90.js";import"./SideMenuStore.ed2aa07c.js";import"./SidebarMenuItem.6b029457.js";import"./PsErrorDialog.ccf1ce18.js";import"./AppInfoStore.6a348fbd.js";import"./NotificationStore.af68b63a.js";import"./index.esm.7ce161a7.js";import"./NotiUnRegisterHolder.eefb692e.js";import"./ps_constants.0e2a11f9.js";import"./PsTableSearch.51ac3161.js";import"./moment.9709ab41.js";import"./PsIcon1.0883f10e.js";import"./Icons.c01eddd9.js";import"./toggle.ae92e5df.js";/* empty css                                                             */const Se=te({name:"Index",components:{Link:re,Head:ae,PsLabel:le,PsButton:se,PsTable2:ie,PsAlert:ne,PsBreadcrumb2:de,PsDangerDialog:ue,PsToggle:ce,PsIcon:me,PsBannerIcon:pe,PsIconButton:_e,PsTextButton:fe,PsBadge:be,PsDropdown:ge,PsDropdownSelect:he,PsInput:we,PsInputWithRightIcon:Ce},layout:oe,props:{can:Object,status:Object,paidItems:Object,hideShowFieldForFilterArr:Object,showCoreAndCustomFieldArr:Object,selectedCategory:{type:String,default:""},selectedSubcategory:{type:String,default:""},selectedPaymentStatus:{type:String,default:""},authUser:Object,uis:Object,sort_field:{type:String,default:""},sort_order:{type:String,default:"desc"},isSubCategoryOn:String,search:String,itmPurchasedOption:String,itmDealOption:String,itmConditionOfItem:String,itmItemType:String},setup(e){const d=s(!1),K=s(!1);let H=e.search?s(e.search):s(""),R=e.sort_field?s(e.sort_field):s(""),z=e.sort_order?s(e.sort_order):s("desc"),C=e.selectedCategory?s(e.selectedCategory.id):s(""),k=e.selectedSubcategory?s(e.selectedSubcategory.id):s(""),O=e.selectedPaymentStatus?s(e.selectedPaymentStatus):s(""),b=s([]),I=s(!1),D=s(),y=s(!1),l=s([]),F=s(!1),S=s();const j=s();let E=[{id:"0",name:u("core__be_waiting_for_approval")},{id:"1",name:u("core__be_approved")},{id:"2",name:u("core__be_rejected")}];const B=s();let A=[];e.isSubCategoryOn=="1"?A=[{label:u("  "),field:"action",type:"Action"},{label:u("core__be_item"),field:"title",type:"String"},{label:u("core__be_category"),field:"category",type:"String"},{label:u("core__be_subcategory"),field:"subcategory",type:"String"},{label:u("core__be_payment_status"),field:"status",type:"String",action:"Action"}]:A=[{label:u("  "),field:"action",type:"Action"},{label:u("core__be_item"),field:"title",type:"String"},{label:u("core__be_category"),field:"category",type:"String"},{label:u("core__be_payment_status"),field:"status",type:"String",action:"Action"}];function N(o){j.value.openModal(u("itemPromotion__delete_offline_paid_itm"),u("itemPromotion__del_offline_paid_itm_info"),u("core__be_btn_confirm"),u("core__be_btn_cancel"),()=>{U.delete(route("offline_paid_item.destroy",o),{onSuccess:()=>{T.value=!0,setTimeout(()=>{T.value=!1},3e3)},onError:()=>{T.value=!0,setTimeout(()=>{T.value=!1},3e3)}})},()=>{})}function t(o){R.value=o.field,z.value=o.sort_order,w()}function P(){C.value="all",k.value="all",O.value="all",w()}function G(o){k.value="all",C.value=o,l.value=[],w(1)}function J(o){k.value=o,w(1)}function Q(o){O.value=o,w(1)}function X(o){H.value=o,w(1)}function Y(o){w(1,o)}function w(o=null,n=null){U.get(route("offline_paid_item.index"),{sort_field:R.value,sort_order:z.value,page:o!=null?o:e.paidItems.meta.current_page,row:n!=null?n:e.paidItems.meta.per_page,search:H.value,category_filter:C.value,sub_category_filter:k.value,payment_status_filter:O.value},{preserveScroll:!0,preserveState:!0})}function M(o){I.value=!0,y.value=!0,ye(o,D.value,e.authUser.id).then(n=>{n.data.length?n.data.forEach($=>{b.value.push($)}):I.value=!1,y.value=!1})}function x(o=null){let n=b.value?b.value.length:0;(n==0||o==!0)&&M(n)}Z(D,_.debounce((o,n)=>{let $=0;b.value=[],M($)},500));function W(o){F.value=!0,y.value=!0,ve(o,S.value,e.authUser.id,C.value).then(n=>{n.data.length?n.data.forEach($=>{l.value.push($)}):F.value=!1,y.value=!1})}function ee(o=null){let n=l.value?l.value.length:0;(n==0||o==!0)&&W(n)}Z(S,_.debounce((o,n)=>{let $=0;l.value=[],W($)},500));let T=s(!1);return{showFilter:d,clearFilter:K,columns:A,confirmDeleteClicked:N,ps_danger_dialog:j,colFilterOptions:B,visible:T,handleSorting:t,handleSearchingSorting:w,handleCategoryfilter:G,handleSubcategoryfilter:J,handlePaymentStatusfilter:Q,handleClearFilter:P,handleRow:Y,handleSearching:X,selected_cat:C,selected_sub_cat:k,selected_payment_status:O,types:E,dropdownClick:x,categories:b,category_loadmore_visible:I,catSearch:D,subCategoryDropdownClick:ee,subCategories:l,subCategory_loadmore_visible:F,subCatSearch:S,is_loading:y}},computed:{breadcrumb(){return[{label:u("core__be_dashboard_label"),url:route("admin.index")},{label:u("offline_paid_item_module"),color:"text-primary-500"}]}},methods:{handleCreate(){this.$inertia.get(route("offline_paid_item.create"))},handleEdit(e){this.$inertia.get(route("offline_paid_item.edit",e))},FilterOptionshandle(e){U.put(route("offline_paid_item.screenDisplayUiSetting.store"),{value:e,sort_field:this.sort_field,sort_order:this.sort_order,row:this.paidItems.per_page,search:this.search.value,current_page:this.paidItems.current_page},{preserveScroll:!0,preserveState:!0})}}}),$e={class:"rounded-md shadow-xs w-56"},Oe={class:"pt-2 z-30"},Fe=["onClick"],Pe={class:"flex flex-row items-center justify-between"},Ie={class:"mt-1 mx-1"},De={class:"rounded-md shadow-xs w-56"},je={class:"pt-2 z-30"},Be=["onClick"],Ae={class:"flex flex-row items-center justify-between"},Te={class:"mt-1 mx-1"},Ve={class:"rounded-md shadow-xs w-56"},He={class:"pt-2 z-30"},Re=["onClick"],ze={key:0,class:"flex flex-row"},Ee={key:0},Ne={key:1},Ue={key:2};function Le(e,d,K,H,R,z){const C=f("Head"),k=f("ps-breadcrumb-2"),O=f("ps-banner-icon"),b=f("ps-icon"),I=f("ps-text-button"),D=f("ps-icon-button"),y=f("ps-dropdown-select"),l=f("ps-label"),F=f("ps-input-with-right-icon"),S=f("ps-dropdown"),j=f("ps-button"),E=f("ps-danger-dialog"),B=f("ps-badge"),A=f("ps-table2"),N=f("ps-layout");return i(),g(V,null,[a(C,{title:e.$t("offline_paid_item_module")},null,8,["title"]),a(N,null,{default:r(()=>[a(k,{items:e.breadcrumb,class:"mb-5 sm:mb-6 lg:mb-8"},null,8,["items"]),e.visible?(i(),v(O,{key:0,visible:e.visible,theme:e.status.flag=="danger"?"bg-red-500":e.status.flag=="warning"?"bg-yellow-500":"bg-green-500",iconName:e.status.flag=="danger"?"close-circle":e.status.flag=="warning"?"alert-triangle":"rightalert",class:"text-white mb-4",iconColor:"white"},{default:r(()=>[c(m(e.status.msg),1)]),_:1},8,["visible","theme","iconName"])):p("",!0),a(A,{row:e.row,search:e.search,object:this.paidItems,colFilterOptions:e.colFilterOptions,columns:e.columns,sort_field:e.sort_field,sort_order:e.sort_order,onFilterOptionshandle:e.FilterOptionshandle,onHandleSort:e.handleSorting,onHandleSearch:e.handleSearching,onHandleRow:e.handleRow,searchable:e.showFilter,globalSearchPlaceholder:e.$t("core__be_search_item"),eye_filter:!1},{searchRight:r(()=>[e.showFilter?(i(),v(I,{key:0,onClick:d[0]||(d[0]=t=>e.handleClearFilter()),class:"flex text-sm items-center text-red-400 dark:text-red-400",padding:"py-1 px-4"},{default:r(()=>[a(b,{theme:"dark:text-red-400",name:"cross",class:"me-3"}),c(" "+m(e.$t("core__be_clear_filter")),1)]),_:1})):p("",!0),a(D,{colors:e.showFilter?"bg-primary-500 text-white dark:text-secondary-800":"",focus:"",padding:"py-1 px-4",hover:"hover:bg-primary-500 hover:text-white",border:e.showFilter?"border border-primary-500":" border border-secondary-200",leftIcon:"filter",onClick:d[1]||(d[1]=t=>e.showFilter=!e.showFilter)},{default:r(()=>[c(m(e.$t("core__be_filter")),1)]),_:1},8,["colors","border"])]),Filter:r(()=>[a(S,{onOnClick:e.dropdownClick,align:"",class:"h-10"},{select:r(()=>[a(y,{placeholder:e.$t("core__be_category"),border:e.selected_cat!==""&&e.selected_cat!=="all"?"border border-indigo-500/100":"border border-1 border-secondary-200",selectedValue:e.selected_cat==""||e.selected_cat=="all"?"":e.selectedCategory.name},null,8,["placeholder","border","selectedValue"])]),list:r(()=>[h("div",$e,[h("div",Oe,[h("div",{class:"w-56 flex py-2 px-2 hover:bg-primary-000 dark:hover:bg-primary-900 cursor-pointer items-center",onClick:d[2]||(d[2]=t=>e.handleCategoryfilter("all"))},[a(l,{class:"text-gray-200 ms-2"},{default:r(()=>[c(m(e.$t("core__be_select_all")),1)]),_:1})]),(i(!0),g(V,null,L(e.categories,t=>(i(),g("div",{key:t.id,class:"w-56 flex py-2 px-2 hover:bg-primary-000 dark:hover:bg-primary-900 cursor-pointer items-center",onClick:P=>e.handleCategoryfilter(t.id)},[a(l,{class:q(["ms-2",t.id==e.selected_cat?" font-bold":""])},{default:r(()=>[c(m(t.name),1)]),_:2},1032,["class"])],8,Fe))),128))])])]),loadmore:r(()=>[e.category_loadmore_visible?(i(),g("div",{key:0,onClick:d[3]||(d[3]=t=>e.dropdownClick(!0)),class:"w-56 flex py-2 px-2 hover:bg-primary-000 dark:hover:bg-primary-900 cursor-pointer items-center"},[h("div",Pe,[a(l,{class:"ms-2"},{default:r(()=>[c(m(e.is_loading?e.$t("core__be_loading"):e.$t("core__be_load_more")),1)]),_:1}),a(b,{theme:"text-black dark:text-primary-900",name:"load",w:"16",h:"16"})])])):p("",!0)]),filter:r(()=>[h("div",Ie,[a(F,{class:"w-full h-10",theme:"bg-gray-100",rounded:"rounded-lg",value:e.catSearch,"onUpdate:value":d[4]||(d[4]=t=>e.catSearch=t),placeholder:e.$t("core__be_search")},{icon:r(()=>[a(b,{name:"search",class:"cursor-pointer"})]),_:1},8,["value","placeholder"])])]),_:1},8,["onOnClick"]),e.$page.props.isSubCategoryOn=="1"?(i(),v(S,{key:0,onOnClick:e.subCategoryDropdownClick,class:"h-10"},{select:r(()=>[a(y,{placeholder:e.$t("core__be_subcategory"),border:e.selected_sub_cat!==""&&e.selected_sub_cat!=="all"?"border border-indigo-500/100":"border border-1 border-secondary-200",selectedValue:e.selected_sub_cat==""||e.selected_sub_cat=="all"?"":e.selectedSubcategory.name},null,8,["placeholder","border","selectedValue"])]),list:r(()=>[h("div",De,[h("div",je,[h("div",{class:"w-56 flex py-2 px-2 hover:bg-primary-000 dark:hover:bg-primary-900 cursor-pointer items-center",onClick:d[5]||(d[5]=t=>e.handleSubcategoryfilter("all"))},[a(l,{class:"text-gray-200 ms-2"},{default:r(()=>[c(m(e.$t("core__be_select_all")),1)]),_:1})]),(i(!0),g(V,null,L(e.subCategories,t=>(i(),g("div",{key:t.id,class:"w-56 flex py-2 px-2 hover:bg-primary-000 dark:hover:bg-primary-900 cursor-pointer items-center",onClick:P=>e.handleSubcategoryfilter(t.id)},[a(l,{class:q(["ms-2",t.id==e.selected_sub_cat?" font-bold":""])},{default:r(()=>[c(m(t.name),1)]),_:2},1032,["class"])],8,Be))),128))])])]),loadmore:r(()=>[e.subCategory_loadmore_visible?(i(),g("div",{key:0,onClick:d[6]||(d[6]=t=>e.subCategoryDropdownClick(!0)),class:"w-56 flex py-2 px-2 hover:bg-primary-000 dark:hover:bg-primary-900 cursor-pointer items-center"},[h("div",Ae,[a(l,{class:"ms-2"},{default:r(()=>[c(m(e.is_loading?e.$t("core__be_loading"):e.$t("core__be_load_more")),1)]),_:1}),a(b,{theme:"text-black dark:text-primary-900",name:"load",w:"16",h:"16"})])])):p("",!0)]),filter:r(()=>[h("div",Te,[a(F,{class:"w-full h-10",theme:"bg-gray-100",rounded:"rounded-lg",value:e.subCatSearch,"onUpdate:value":d[7]||(d[7]=t=>e.subCatSearch=t),placeholder:e.$t("core__be_search")},{icon:r(()=>[a(b,{name:"search",class:"cursor-pointer"})]),_:1},8,["value","placeholder"])])]),_:1},8,["onOnClick"])):p("",!0),a(S,{align:"",class:"h-10"},{select:r(()=>[a(y,{placeholder:e.$t("core__be_payment_status"),border:e.selected_payment_status!==""&&e.selected_payment_status!=="all"?"border border-indigo-500/100":"border border-1 border-secondary-200",selectedValue:e.selected_payment_status==""||e.selected_payment_status=="all"?"":e.types.filter(t=>t.id==e.selected_payment_status)[0].name},null,8,["placeholder","border","selectedValue"])]),list:r(()=>[h("div",Ve,[h("div",He,[h("div",{class:"w-56 flex py-2 px-2 hover:bg-primary-000 dark:hover:bg-primary-900 cursor-pointer items-center",onClick:d[8]||(d[8]=t=>e.handlePaymentStatusfilter("all"))},[a(l,{class:"text-gray-200 ms-2"},{default:r(()=>[c(m(e.$t("core__be_select_all")),1)]),_:1})]),(i(!0),g(V,null,L(e.types,t=>(i(),g("div",{key:t.id,class:"w-56 flex py-2 px-2 hover:bg-primary-000 dark:hover:bg-primary-900 cursor-pointer items-center",onClick:P=>e.handlePaymentStatusfilter(t.id)},[a(l,{class:q(["ms-2",t.id==e.selected_payment_status?" font-bold":""])},{default:r(()=>[c(m(t.name),1)]),_:2},1032,["class"])],8,Re))),128))])])]),_:1})]),tableActionRow:r(t=>[t.field=="action"?(i(),g("div",ze,[a(j,{disabled:!t.row.authorizations.update,onClick:P=>e.handleEdit(t.row.id),class:"me-2",rounded:"rounded-lg",colors:"bg-green-400 text-white",padding:"p-1.5",hover:"hover:outline-none hover:ring hover:ring-green-100",focus:"focus:outline-none focus:ring focus:ring-green-200"},{default:r(()=>[a(b,{theme:"text-white dark:text-primary-900",name:"editPencil",w:"16",h:"16"})]),_:2},1032,["disabled","onClick"]),a(j,{disabled:!t.row.authorizations.delete,onClick:P=>e.confirmDeleteClicked(t.row.id),rounded:"rounded-lg",colors:"bg-red-400 text-white",padding:"p-1.5",hover:"hover:outline-none hover:ring hover:ring-red-100",focus:"focus:outline-none focus:ring focus:ring-red-200"},{default:r(()=>[a(b,{theme:"text-white dark:text-primary-900",name:"trash",w:"16",h:"16"})]),_:2},1032,["disabled","onClick"]),a(E,{ref:"ps_danger_dialog"},null,512)])):p("",!0)]),tableRow:r(t=>[t.field==e.itmPurchasedOption+"@@name"?(i(),g("span",Ee,[t.row[e.itmPurchasedOption+"@@name"]?(i(),v(B,{key:0,class:""},{default:r(()=>[c(m(t.row[e.itmPurchasedOption+"@@name"]),1)]),_:2},1024)):p("",!0)])):p("",!0),t.field==e.itmItemType+"@@name"?(i(),g("span",Ne,[t.row[e.itmItemType+"@@name"]?(i(),v(B,{key:0,theme:"text-red-500 bg-red-100",class:""},{default:r(()=>[c(m(t.row[e.itmItemType+"@@name"]),1)]),_:2},1024)):p("",!0)])):p("",!0),t.field==e.itmConditionOfItem+"@@name"?(i(),g("span",Ue,[t.row[e.itmConditionOfItem+"@@name"]?(i(),v(B,{key:0,theme:"text-red-500 bg-red-100",class:""},{default:r(()=>[c(m(t.row[e.itmConditionOfItem+"@@name"]),1)]),_:2},1024)):p("",!0)])):p("",!0),t.field=="status"&&t.row.status==0?(i(),v(l,{key:3},{default:r(()=>[a(l,{class:"whitespace-nowrap dark:text-white"},{default:r(()=>[a(l,{class:"flex flex-row",textColor:"text-yellow-500"},{default:r(()=>[a(l,{class:"w-2 h-2 my-auto rounded-full me-2",textColor:"bg-yellow-500"}),c(" "+m(e.$t("core__be_waiting_for_approval")),1)]),_:1})]),_:1})]),_:1})):p("",!0),t.field=="status"&&t.row.status==1?(i(),v(l,{key:4},{default:r(()=>[a(l,{class:"whitespace-nowrap dark:text-white"},{default:r(()=>[a(l,{class:"flex flex-row",textColor:"text-green-600"},{default:r(()=>[a(l,{class:"w-2 h-2 my-auto rounded-full me-2",textColor:"bg-green-600"}),c(" "+m(e.$t("core__be_approved")),1)]),_:1})]),_:1})]),_:1})):p("",!0),t.field=="status"&&t.row.status==2?(i(),v(l,{key:5},{default:r(()=>[a(l,{class:"whitespace-nowrap dark:text-white"},{default:r(()=>[a(l,{class:"flex flex-row",textColor:"text-red-500"},{default:r(()=>[a(l,{class:"w-2 h-2 my-auto rounded-full me-2",textColor:"bg-red-500"}),c(" "+m(e.$t("core__be_rejected")),1)]),_:1})]),_:1})]),_:1})):p("",!0)]),_:1},8,["row","search","object","colFilterOptions","columns","sort_field","sort_order","onFilterOptionshandle","onHandleSort","onHandleSearch","onHandleRow","searchable","globalSearchPlaceholder"])]),_:1})],64)}var Dt=ke(Se,[["render",Le]]);export{Dt as default};
