import{aa as rr,y as P,i as B,d as tr,G as er,j as or,o as g,f as M,w as b,a as h,b as y,q as k,t as a,c as A,s as X,F as Y,A as Z,r as v}from"./app.2982e019.js";import sr from"./PsContentContainer.d9cdaaa2.js";import ar from"./PsFrontendLayout.69775a00.js";import ir from"./PsBreadcrumb2.f58a42a7.js";import dr from"./PsLabel.c51f2c9d.js";import nr from"./OrderListNavBar.3db1ff86.js";import mr from"./OrderItem.67afb408.js";import lr from"./PsButton.7f6705bd.js";import ur from"./PsIcon.515a10c8.js";import{m as pr}from"./PsSepetetedStore.9a31ac47.js";import{a as cr,P as D}from"./PsApiService.9afc2356.js";import{A as fr}from"./ApiStatus.5720ba0b.js";import{P as j}from"./PsObject.a17ef38f.js";import{I as $}from"./ItemInfo.399287ec.js";import{P as _r}from"./PsValueStore.eb9430a0.js";import{_ as hr}from"./plugin-vue_export-helper.21dcd24c.js";import"./FooterView.722f89eb.js";import"./FooterLinkSection.2922917e.js";import"./PsLink.7aa92bdc.js";import"./PsRouteLink.c57ebe2e.js";import"./PsLabelCaption.54d4aa23.js";import"./ProductParameterHolder.4354be0b.js";import"./ps_constants.0e2a11f9.js";import"./AppInfoStore.f8d22516.js";import"./DefaultPhoto.cc755f93.js";import"./CustomFieldStore.79b51a65.js";import"./PsStore.6f734180.js";import"./PsNavTabBar.a1e78a20.js";import"./PsDropdown.2a6cc373.js";import"./PsDropdownSelect.ce61e1c2.js";import"./PsIconToggle.e81615f0.js";import"./PsInputWithLeftIcon.f3f18e1b.js";import"./ItemLocationTownshipStore.fe0ada29.js";import"./ItemLocation.d1b92a80.js";import"./LocationParameterHolder.9e411c2e.js";import"./PsUtils.bbfda905.js";import"./AppInfoParameterHolder.e24d894d.js";import"./ThemeStore.40343845.js";import"./LanguageStore.8f1cddd7.js";import"./PsNavBar.15a584b5.js";import"./UserStore.cc6d36cc.js";import"./User.0c3ba1a8.js";import"./RatingDetail.291ad5d1.js";import"./ProductRelation.0b376978.js";import"./UserListParameterHolder.d110b747.js";import"./index.esm.8fcef60c.js";import"./auth.esm.be6b9a90.js";import"./UserUnReadMessageParameterHolder.81a68b74.js";import"./AddToCartStore.71386b4c.js";import"./PsLine.ea3266c0.js";import"./PsNotificationBox.7fffda98.js";import"./index.esm.7ce161a7.js";import"./ProductStore.a3320c3f.js";import"./Phone.45f97258.js";import"./Product.29c94914.js";import"./Category.7c65464b.js";import"./DefaultIcon.e76b39a5.js";import"./SubCategory.1b4176e0.js";import"./ItemCurrency.91c8ce91.js";import"./Vendor.d946ee87.js";import"./UserDeleteItemParameterHolder.5d816aba.js";import"./NotificationStore.cd066252.js";import"https://unpkg.com/delayed-scroll-restoration-polyfill@0.1.1/index.js";import"./NotificationStore.af68b63a.js";import"./NotiUnRegisterHolder.eefb692e.js";class S extends j{constructor(){super(...arguments),this.paymentStatus="",this.paymentStatusColor="",this.orderStatus="",this.orderStatusColor="",this.orderDate="",this.vendorName="",this.itemInfo=[new $]}init(r,t,o,d,l,i,p,c,n,s,m){return this.id=r,this.orderCode=t,this.paymentStatus=o,this.paymentStatusColor=d,this.orderStatus=l,this.orderStatusColor=i,this.orderDate=p,this.vendorName=c,this.itemInfo=n,this.itemCount=s,this.total=m,this}getPrimaryKey(){return""}toMap(r){const t={};return t.id=r.id,t.order_code=r.orderCode,t.payment_status=r.paymentStatus,t.payment_status_color=r.paymentStatusColor,t.order_status=r.orderStatus,t.order_status_color=r.orderStatusColor,t.order_date=r.orderDate,t.vendor_name=r.vendorName,t.item_info=new $().toMapList(r.itemInfo),t.item_count=r.itemCount,t.total=r.total,t}toMapList(r){const t=[];for(let o=0;o<r.length;o++)r[o]!=null&&t.push(this.toMap(r[o]));return t}fromMap(r){return new S().init(r.id,r.order_code,r.payment_status,r.payment_status_color,r.order_status,r.order_status_color,r.order_date,r.vendor_name,new $().fromMapList(r.item_info),r.item_count,r.total)}fromMapList(r){const t=[];for(const o of r)o!=null&&t.push(this.fromMap(o));return t}}class I extends j{constructor(){super(...arguments),this.allOrderCount="",this.pendingOrderCount="",this.approvedOrderCount="",this.deliveringOrderCount="",this.deliveredOrderCount="",this.orderHistory=[new S]}init(r,t,o,d,l,i,p){return this.allOrderCount=r,this.pendingOrderCount=t,this.approvedOrderCount=o,this.deliveringOrderCount=d,this.deliveredOrderCount=l,this.orderHistory=i,this.meta=p,this}getPrimaryKey(){return""}fromMap(r){return console.log(r),new I().init(r.all_order_count,r.pending_order_count,r.approved_order_count,r.delivering_order_count,r.delivered_order_count,new S().fromMapList(r.order_history),r.meta)}toMap(r){const t={};return t.all_order_count=r.allOrderCount,t.pending_order_count=r.pendingOrderCount,t.approved_order_count=r.approvedOrderCount,t.delivering_order_count=r.deliveringOrderCount,t.delivered_order_count=r.deliveredOrderCount,t.order_history=new S().toMapList(r.orderHistory),t.meta=r.meta,t}fromMapList(r){const t=[];for(const o of r)o!=null&&t.push(this.fromMap(o));return t}toMapList(r){const t=[];for(let o=0;o<r.length;o++)r[o]!=null&&t.push(this.toMap(r[o]));return t}}class yr{constructor(){this.orderStatus="",this.orderBy="",this.orderType="",this.page=""}OrderHistoryParameterHolder(){this.orderStatus="",this.orderBy="",this.orderType="",this.page=""}toMap(){const r={};return r.order_status=this.orderStatus,r.order_by=this.orderBy,r.order_type=this.orderType,r.page=this.page,r}}const gr=pr(e=>rr(`orderHistoryStore/${e}`,()=>{const r=P(new cr),t=P(new yr),o=P({value:!1});let d=B(10),l=0;const i=P({value:!1});function p(s){var m,u;r!=null&&r.data!=null&&r.data.length>0&&l!=0?(s.data!=null&&s.data.length>0?(((m=s.data)==null?void 0:m.length)<d.value?i.value=!0:i.value=!1,r.data.push(...s.data)):i.value=!0,r.code=s.code,r.status=s.status,r.message=s.message):(((u=s.data)==null?void 0:u.length)<d.value||s.data==null?i.value=!0:i.value=!1,r.data=s.data,r.code=s.code,r.status=s.status,r.message=s.message),r!=null&&r.data!=null&&(l=r.data.length)}async function c(s,m){o.value=!0;const u=await D.postOrderHistoryList(new I,s,d.value,l,m.toMap());return r.data=u.data,r.code=u.code,r.status=u.status,r.message=u.message,o.value=!1,r}async function n(s,m){o.value=!0;const u=await D.downloadOrderHistory(new fr,s,m);return o.value=!1,u}return{orderHistoryList:r,loading:o,limit:d,offset:l,isNoMoreRecord:i,holder:t,updateOrderHistoryList:p,resetOrderHistoryList:c,downloadOrderHistory:n}})),vr=tr({name:"OrderList",components:{PsContentContainer:sr,PsBreadcrumb2:ir,PsLabel:dr,OrderListNavBarVue:nr,OrderItem:mr,PsButton:lr,PsIcon:ur},layout:ar,setup(){const e=gr(),r=e.holder,o=_r().getLoginUserId(),d=B([]);B();const l=er(()=>[{label:Z("ps_nav_bar__home"),url:route("dashboard")},{label:Z("core_fe__my_orders"),color:"text-fePrimary-500"}]);or(async()=>{c()});function i(n,s){r.orderStatus=n,r.orderBy=s.orderBy,r.orderType=s.type,r.page=1,c()}function p(n){r.page=n,c()}async function c(){var n;await e.resetOrderHistoryList(o,r),d.value=(n=e.orderHistoryList)==null?void 0:n.data}return{breadcrumb:l,orderHistoryStore:e,orderHistoryList:d,getOrderHistory:p,changeOrderStatus:i}}}),br={class:"sm:mt-32 lg:mt-36 mt-28 mb-6"},kr={class:"flex flex-col sm:flex-row mb-6"},Hr={class:"flex flex-row sm:mt-0 mt-6"},Lr={class:"flex flex-col sm:flex-row sm:justify-between sm:items-center mt-5 sm:mt-6 lg:mt-8 gap-4"},Or={class:"font-medium"},Cr={class:"font-medium"},wr={class:"font-medium"},Sr={class:"sm:mt-4 flex justify-center align-middle rtl:space-x-reverse space-x-1"},Pr={class:"flex"};function Mr(e,r,t,o,d,l){const i=v("ps-breadcrumb-2"),p=v("ps-label"),c=v("order-list-nav-bar-vue"),n=v("order-item"),s=v("ps-icon"),m=v("ps-button"),u=v("ps-content-container");return g(),M(u,null,{content:b(()=>{var N,x;return[h("div",br,[h("div",kr,[h("div",Hr,[y(i,{items:e.breadcrumb},null,8,["items"])])]),y(p,{textColor:"text-2xl font-semibold text-feAchromatic-800 dark:text-feAchromatic-50 mb-6"},{default:b(()=>[k(a(e.$t("core_fe__my_orders")),1)]),_:1}),y(c,{orderHistoryList:e.orderHistoryList,onChangeOrderStatus:e.changeOrderStatus},null,8,["orderHistoryList","onChangeOrderStatus"]),(g(!0),A(Y,null,X(e.orderHistoryList.orderHistory,(f,_)=>(g(),A("div",{class:"mt-4",key:_},[y(n,{order:f},null,8,["order"])]))),128)),h("div",Lr,[y(p,{class:"text-secondary-600 text-base font-normal"},{default:b(()=>{var f,_,H,L,O,C,w,V,T,R,F,K,U,q,E,G,z,J,Q,W;return[k(a(e.$t("core__be_table_showing"))+" "+a(" ")+" ",1),h("span",Or,a(((_=(f=e.orderHistoryList)==null?void 0:f.meta)==null?void 0:_.total)>0?(((L=(H=e.orderHistoryList)==null?void 0:H.meta)==null?void 0:L.current_page)-1)*((C=(O=e.orderHistoryList)==null?void 0:O.meta)==null?void 0:C.per_page)+1:0),1),k(" "+a(" ")+" "+a(e.$t("core__be_table_to"))+" "+a(" ")+" ",1),h("span",Cr,a(((V=(w=e.orderHistoryList)==null?void 0:w.meta)==null?void 0:V.current_page)*((R=(T=e.orderHistoryList)==null?void 0:T.meta)==null?void 0:R.per_page)>((K=(F=e.orderHistoryList)==null?void 0:F.meta)==null?void 0:K.total)?(q=(U=e.orderHistoryList)==null?void 0:U.meta)==null?void 0:q.total:((G=(E=e.orderHistoryList)==null?void 0:E.meta)==null?void 0:G.current_page)*((J=(z=e.orderHistoryList)==null?void 0:z.meta)==null?void 0:J.per_page)),1),k(" "+a(" ")+" "+a(e.$t("core__be_table_of"))+" "+a(" ")+" ",1),h("span",wr,a((W=(Q=e.orderHistoryList)==null?void 0:Q.meta)==null?void 0:W.total),1),k(" "+a(" ")+" "+a(e.$t("core__be_table_entries")),1)]}),_:1}),h("div",Sr,[(g(!0),A(Y,null,X((x=(N=e.orderHistoryList)==null?void 0:N.meta)==null?void 0:x.links,(f,_)=>{var H,L;return g(),A("span",{key:_,class:"h-8 rounded bg-white dark:bg-secondaryDark-black"},[h("div",Pr,[_==0?(g(),M(m,{key:0,hover:"",focus:"",onClick:O=>e.getOrderHistory(_),colors:"bg-background dark:text-feAchromatic-50 dark:bg-backgroundDark hover:bg-secondary-100",class:"mt-0.5",padding:"py-2 px-2",border:"border border-feAchromatic-200 dark:border-feAchromatic-700 "},{default:b(()=>[y(s,{class:"block rtl:hidden",name:"doubleArrowLeft",w:"16",h:"16"}),y(s,{class:"hidden rtl:block",name:"doubleArrowRight",w:"16",h:"16"})]),_:2},1032,["onClick"])):_==Object.keys((L=(H=e.orderHistoryList)==null?void 0:H.meta)==null?void 0:L.links).length-1?(g(),M(m,{key:1,onClick:r[0]||(r[0]=O=>{var C,w;return e.getOrderHistory((w=(C=e.orderHistoryList)==null?void 0:C.meta)==null?void 0:w.last_page)}),colors:"bg-background dark:text-feAchromatic-50 dark:bg-backgroundDark hover:bg-secondary-100",class:"mt-0.5",padding:"py-2 px-2",hover:"",focus:"",border:"border border-feAchromatic-200  dark:border-feAchromatic-700"},{default:b(()=>[y(s,{class:"block rtl:hidden",name:"doubleArrowRight",w:"16",h:"16"}),y(s,{class:"hidden rtl:block",name:"doubleArrowLeft",w:"16",h:"16"})]),_:1})):(g(),M(m,{key:2,rounded:"rounded dark:text-feAchromatic-50",onClick:O=>e.getOrderHistory(f.label),border:f.active?"border border-fePrimary-500 rounded":"border border-secondary-200  dark:border-feAchromatic-700 rounded",colors:f.active?"bg-fePrimary-500 dark:bg-fePrimary-500 text-white dark:text-feAchromatic-50":"bg-background dark:bg-backgroundDark hover:bg-secondary-100 dark:hover-bg-fePrimary-600",hover:"",padding:"py-2 px-4"},{default:b(()=>[k(a(f.label),1)]),_:2},1032,["onClick","border","colors"]))])])}),128))])])])]}),_:1})}var Ut=hr(vr,[["render",Mr]]);export{Ut as default};
