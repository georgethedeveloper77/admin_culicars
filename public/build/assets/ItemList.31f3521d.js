import{i as y,j as z,k as K,A as p,o as n,f as a,w as U,a as i,b as o,g as m,c as Q,T as W,r}from"./app.2982e019.js";import J from"./PsContentContainer.d9cdaaa2.js";import X from"./PsLoadingDialog.9b6db1c6.js";import Y from"./PsAdSense.860ae425.js";import Z from"./PsFrontendLayout.69775a00.js";import $ from"./PsBreadcrumb2.f58a42a7.js";import oo from"./ItemFilterCategoryDropdown.491f1eca.js";import to from"./ItemFilterSubCategoryDropdown.b4f53b6f.js";import eo from"./ItemFilterDiscountSection.77dd255d.js";import ro from"./ItemFilterStockSection.58ba04a4.js";import io from"./ItemFilterPriceRangeInput.8c3b502d.js";import no from"./ItemFilterCustomFieldSection.e439d599.js";import ao from"./ItemFilterCityDropdown.da306fb8.js";import mo from"./ItemFilterTownshipDropdown.2cfac068.js";import so from"./ItemFilterPickLocationButton.72ffb4da.js";import lo from"./ItemFilterItemVerticalList.f267a554.js";import po from"./ItemFilterSortAndTypeSection.442fb0f0.js";import co from"./ItemFilterTitle.9b70f62d.js";import _o from"./ItemFilterKeywordInput.f90992eb.js";import uo from"./ItemFilterMobileFilterButton.37547109.js";import fo from"./ItemFilterClearButton.b691dfa1.js";import So from"./PsLabel.c51f2c9d.js";import{u as go}from"./ProductStore.a3320c3f.js";import{P as ho}from"./PsValueStore.eb9430a0.js";import{u as wo}from"./AppInfoStore.f8d22516.js";import{P as w}from"./ps_constants.0e2a11f9.js";import{P as yo}from"./ProductParameterHolder.4354be0b.js";import{A as bo}from"./AppInfoParameterHolder.e24d894d.js";import{P as Po}from"./PsUtils.bbfda905.js";import{_ as vo}from"./plugin-vue_export-helper.21dcd24c.js";import"./PsModal.36ad7f82.js";import"./vue-neat-modal.2bf17e6b.js";import"./PsLine.ea3266c0.js";import"./ThemeStore.40343845.js";import"./LanguageStore.8f1cddd7.js";import"./PsLabelTitle.ddb6fa87.js";import"./PsApiService.9afc2356.js";import"./PsObject.a17ef38f.js";import"./DefaultPhoto.cc755f93.js";import"./FooterView.722f89eb.js";import"./FooterLinkSection.2922917e.js";import"./PsLink.7aa92bdc.js";import"./PsRouteLink.c57ebe2e.js";import"./PsLabelCaption.54d4aa23.js";import"./PsIcon.515a10c8.js";import"./CustomFieldStore.79b51a65.js";import"./PsStore.6f734180.js";import"./PsSepetetedStore.9a31ac47.js";import"./PsNavTabBar.a1e78a20.js";import"./PsDropdown.2a6cc373.js";import"./PsDropdownSelect.ce61e1c2.js";import"./PsIconToggle.e81615f0.js";import"./PsInputWithLeftIcon.f3f18e1b.js";import"./ItemLocationTownshipStore.fe0ada29.js";import"./ItemLocation.d1b92a80.js";import"./LocationParameterHolder.9e411c2e.js";import"./PsNavBar.15a584b5.js";import"./UserStore.cc6d36cc.js";import"./User.0c3ba1a8.js";import"./RatingDetail.291ad5d1.js";import"./ProductRelation.0b376978.js";import"./UserListParameterHolder.d110b747.js";import"./ApiStatus.5720ba0b.js";import"./index.esm.8fcef60c.js";import"./auth.esm.be6b9a90.js";import"./UserUnReadMessageParameterHolder.81a68b74.js";import"./AddToCartStore.71386b4c.js";import"./PsButton.7f6705bd.js";import"./PsNotificationBox.7fffda98.js";import"./index.esm.7ce161a7.js";import"./Phone.45f97258.js";import"./Product.29c94914.js";import"./Category.7c65464b.js";import"./DefaultIcon.e76b39a5.js";import"./SubCategory.1b4176e0.js";import"./ItemCurrency.91c8ce91.js";import"./Vendor.d946ee87.js";import"./UserDeleteItemParameterHolder.5d816aba.js";import"./NotificationStore.cd066252.js";import"https://unpkg.com/delayed-scroll-restoration-polyfill@0.1.1/index.js";import"./NotificationStore.af68b63a.js";import"./NotiUnRegisterHolder.eefb692e.js";import"./CategoryStore.eba47e60.js";import"./SubCategoryStore.210a0c65.js";import"./PsIcon.e7a5adcd.js";import"./Icons.c01eddd9.js";import"./PsRadio.f6d8aed7.js";import"./PsInput.5d0c1579.js";import"./PsErrorDialog.d6a4d7d4.js";import"./CustomizeUiStore.24b926e6.js";import"./PsSecondaryButton.0084a37a.js";import"./MapWithMakersModal.375e4e0e.js";import"./MapWithMakers.8828914f.js";import"./Control.Geocoder.406dd030.js";import"./GoogleMapWithMakers.8cb5ea99.js";import"./index.ca53b1ec.js";import"./PsInputWithRightIcon.579b4da1.js";const Io={name:"ItemListView",components:{PsBreadcrumb2:$,PsContentContainer:J,PsLoadingDialog:X,PsAdSense:Y,CategoryDropDown:oo,SubCategoryDropDown:to,DiscountSection:eo,StockSection:ro,PriceRangeInput:io,CustomFieldSection:no,CityDropdown:ao,TownshipDropdown:mo,PickLocationButton:so,ItemVerticalList:lo,SortAndTypeSection:po,ItemFilterTitle:co,KeywordInput:_o,MobileFilterButton:uo,ClearButton:fo,PsLabel:So},layout:Z,props:["query"],setup(b){const t=go("list"),s=wo(),e=ho(),c=y(),l=y(!0),_=new bo;t.paramHolder.parseParamsAndQuery(b.query),z(async()=>{_.userId=e.getLoginUserId(),await s.loadAppInfo(_),console.log(s==null?void 0:s.isSoldOutFeatureSettingOn()),setTimeout(async()=>{window.popStateDetected?(l.value=!1,window.popStateDetected=!1):(l.value==!0&&t.itemList.data==null&&c.value.closeModal(),(t.paramHolder.orderBy!=w.FILTERING_TRENDING||t.paramHolder.orderType!=w.FILTERING__DESC)&&(t.paramHolder.sortingName=="Recent",t.paramHolder.orderBy==w.FILTERING__ADDED_DATE,t.paramHolder.orderType==w.FILTERING__DESC),await u())},1e3)}),K(()=>{t.paramHolder=new yo().getRecentParameterHolder()});async function u(){c.value.closeModal(),(t.paramHolder.mile=="0"||t.paramHolder.mile.toString()=="")&&(t.paramHolder.lat="",t.paramHolder.lng=""),Po.addParamToCurrentUrl(t.getURLforListByParam(t.paramHolder)),await t.resetProductList(e.getLoginUserId(),t.paramHolder),c.value.closeModal(),l.value=!1,console.log(t.itemList.data.length)}const d=y("downArrow");function f(g,h){d.value="upArrow"}function S(g,h){d.value="downArrow"}return{ps_loading_dialog:c,itemProvider:t,appInfoStore:s,enter:f,leave:S,initial:l}},computed:{breadcrumb(){return this.itemProvider.paramHolder.catName&&this.itemProvider.paramHolder.subCatName?[{label:p("item_detail__home"),url:route("dashboard")},{label:p("category_list__title"),url:route("fe_category.index")},{label:this.itemProvider.paramHolder.catName,url:route("fe_sub_category",{cat_id:this.query.cat_id,cat_name:this.query.cat_name})},{label:this.itemProvider.paramHolder.subCatName,color:"text-fePrimary-500"}]:this.itemProvider.paramHolder.catName?[{label:p("item_detail__home"),url:route("dashboard")},{label:p("category_list__title"),url:route("fe_category.index")},{label:this.itemProvider.paramHolder.catName,color:"text-fePrimary-500"}]:[{label:p("item_detail__home"),url:route("dashboard")},{label:p("fe__search_result"),color:"text-fePrimary-500"}]}}},xo={class:"sm:mt-32 lg:mt-36 mt-28"},ko={class:"flex flex-col sm:flex-row"},Lo={class:"flex flex-row sm:mt-0 mt-6"},No={class:"relative mt-4 sm:mt-10 flex flex-row"},Oo={class:"w-64 me-7 hidden sm:flex flex-col shadow-md dark:bg-feSecondary-800 h-full p-4 rounded-lg"},Ho={class:"w-full"},Do={class:"flex flex-row justify-end"},Fo={class:"flex flex-row"},Co={class:"sm:block hidden"},To={class:"sm:hidden block"},Ao={key:0,class:"flex justify-between sm:hidden flex-col absolute top-10 right-[40px]"},Eo={class:"flex flex-col w-68 p-8 h-auto bg-feAchromatic-50 dark:bg-feSecondary-800 shadow-xl rounded-lg"},Bo={class:"mx-auto"};function Ro(b,t,s,e,c,l){const _=r("ps-breadcrumb-2"),u=r("clear-button"),d=r("category-drop-down"),f=r("discount-section"),S=r("stock-section"),g=r("price-range-input"),h=r("custom-field-section"),P=r("city-dropdown"),v=r("township-dropdown"),I=r("pick-location-button"),x=r("keyword-input"),k=r("sort-and-type-section"),V=r("mobile-filter-button"),G=r("item-vertical-list"),M=r("ps-ad-sense"),q=r("ps-loading-dialog"),j=r("ps-content-container");return n(),a(j,null,{content:U(()=>{var L,N,O,H,D,F,C;return[i("div",xo,[i("div",ko,[i("div",Lo,[o(_,{items:l.breadcrumb},null,8,["items"])])]),i("div",No,[i("div",Oo,[o(u),o(d),(L=e.appInfoStore)!=null&&L.isShowDiscount()?(n(),a(f,{key:0})):m("",!0),o(S,{isSoldOutFeatureSettingOn:(N=e.appInfoStore)==null?void 0:N.isSoldOutFeatureSettingOn()},null,8,["isSoldOutFeatureSettingOn"]),(O=e.appInfoStore)!=null&&O.isNoPriceSettingOn()?m("",!0):(n(),a(g,{key:1})),o(h),o(P),(H=e.appInfoStore)!=null&&H.isShowSubLocation()?(n(),a(v,{key:2})):m("",!0),(D=e.appInfoStore)!=null&&D.isFilterLocationOn()?(n(),a(I,{key:3})):m("",!0)]),i("div",Ho,[i("div",Do,[i("div",Fo,[o(x,{class:"sm:block hidden mx-3"}),i("div",Co,[o(k,{isNoPriceSettingOn:(F=e.appInfoStore)==null?void 0:F.isNoPriceSettingOn()},null,8,["isNoPriceSettingOn"])]),o(V)])]),o(x,{class:"sm:hidden mb-4 mt-3 sm:mb-0"}),i("div",To,[o(k,{isNoPriceSettingOn:(C=e.appInfoStore)==null?void 0:C.isNoPriceSettingOn()},null,8,["isNoPriceSettingOn"])]),o(G,{initial:e.initial},null,8,["initial"])]),e.itemProvider.showPopUpFilter?(n(),Q("div",Ao,[o(W,{onEnter:e.enter,onLeave:e.leave},{default:U(()=>{var T,A,E,B,R;return[i("div",Eo,[o(u),o(d,{class:"mb-12"}),(T=e.appInfoStore)!=null&&T.isShowDiscount()?(n(),a(f,{key:0})):m("",!0),o(S,{isSoldOutFeatureSettingOn:(A=e.appInfoStore)==null?void 0:A.isSoldOutFeatureSettingOn(),spaceWrap:!1},null,8,["isSoldOutFeatureSettingOn"]),(E=e.appInfoStore)!=null&&E.isNoPriceSettingOn()?m("",!0):(n(),a(g,{key:1})),o(h),o(P),(B=e.appInfoStore)!=null&&B.isShowSubLocation()?(n(),a(v,{key:2})):m("",!0),(R=e.appInfoStore)!=null&&R.isFilterLocationOn()?(n(),a(I,{key:3})):m("",!0)])]}),_:1},8,["onEnter","onLeave"])])):m("",!0)])]),i("div",Bo,[o(M,{adFormat:"horizontal"})]),o(q,{ref:"ps_loading_dialog",class:"z-40"},null,512)]}),_:1})}var Ne=vo(Io,[["render",Ro],["__scopeId","data-v-ee82a632"]]);export{Ne as default};
