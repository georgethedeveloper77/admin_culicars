import{P as z}from"./PsButton.60128369.js";import{P as S}from"./PsLabel.8e7b338e.js";import{P as U}from"./PsLabelTitle3.1fa34872.js";import{P as B}from"./PsIcon.e7a5adcd.js";import{P as D}from"./PsIcon1.0883f10e.js";import{P as F}from"./PsDraggable.80100e15.js";import{_ as N}from"./plugin-vue_export-helper.21dcd24c.js";import{y as j,K as V,i as v,o as l,c as P,f as b,w as n,b as r,q as f,t as i,a as d,n as L,g as C,m as E,r as c,z as R}from"./app.2982e019.js";const T={name:"PsImageUpload",props:{imageFile:{type:Object},disabled:{type:Boolean,default:!1},imagePath:{type:String,default:null}},components:{PsButton:z,PsLabel:S,PsLabelTitle3:U,PsIcon:B,PsDraggable:F,PsIcon1:D},setup(o,{emit:t}){const a=j({data:[]});V(()=>o.imagePath,()=>{a.data=""});const e=v();let u;function I(){e.value.click()}function y(){return a.data[0]}let m=v(),g=v();function h(k){const _=k.target.files;console.log(_),a.data=[];for(let p=0;p<_.length;p++){const s=new FileReader;s.onload=w=>{a.data.push(w.target&&w.target.result?w.target.result.toString():"")},s.readAsDataURL(_[p]),u=_[p],m.value=u.name,g.value=u.size*(1/8)*(1/1e3),t("update:imageFile",u)}}function x(){a.data=[]}return{imageClick:I,image:e,onImageSelected:h,previewImage:a,getImageUrl:y,imageName:m,imageSize:g,cancel:x}}},q={class:"w-full"},A={key:1,class:"flex flex-row items-center h-16 bg-primary-50 dark:bg-indigo-900 dark:rounded-b-lg"},K={class:"w-20"},O=["src"],G={class:"flex justify-between w-full mx-4"},H={class:"mt-2 flex-rows"},J={key:2,class:"flex items-end pt-4"},M={width:"400",height:"200",class:"h-48 w-auto",alt:"blog cover"};function Q(o,t,a,e,u,I){const y=c("ps-icon"),m=c("ps-label"),g=c("ps-button"),h=c("ps-draggable"),x=c("ps-label-title-3"),k=c("ps-icon-1"),_=c("ps-image-icon-modal"),p=R("lazy");return l(),P("div",q,[e.previewImage.data!=""||a.imagePath==null?(l(),b(h,{key:0,disabled:a.disabled,class:L(["mt-4 px-2.5 h-52 rounded-lg",e.previewImage.data[0]?"border-b-0":""])},{default:n(()=>[r(y,{name:"small-cloud",theme:a.disabled?"text-secondary-300 dark:text-secondary-700":"text-secondary-500"},null,8,["theme"]),e.previewImage.data!=""?(l(),b(m,{key:0,textColor:a.disabled?"text-secondary-300 dark:text-secondary-700 mb-2":"text-secondary-500  mb-2"},{default:n(()=>[f(i(e.previewImage.data.length)+" "+i(o.$t("ps_image_upload_file_is_chosen_text")),1)]),_:1},8,["textColor"])):(l(),b(m,{key:1,textColor:a.disabled?"text-secondary-300 dark:text-secondary-700 mb-2":"text-secondary-500  mb-2"},{default:n(()=>[f(i(o.$t("ps_image_upload_no_file_is_chosen_text")),1)]),_:1},8,["textColor"])),d("input",{type:"file",accept:"image/*",ref:"image",style:{display:"none"},onChange:t[0]||(t[0]=s=>e.onImageSelected(s))},null,544),a.disabled==!1?(l(),b(g,{key:2,type:"button",onClick:t[1]||(t[1]=s=>e.imageClick()),class:"px-2 py-1 mt-2 w-26",rounded:"rounded"},{default:n(()=>[f(i(o.$t("ps_image_upload__choose_files")),1)]),_:1})):(l(),b(g,{key:3,type:"button",disabled:!0,colors:"bg-secondary-600 text-white",class:"px-2 py-1 mt-2 w-26",rounded:"rounded"},{default:n(()=>[f(i(o.$t("ps_image_upload__choose_files")),1)]),_:1}))]),_:1},8,["disabled","class"])):C("",!0),e.previewImage.data!=""?(l(),P("div",A,[d("div",K,[d("img",{alt:"Placeholder",class:"flex items-center justify-center object-cover w-32 h-16 bg-transparent dark:rounded",width:"68px",height:"62px",src:e.getImageUrl()},null,8,O)]),d("div",G,[d("p",H,[r(m,{class:"font-bold"},{default:n(()=>[f(i(e.imageName),1)]),_:1}),r(x,{class:"dark:text-gray-500"},{default:n(()=>[f(i(o.$t("ps_image_upload__image_size"))+" "+i(e.imageSize),1)]),_:1})]),r(k,{onClick:t[2]||(t[2]=s=>e.cancel()),w:"16",h:"16",name:"cross",theme:"#EF4444"})])])):a.imagePath!=null?(l(),P("div",J,[E(d("img",M,null,512),[[p,{src:a.imagePath,loading:o.$page.props.sysImageUrl+"/loading_gif.gif",error:o.$page.props.sysImageUrl+"/default_photo.png"}]]),d("input",{type:"file",accept:"image/*",ref:"image",style:{display:"none"},onChange:t[3]||(t[3]=s=>e.onImageSelected(s))},null,544),r(g,{type:"button",onClick:t[4]||(t[4]=s=>e.imageClick()),rounded:"rounded-full",shadow:"drop-shadow-2xl",class:"mb-2 -ms-10",colors:"bg-white text-primary-500 dark:bg-secondaryDark-black",border:"border border-1 dark:border-secondary-700 border-secondary-300",padding:"p-1.5"},{default:n(()=>[r(y,{name:"pencil-btn"})]),_:1}),r(_,{ref:"ps_image_icon_modal"},null,512)])):C("",!0)])}var oe=N(T,[["render",Q]]);export{oe as P};
