import{p as L,i as b,k as V,j as I,o as n,c as a,b as c,w as u,a as l,n as s,m as x,q as S,t as p,F as w,s as y,f as F,g as U,B as P,r as f,z as j}from"./app.2982e019.js";import{S as O,a as B}from"./SidebarMenuItem.6b029457.js";import{P as z}from"./PsLabel.8e7b338e.js";import{P as N}from"./PsIcon.e7a5adcd.js";import{P as T}from"./PsInputWithRightIcon.b34d7fa0.js";import{P as E}from"./PsDropdown.3b1e9581.js";import{u as q}from"./SideMenuStore.ed2aa07c.js";import{_ as G}from"./plugin-vue_export-helper.21dcd24c.js";import"./PsErrorDialog.ccf1ce18.js";import"./PsModal.62a4a1d3.js";import"./vue-neat-modal.2bf17e6b.js";import"./ThemeStore.40343845.js";import"./LanguageStore.8f1cddd7.js";import"./PsButton.60128369.js";import"./Icons.c01eddd9.js";const R={components:{Link:L,SidebarMenuItem:O,SideBarTab:B,PsLabel:z,PsIcon:N,PsInputWithRightIcon:T,PsDropdown:E},setup(){const o=b(""),t=q(),M=b("0");function e(g){t.setSideMenuOpenFlag(g)}function v(g){t.setFullSideMenuFlag(g)}const _=b(null);function m(){localStorage.sidebarScroll=_.value.scrollTop}V(()=>{}),I(()=>{_.value.addEventListener("scroll",m),localStorage.sidebarScroll!=null&&setTimeout(()=>{_.value.scrollTo(0,parseInt(localStorage.sidebarScroll))},1e3)});function h(g){P.put(route("vendor.changeVendor",g))}return{searchterm:o,handleSidebarFull:v,dropDownOpen:M,handleSidebarNavOpen:e,sidebarMenuC:_,clickVendor:h,sideMenuStore:t}}},W=["src"],A={class:"flex flex-row items-center justify-center flex-grow"},H={class:"z-30 pt-2"},J=["onClick"],K={class:"grid grid-cols-1 divide-y-4"},Q={class:""},X={key:0},Y={key:1},Z={key:2},$={key:3},ee={class:"flex items-center justify-center py-2 my-2"};function re(o,t,M,e,v,_){const m=f("ps-label"),h=f("ps-icon"),g=f("ps-dropdown"),C=f("ps-input-with-right-icon"),D=f("sidebar-menu-item"),k=j("lazy");return n(),a("div",{ref:"sidebarMenuC",class:s(["fixed h-screen p-4 overflow-x-hidden overflow-y-scroll transition-all bg-primary-50 dark:border-gray-600 dark:bg-secondary-900 text-secondary-800 dark:text-secondary-100 duration-30 xl:relative scroll-smooth",{"w-76":e.sideMenuStore.isFullSideMenu,"w-76 xl:w-20":!e.sideMenuStore.isFullSideMenu,"top-0 start-0":e.sideMenuStore.isSideMenuOpen,"top-0 -left-76 xl:left-0":!e.sideMenuStore.isSideMenuOpen}])},[c(g,{h:"h-auto",align:"left",class:"w-full mt-1 lg:mt-2"},{select:u(()=>{var r,i;return[l("div",{class:s(["flex flex-row justify-center mt-4 cursor-pointer ms-1 xl:ms-0",e.sideMenuStore.isFullSideMenu?"ps-2 pe-2":""])},[((r=o.$page.props.currentVendor)==null?void 0:r.logo)!=null?(n(),a("div",{key:0,class:s(["rounded-lg pe-1",e.sideMenuStore.isFullSideMenu?"h-12 w-12":"w-8 h-8"])},[x(l("img",{class:s(["object-contain rounded-lg",e.sideMenuStore.isFullSideMenu?"h-12 w-12":"w-8 h-8"])},null,2),[[k,{src:o.$page.props.uploadUrl+"/"+((i=o.$page.props.currentVendor)==null?void 0:i.logo.img_path),loading:o.$page.props.sysImageUrl+"/default_vendor_shop.png",error:o.$page.props.sysImageUrl+"/default_vendor_shop.png"}]])],2)):(n(),a("div",{key:1,class:s(["rounded-lg pe-1",e.sideMenuStore.isFullSideMenu?"h-12 w-12":"w-8 h-8"])},[l("img",{src:o.$page.props.sysImageUrl+"/default_vendor_shop.png",class:s(["object-contain rounded-lg",e.sideMenuStore.isFullSideMenu?"h-12 w-12":"w-8 h-8"])},null,10,W)],2))],2),l("div",{class:s(["flex flex-row mt-4 font-semibold cursor-pointer",e.sideMenuStore.isFullSideMenu?"":"xl:hidden"])},[l("div",A,[c(m,{class:"text-base font-semibold truncate w-52"},{default:u(()=>{var d;return[S(p((d=o.$page.props.currentVendor)==null?void 0:d.name),1)]}),_:1})]),c(h,{name:"downChervon"})],2)]}),list:u(()=>[l("div",{class:s(["rounded-md shadow-xs",e.sideMenuStore.isFullSideMenu?"w-64":"xl:w-10 w-64"])},[l("div",H,[(n(!0),a(w,null,y(o.$page.props.vendorList,r=>{var i,d;return n(),a("div",{key:r.id,class:"flex flex-row items-center w-full px-2 py-4 cursor-pointer hover:bg-primary-000 dark:hover:bg-secondary-700",onClick:oe=>e.clickVendor(r.id)},[x(l("img",{class:s([e.sideMenuStore.isFullSideMenu?"mx-2":"xl:mx-0.5 mx-2","object-contain w-8 h-8 rounded-lg"])},null,2),[[k,{src:o.$page.props.uploadUrl+"/"+((i=r==null?void 0:r.logo)==null?void 0:i.img_path),loading:o.$page.props.sysImageUrl+"/default_vendor_shop.png",error:o.$page.props.sysImageUrl+"/default_vendor_shop.png"}]]),l("div",{class:s(e.sideMenuStore.isFullSideMenu?"":"xl:hidden")},[c(m,{class:s(["w-48 truncate",r.id==((d=o.$page.props.currentVendor)==null?void 0:d.id)?" font-semibold":""])},{default:u(()=>[S(p(r.name),1)]),_:2},1032,["class"])],2)],8,J)}),128))])],2)]),_:1}),l("div",{class:s(["mt-5 mb-5",e.sideMenuStore.isFullSideMenu?"flex":"flex xl:hidden"])},[c(C,{value:e.searchterm,"onUpdate:value":t[0]||(t[0]=r=>e.searchterm=r),theme:"bg-white dark:bg-secondaryDark-black border-none rounded-lg placeholder-secondary-800 dark:placeholder-secondary-200",class:"flex w-full rounded-full",placeholder:o.$t("core__be_search")},{icon:u(()=>[c(h,{name:"search",class:"cursor-pointer",theme:"text-secondary-800 dark:text-secondary-200"})]),_:1},8,["value","placeholder"])],2),l("div",{class:s(["flex items-center w-full p-1 mt-6 mb-8 rounded-lg text-secondary-800 bg-primary-50 hover:bg-primary-200 dark:hover:bg-secondary-700 dark:text-secondary-300 dark:bg-secondary-900",e.sideMenuStore.isFullSideMenu?"hidden":"hidden xl:flex"]),onClick:t[1]||(t[1]=(...r)=>e.handleSidebarFull&&e.handleSidebarFull(...r))},[c(h,{name:"search",class:"cursor-pointer",w:"20",h:"20"})],2),l("div",K,[l("div",Q,[(n(!0),a(w,null,y(o.$page.props.vendorMenuGroups,r=>(n(),a("div",{key:r.id},[r.sub_menu_group.length!=0&&e.searchterm==null&&r.is_invisible_group_name!=1?(n(),F(m,{key:0,class:s([{flex:e.sideMenuStore.isFullSideMenu,hidden:!e.sideMenuStore.isFullSideMenu},"mt-4 mb-2"])},{default:u(()=>[S(p(o.$t(r.group_lang_key)),1)]),_:2},1032,["class"])):r.sub_menu_group.length!=0&&r.is_invisible_group_name!=1?(n(),F(m,{key:1,class:s([{flex:e.sideMenuStore.isFullSideMenu,hidden:!e.sideMenuStore.isFullSideMenu},"mt-4 mb-2"])},{default:u(()=>[o.$t(r.group_lang_key).toLowerCase().trim().includes(e.searchterm.toLowerCase().trim())?(n(),a("span",X,p(o.$t(r.group_lang_key)),1)):r.sub_menu_group.filter(i=>o.$t(i.sub_menu_lang_key).toLowerCase().trim().includes(e.searchterm.toLowerCase().trim())).length>0?(n(),a("span",Y,p(o.$t(r.group_lang_key)),1)):r.sub_menu_group.filter(i=>i.is_dropdown==1&&i.module.filter(d=>o.$t(d.module_lang_key).toLowerCase().trim().includes(e.searchterm.toLowerCase().trim())).length>0).length>0?(n(),a("span",Z,p(o.$t(r.group_lang_key)),1)):(n(),a("span",$))]),_:2},1032,["class"])):U("",!0),(n(!0),a(w,null,y(r.sub_menu_group,i=>(n(),a("div",{key:i.id,class:"mt-2"},[c(D,{dropDown:e.dropDownOpen,"onUpdate:dropDown":t[2]||(t[2]=d=>e.dropDownOpen=d),group:i,searchterm:e.searchterm},null,8,["dropDown","group","searchterm"])]))),128))]))),128))]),l("div",ee,[c(m,{class:s(["text-xs font-regular",e.sideMenuStore.isFullSideMenu?"ms-1 mt-1":"xl:hidden"]),textColor:"text-gray-500"},{default:u(()=>[S(p(o.$t("core__be_version"))+" "+p(o.$page.props.backendSetting.backend_version_no),1)]),_:1},8,["class"])])])],2)}var Se=G(R,[["render",re]]);export{Se as default};
