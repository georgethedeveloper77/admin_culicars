import{A as b,H as v}from"./index.ca53b1ec.js";import h from"./PsModal.36ad7f82.js";import C from"./PsLabelTitle.ddb6fa87.js";import $ from"./PsButton.7f6705bd.js";import{u as w}from"./AppInfoStore.f8d22516.js";import{A as I}from"./AppInfoParameterHolder.e24d894d.js";import{P as S}from"./PsValueStore.eb9430a0.js";import{P as k}from"./PsUtils.bbfda905.js";import{_ as V}from"./plugin-vue_export-helper.21dcd24c.js";import{d as z,i as l,o as A,f as B,w as e,b as m,q as M,t as P,a as D,r as n}from"./app.2982e019.js";import"./vue-neat-modal.2bf17e6b.js";import"./PsLine.ea3266c0.js";import"./ThemeStore.40343845.js";import"./LanguageStore.8f1cddd7.js";import"./PsLabel.c51f2c9d.js";import"./PsApiService.9afc2356.js";import"./PsObject.a17ef38f.js";import"./DefaultPhoto.cc755f93.js";import"./ps_constants.0e2a11f9.js";const L=z({name:"MapWithPinModal",components:{PsModal:h,GoogleMap:b,Marker:v,PsLabelTitle:C,PsButton:$},setup(){const o=l(),r=l(),a=l({position:{lat:40.876945,lng:77.387978},draggable:!1}),_=S().getLoginUserId(),s=w(),d=new I;d.userId=_;const p=l({key:"000",center:a.value.position,zoom:15});async function f(){var t,i,g;p.value.key=(g=(i=(t=s==null?void 0:s.appInfo)==null?void 0:t.data)==null?void 0:i.frontendConfigSetting)==null?void 0:g.mapKey}f();function c(t){k.log(t.latLng.lat()),k.log(t.latLng.lng())}function u(t,i){a.value.position.lat=t,a.value.position.lng=i,o.value.toggle(!0)}return{psmodal:o,updateCoordinates:c,mcenter:a,map:p,openModal:u,map_ref:r}}}),G={class:"flex justify-end"};function H(o,r,a,y,_,s){const d=n("ps-label-title"),p=n("Marker"),f=n("GoogleMap"),c=n("ps-button"),u=n("ps-modal");return A(),B(u,{ref:"psmodal",isClickOut:!1},{title:e(()=>[m(d,null,{default:e(()=>[M(P(o.$t("map_with_pin_moadl__item_location")),1)]),_:1})]),body:e(()=>[m(f,{id:"map",ref:"map_ref","api-key":o.map.key,center:o.map.center,zoom:o.map.zoom,style:{width:"100%",height:"500px"}},{default:e(()=>[m(p,{options:o.mcenter,draggable:"false",onDrag:o.updateCoordinates},null,8,["options","onDrag"])]),_:1},8,["api-key","center","zoom"])]),footer:e(()=>[D("div",G,[m(c,{onClick:r[0]||(r[0]=t=>o.psmodal.toggle(!1))},{default:e(()=>[M(P(o.$t("map_with_pin_moadl__ok")),1)]),_:1})])]),_:1},512)}var eo=V(L,[["render",H]]);export{eo as default};
