import{i as x,j as I,o as e,c as l,b as c,w as m,q as p,t as f,a as d,F as b,s as P,f as h,g as v,n as H,h as F,r as w}from"./app.2982e019.js";import N from"./PsLabel.c51f2c9d.js";import U from"./PsDropdownSelect.ce61e1c2.js";import M from"./PsLabelCaption.54d4aa23.js";import B from"./PsLoadingDialog.9b6db1c6.js";import{u as O}from"./AppInfoStore.f8d22516.js";import{P as V}from"./PsValueStore.eb9430a0.js";import{u as j}from"./CategoryStore.eba47e60.js";import{u as z}from"./SubCategoryStore.210a0c65.js";import{u as R}from"./ProductStore.a3320c3f.js";import{P as L}from"./PsUtils.bbfda905.js";import{P as T}from"./PsIcon.e7a5adcd.js";import{_ as E}from"./plugin-vue_export-helper.21dcd24c.js";import"./PsIcon.515a10c8.js";import"./PsModal.36ad7f82.js";import"./vue-neat-modal.2bf17e6b.js";import"./PsLine.ea3266c0.js";import"./ThemeStore.40343845.js";import"./LanguageStore.8f1cddd7.js";import"./PsLabelTitle.ddb6fa87.js";import"./PsApiService.9afc2356.js";import"./PsObject.a17ef38f.js";import"./DefaultPhoto.cc755f93.js";import"./ps_constants.0e2a11f9.js";import"./Category.7c65464b.js";import"./DefaultIcon.e76b39a5.js";import"./PsStore.6f734180.js";import"./PsSepetetedStore.9a31ac47.js";import"./SubCategory.1b4176e0.js";import"./ProductParameterHolder.4354be0b.js";import"./Phone.45f97258.js";import"./Product.29c94914.js";import"./ItemCurrency.91c8ce91.js";import"./ItemLocation.d1b92a80.js";import"./ProductRelation.0b376978.js";import"./User.0c3ba1a8.js";import"./RatingDetail.291ad5d1.js";import"./Vendor.d946ee87.js";import"./ApiStatus.5720ba0b.js";import"./UserDeleteItemParameterHolder.5d816aba.js";import"./Icons.c01eddd9.js";const q={name:"ItemFilterCategoryDropdown",components:{PsLabel:N,PsDropdownSelect:U,PsLabelCaption:M,PsLoadingDialog:B,PsIcon:T},setup(){const n=O(),g=V(),y=j("cat"),o=z(),t=R("list"),_=x(),i=x({});function u(){y.loadItemList(g.getLoginUserId(),y.paramHolder)}I(()=>{u(),t.paramHolder.catId!==null&&C(t.paramHolder.catId)});async function C(a){await o.resetSubCategoryList(a),n!=null&&n.isShowSubCategory()&&k(a)}function k(a){i.value={...Object.fromEntries(Object.entries(i.value).map(([S,io])=>[S,!1])),[a]:!i.value[a]}}async function r(a){console.log("hello there"),console.log(a),t.paramHolder.subCatId=a.id,t.paramHolder.subCatName=a.name,_.value.closeModal(),L.addParamToCurrentUrl(t.getURLforListByParam(t.paramHolder)),await t.resetProductList(g.getLoginUserId(),t.paramHolder),_.value.closeModal(),t.showPopUpFilter=!1,console.log(t.itemList.data)}async function s(a,S){t.paramHolder.catId=a.catId,t.paramHolder.catName=a.catName,t.paramHolder.subCatId="",t.paramHolder.subCatName="",L.addParamToCurrentUrl(t.getURLforListByParam(t.paramHolder)),_.value.closeModal(),await t.resetProductList(g.getLoginUserId(),t.paramHolder),o.resetSubCategoryList(a.catId),_.value.closeModal(),t.showPopUpFilter=S}return{categoryStore:y,itemProvider:t,loadCategory:u,categoryFilterClicked:s,ps_loading_dialog:_,loadSubCategory:C,subCategoryStore:o,subCategoryFilterClicked:r,isDropdownOpen:i,clickDropDown:k}}},A={class:"rounded-md shadow-xs w-56"},D={class:"pt-2 z-30 w-full"},G={key:0},J={key:1},K={class:"relative text-left text-sm"},Q={class:"w-full bg-transparent"},W={class:"flex flex-row justify-between items-center overflow-hidden"},X={key:0,class:"w-full overflow-hidden"},Y={class:"z-30"},Z={key:0},$={key:1},oo={class:"mt-2 px-2"},to=["onClick"],eo={class:"mb-2 w-56"},ro={key:0,class:"mt-4 ms-4 flex"};function ao(n,g,y,o,t,_){const i=w("ps-label"),u=w("ps-icon"),C=w("ps-label-caption"),k=w("ps-loading-dialog");return e(),l(b,null,[c(i,{class:"mt-6 lg:text-base font-medium text-sm",textColor:"text-feSecondary-800 dark:text-feSecondary-300"},{default:m(()=>[p(f(n.$t("category_list__title")),1)]),_:1}),d("div",A,[d("div",D,[o.categoryStore.itemList.data==null?(e(),l("div",G,[c(i,{class:"p-2 flex",onClick:o.loadCategory},{default:m(()=>[p(f(n.$t("list__loading")),1)]),_:1},8,["onClick"])])):(e(),l("div",J,[(e(!0),l(b,null,P(o.categoryStore.itemList.data,r=>(e(),l("div",{key:r.catId,class:"py-2 px-1"},[d("div",K,[d("button",Q,[d("div",W,[c(i,{onClick:s=>o.categoryFilterClicked(r,!1)},{default:m(()=>[p(f(r.catName),1)]),_:2},1032,["onClick"]),o.isDropdownOpen[r.catId]?v("",!0):(e(),h(u,{key:0,name:"rightChervon",w:"20",h:"20",onClick:s=>(o.loadSubCategory(r.catId),o.categoryFilterClicked(r,!0)),class:"ltr:mr-3 rtl:ml-3 ltr:block hidden text-feSecondary-500 dark:text-feSecondary-100"},null,8,["onClick"])),o.isDropdownOpen[r.catId]?(e(),h(u,{key:2,name:"downChervon",w:"20",h:"20",onClick:s=>(o.loadSubCategory(r.catId),o.categoryFilterClicked(r,!0)),class:"ltr:mr-3 rtl:ml-3 text-feSecondary-500 dark:text-feSecondary-100"},null,8,["onClick"])):(e(),h(u,{key:1,name:"leftChervon",w:"20",h:"20",onClick:s=>(o.loadSubCategory(r.catId),o.categoryFilterClicked(r,!0)),class:"ltr:mr-3 rtl:ml-3 rtl:block hidden text-feSecondary-500 dark:text-feSecondary-100"},null,8,["onClick"]))])])]),o.isDropdownOpen[r.catId]?(e(),l("div",X,[d("div",Y,[o.subCategoryStore.subCategoryList.data==null?(e(),l("div",Z,[c(i,{class:"p-2 flex"},{default:m(()=>[p(f(n.$t("list__loading")),1)]),_:1})])):(e(),l("div",$,[d("div",oo,[(e(!0),l(b,null,P(o.subCategoryStore.subCategoryList.data,s=>(e(),l("div",{key:s.id,class:"w-full flex py-3 cursor-pointer",onClick:a=>o.subCategoryFilterClicked(s)},[c(i,{class:"text-sm font-medium text-ellipsis overflow-hidden",textColor:s.id===o.itemProvider.paramHolder.subCatId?"text-fePrimary-500":""},{default:m(()=>[p(f(s.name),1)]),_:2},1032,["textColor"])],8,to))),128))])]))])])):v("",!0)]))),128)),d("div",eo,[o.categoryStore.itemList.data!=null&&o.categoryStore.loading.value==!0?(e(),l("div",ro,[c(C,null,{default:m(()=>[p(f(n.$t("list__loading")),1)]),_:1})])):v("",!0),o.categoryStore.loading.value==!1?(e(),h(i,{key:1,class:H([o.categoryStore.isNoMoreRecord.value?"hidden":"","flex py-2 text-sm cursor-pointer"]),textColor:"text-fePrimary-500",onClick:F(o.loadCategory,["stop"])},{default:m(()=>[p(f(n.$t("filter_search_view_more")),1)]),_:1},8,["class","onClick"])):v("",!0)])]))])]),c(k,{ref:"ps_loading_dialog",class:"z-40"},null,512)],64)}var Qo=E(q,[["render",ao]]);export{Qo as default};
